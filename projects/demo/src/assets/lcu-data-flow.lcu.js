!function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}();
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,(function(e){return t[e]}).bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({0:function(t,e,n){t.exports=n("zUnb")},"5EX2":function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},"9HG0":function(t,e,n){var i;!function(r,o,s,a){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function m(t,e,n){return setTimeout(C(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var b=y((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),_=y((function(t,e){return b(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function E(t,e){return t===a?e:t}function S(t,e,n){v(A(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){v(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function D(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function j(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];T(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function O(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:e)in t)return i;o++}return a}var M=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var N="ontouchstart"in r,F=O(r,"PointerEvent")!==a,L=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=25,z=1,U=2,B=4,H=8,G=1,$=2,W=4,q=8,Y=16,Z=$|W,X=q|Y,K=Z|X,Q=["x","y"],J=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&z&&i-r==0,s=e&(B|H)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=nt(e)),r>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,l=s?s.center:o.center,u=e.center=it(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(l,u),e.distance=st(l,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==z&&o.eventType!==B||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c,h,d=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=s?(c=s.pointers,st((h=i)[0],h[1],J)/st(c[0],c[1],J)):1,e.rotation=s?function(t,e){return at(e[1],e[0],J)+at(t[1],t[0],J)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=H&&(l>V||s.velocity===a)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,h=rt(l,u,c);i=h.x,r=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=ot(u,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var m=t.element;P(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?$:W:e<0?q:Y}function st(t,e,n){n||(n=Q);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function at(t,e,n){return n||(n=Q),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(R(this.element),this.evWin,this.domHandler)}};var lt={mousedown:z,mousemove:U,mouseup:B},ut="mousedown",ct="mousemove mouseup";function ht(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}w(ht,tt,{handler:function(t){var e=lt[t.type];e&z&&0===t.button&&(this.pressed=!0),e&U&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:z,pointermove:U,pointerup:B,pointercancel:H,pointerout:H},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ft="pointerdown",mt="pointermove pointerup pointercancel";function gt(){this.evEl=ft,this.evWin=mt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ft="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),w(gt,tt,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=dt[i],o=pt[t.pointerType]||t.pointerType,s="touch"==o,a=T(e,t.pointerId,"pointerId");r&z&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(B|H)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var vt={touchstart:z,touchmove:U,touchend:B,touchcancel:H},yt="touchstart",bt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=yt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}function wt(t,e){var n=I(t.touches),i=I(t.changedTouches);return e&(B|H)&&(n=j(n.concat(i),"identifier",!0)),[n,i]}w(_t,tt,{handler:function(t){var e=vt[t.type];if(e===z&&(this.started=!0),this.started){var n=wt.call(this,t,e);e&(B|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ct={touchstart:z,touchmove:U,touchend:B,touchcancel:H},xt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=xt,this.targetIds={},tt.apply(this,arguments)}function St(t,e){var n=I(t.touches),i=this.targetIds;if(e&(z|U)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=I(t.changedTouches),a=[],l=this.target;if(o=n.filter((function(t){return P(t.target,l)})),e===z)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(B|H)&&delete i[s[r].identifier],r++;return a.length?[j(o.concat(a),"identifier",!0),a]:void 0}w(Et,tt,{handler:function(t){var e=Ct[t.type],n=St.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var kt=2500,Pt=25;function Dt(){tt.apply(this,arguments);var t=C(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function At(t,e){t&z?(this.primaryTouch=e.changedPointers[0].identifier,Tt.call(this,e)):t&(B|H)&&Tt.call(this,e)}function Tt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),kt)}}function It(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=Pt&&s<=Pt)return!0}return!1}w(Dt,tt,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)At.call(this,e,n);else if(i&&It.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var jt=O(c.style,"touchAction"),Ot=jt!==a,Mt=function(){if(!Ot)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ot&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(D(t,"none"))return"none";var e=D(t,"pan-x"),n=D(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":D(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=D(i,"none")&&!Mt.none,o=D(i,"pan-y")&&!Mt["pan-y"],s=D(i,"pan-x")&&!Mt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return r||o&&n&Z||s&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1,Ft=2,Lt=4,Vt=8,zt=Vt,Ut=16;function Bt(t){this.options=l({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function Ht(t){return t&Ut?"cancel":t&Vt?"end":t&Lt?"move":t&Ft?"start":""}function Gt(t){return t==Y?"down":t==q?"up":t==$?"left":t==W?"right":""}function $t(t,e){var n=e.manager;return n?n.get(t):t}function Wt(){Bt.apply(this,arguments)}function qt(){Wt.apply(this,arguments),this.pX=null,this.pY=null}function Yt(){Wt.apply(this,arguments)}function Zt(){Bt.apply(this,arguments),this._timer=null,this._input=null}function Xt(){Wt.apply(this,arguments)}function Kt(){Wt.apply(this,arguments)}function Qt(){Bt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Jt.defaults.preset),new te(t,e)}function te(t,e){var n;this.options=l({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(F?gt:L?Et:N?Dt:ht))(n,et),this.touchAction=new Rt(this,this.options.touchAction),ee(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,(function(r,o){n=O(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Bt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=$t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=$t(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=$t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=$t(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Vt&&i(e.options.event+Ht(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Vt&&i(e.options.event+Ht(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(zt|Ut|32)&&(this.state=Nt),this.state=this.process(e),this.state&(Ft|Lt|Vt|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Wt,Bt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Ft|Lt),r=this.attrTest(t);return i&&(n&H||!r)?e|Ut:i||r?n&B?e|Vt:e&Ft?e|Lt:Ft:32}}),w(qt,Wt,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&Z&&e.push("pan-y"),t&X&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Z?(r=0===o?G:o<0?$:W,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?G:s<0?q:Y,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Wt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Yt,Wt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(Zt,Bt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(B|H)&&!r)this.reset();else if(t.eventType&z)this.reset(),this._timer=m((function(){this.state=zt,this.tryEmit()}),e.time,this);else if(t.eventType&B)return zt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===zt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Xt,Wt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),w(Kt,Wt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|X,pointers:1},getTouchAction:function(){return qt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Z|X)?e=t.overallVelocity:n&Z?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Qt,Bt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&z&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=zt,this.tryEmit()}),e.interval,this),Ft):zt}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==zt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xt,{enable:!1}],[Yt,{enable:!1},["rotate"]],[Kt,{direction:Z}],[qt,{direction:Z},["swipe"]],[Qt],[Qt,{event:"doubletap",taps:2},["tap"]],[Zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&zt)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Ft|Lt|Vt)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Bt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return v(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==a){var n=this.handlers;return v(A(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Jt,{INPUT_START:z,INPUT_MOVE:U,INPUT_END:B,INPUT_CANCEL:H,STATE_POSSIBLE:Nt,STATE_BEGAN:Ft,STATE_CHANGED:Lt,STATE_ENDED:Vt,STATE_RECOGNIZED:zt,STATE_CANCELLED:Ut,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:$,DIRECTION_RIGHT:W,DIRECTION_UP:q,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:X,DIRECTION_ALL:K,Manager:te,Input:tt,TouchAction:Rt,TouchInput:Et,MouseInput:ht,PointerEventInput:gt,TouchMouseInput:Dt,SingleTouchInput:_t,Recognizer:Bt,AttrRecognizer:Wt,Tap:Qt,Pan:qt,Swipe:Kt,Pinch:Yt,Rotate:Xt,Press:Zt,on:S,off:k,each:v,merge:_,extend:b,assign:l,inherit:w,bindFn:C,prefixed:O}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Jt,(i=(function(){return Jt}).call(e,n,e,t))===a||(t.exports=i)}(window,document)},FGo3:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"Qt/4":function(t,e,n){(function(){var t="jtk-drag-drop-active",n="jtk-drag-drop-hover",i=function(){function e(e){var i=this;this.viewportPosition=null,this._translateX=0,this._translateY=0,this.surface=e.surface,this._jsPlumb=this.surface.getJsPlumb(),this.toolkit=this.surface.getToolkit(),this.surfaceCanvas=this.surface.getContainer(),this.enabled=!1!==e.enabled,this.source=e.source,this.selector=e.selector,this.scope=e.scope||jsPlumbUtil.uuid(),this.dropFilter=e.dropFilter||function(t,e){return!0},this.canvasDropFilter=e.canvasDropFilter||function(t){return!0},this.edgeDropFilter=e.edgeDropFilter||function(t,e){return!0},this.onDrag=e.onDrag,this.onDrop=e.onDrop,this.onEdgeDrop=e.onEdgeDrop,this.onCanvasDrop=e.onCanvasDrop,this.dragActiveClass=e.dragActiveClass||t,this.dragHoverClass=e.dragHoverClass||n,this.currentNodeList=[],this.dataGenerator=e.dataGenerator||function(){return{}},this.canvasMoveListener=function(t){i.isCurrentlyOnCanvasElement=(t.srcElement||t.target)===i.surfaceCanvas},this.canvasMouseOutListener=function(t){i.isCurrentlyOnCanvasElement=!1},this.katavorio=new Katavorio({bind:(function(){this._jsPlumb.on.apply(this._jsPlumb,arguments)}).bind(this),unbind:(function(){this._jsPlumb.off.apply(this._jsPlumb,arguments)}).bind(this),getSize:function(t){return i._jsPlumb.getSize(t)},getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(t){return[parseInt(t.style.left,10),parseInt(t.style.top,10)]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:(function(){this._jsPlumb.addClass.apply(this._jsPlumb,arguments)}).bind(this),removeClass:(function(){this._jsPlumb.removeClass.apply(this._jsPlumb,arguments)}).bind(this),intersects:Biltong.intersects,indexOf:function(t,e){return t.indexOf(e)},scope:this.scope,css:{draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}}),this.katavorio.draggable(this.source,{scope:this.scope,clone:!0,start:function(t){if(!i.enabled)return!1;var e=t.drag.getDragElement();e.style.pointerEvents="none",i.candidateData=i.dataGenerator(e),i.currentNodeList.length=0,i.candidate=null,i._adjustForTransformations(),i.onDrop&&i.getAllNodesAndGroups().forEach((function(t){var e=i.surface.getRenderedElement(t);e&&(i.dropFilter(i.candidateData,t)?(i.currentNodeList.push([t,e]),i._jsPlumb.addClass(e,i.dragActiveClass)):i._jsPlumb.removeClass(e,i.dragActiveClass))})),i.currentEdgeList=i.onEdgeDrop?i.getAllConnectors(i.candidateData):[],i.onCanvasDrop&&i.canvasDropFilter(i.candidateData)&&(i.canDropOnCanvas=!0,i.isCurrentlyOnCanvasElement=!1,i._jsPlumb.on(i.surfaceCanvas,"mousemove",i.canvasMoveListener),i._jsPlumb.on(i.surfaceCanvas,"mouseout",i.canvasMouseOutListener))},stop:function(t){i._jsPlumb.off(i.surfaceCanvas,"mousemove",i.canvasMoveListener),i._jsPlumb.off(i.surfaceCanvas,"mouseout",i.canvasMouseOutListener),i._cleanupClasses();var e=i.surface.mapLocation(i.viewportPosition[0],i.viewportPosition[1]);if(i.candidate){if(i.candidate.edge&&i.onEdgeDrop)i.onEdgeDrop(i.candidateData,i.candidate.edge,t.el,t.e,t.pos,e);else if(i.onDrop){var n=void 0,r=i.candidate.el.jtk.group||i.candidate.el.jtk.node;if("Group"===r.objectType){var o=i.surface.getJsPlumb().getGroup(r.id);n=i.surface.getJsPlumb().getOffset(o.getDragArea())}else n=i.surface.getJsPlumb().getOffset(i.candidate.el);i.onDrop(i.candidateData,r,t.el,t.e,t.pos,e,n,{left:e.left-n.left,top:e.top-n.top})}}else i.canDropOnCanvas&&i.isCurrentlyOnCanvasElement&&null!=i.viewportPosition&&i.onCanvasDrop&&i.onCanvasDrop(i.candidateData,e,t.el,t.e,t.pos);i.isCurrentlyOnCanvasElement=!1},drag:function(t){i._cleanupClasses(!0);var e=[t.pos[0]-i._translateX,t.pos[1]-i._translateY];i.viewportPosition=e,i.candidate=null;var n=i.surface.mapLocation.apply(i.surface,e);if(i.onDrop){var r=i.surface.findIntersectingNodes(e,t.drag.size,!1);i.candidate=r.filter((function(t){return jsPlumbUtil.findWithFunction(i.currentNodeList,(function(e){return e[1]===t.el}))>-1}))[0]}if(!i.candidate&&i.onEdgeDrop)for(var o=i.surface.getZoom(),s={x:n.left,y:n.top,w:t.drag.size[0]/o,h:t.drag.size[1]/o},a=0;a<i.currentEdgeList.length;a++){var l=i.currentEdgeList[a],u=l.r,c=l.connector;if(Biltong.intersects(s,u)&&c.boundingBoxIntersection({x:s.x-u.x,y:s.y-u.y,w:s.w,h:s.h}).length>0){i.candidate=l;break}}i.candidate?i._jsPlumb.addClass(i.candidate.el,i.dragHoverClass):i.canDropOnCanvas&&(i.isCurrentlyOnCanvasElement&&i.surface.isInViewport(e[0],e[1])?(i.viewportPosition=e,i._jsPlumb.addClass(i.surfaceCanvas,i.dragHoverClass)):i._jsPlumb.addClass(i.surface.getContainer(),i.dragActiveClass)),i.onDrag&&i.onDrag(i.candidateData,t.e,e,n)},selector:this.selector})}return e.prototype.setEnabled=function(t){this.enabled=t},e.prototype.getAllNodesAndGroups=function(){var t=[];return Array.prototype.push.apply(t,this.toolkit.getNodes()),Array.prototype.push.apply(t,this.toolkit.getGroups()),t},e.prototype._adjustForTransformations=function(){var t=0,e=0,n=function(i){if(null!=i&&i!==document.body){var r=window.getComputedStyle(i).transform.match(/(-?[0-9\.]+)/g);r&&(t+=parseInt(r[4],10),e+=parseInt(r[5],10)),n(i.parentNode)}};n(this.surface.getJsPlumb().getContainer()),this._translateX=t,this._translateY=e},e.prototype.getAllConnectors=function(t){var e=this,n=[];return this.surface.getJsPlumb().select().each((function(i){if(i.edge&&e.edgeDropFilter(t,i.edge)){var r=i.getConnector(),o=i.getConnector().canvas,s={x:parseInt(o.style.left,10),y:parseInt(o.style.top,10),w:parseInt(o.getAttribute("width"),10),h:parseInt(o.getAttribute("height"),10)};n.push({connection:i,connector:r,el:o,r:s,id:i.edge.id,edge:i.edge}),e._jsPlumb.addClass(o,e.dragActiveClass)}})),n},e.prototype._cleanupClasses=function(t){var e=this;this.currentNodeList.forEach((function(n){t||e._jsPlumb.removeClass(n[1],e.dragActiveClass),e._jsPlumb.removeClass(n[1],e.dragHoverClass)})),this.currentEdgeList.forEach((function(n){t||e._jsPlumb.removeClass(n.el,e.dragActiveClass),e._jsPlumb.removeClass(n.el,e.dragHoverClass)})),this._jsPlumb.removeClass(this.surfaceCanvas,this.dragActiveClass),this._jsPlumb.removeClass(this.surfaceCanvas,this.dragHoverClass)},e}(),r=function(){function t(t){var e=this;this.surface=t.surface,this.toolkit=this.surface.getToolkit(),this.modelPositionAttributes=this.surface.getModelPositionAttributes(),this.typeGenerator=t.typeGenerator||function(t){return t.type},this.groupIdentifier=t.groupIdentifier||function(t,e){return"true"===e.getAttribute("jtk-is-group")},this.allowDropOnEdge=!1!==t.allowDropOnEdge,this.allowDropOnGroup=!1!==t.allowDropOnGroup,this.allowDropOnCanvas=!1!==t.allowDropOnCanvas,this.magnetize=!1!==t.magnetize,this.dropManager=new i({surface:this.surface,onCanvasDrop:this.allowDropOnCanvas?function(t,n,i,r,o){var s=e.typeGenerator(t),a=e.groupIdentifier(t,i),l=e._mapToPositionAttributes({left:n.left,top:n.top},t);a?e.toolkit.addFactoryGroup(s,l,(function(t){e.surface.setPosition(t,n.left,n.top)})):e.toolkit.addFactoryNode(s,l,(function(t){e.surface.setPosition(t,n.left,n.top)}))}:null,onDrop:function(t,n,i,r,o,s,a,l){if(e.allowDropOnGroup){var u=e.groupIdentifier(t,i);if("Group"===n.objectType&&!u){var c=e.typeGenerator(t),h=e._mapToPositionAttributes({group:n.id,left:l.left,top:l.top},t);e.toolkit.addFactoryNode(c,h,(function(t){e.surface.setPosition(t,l.left,l.top)}))}}},onEdgeDrop:this.allowDropOnEdge?function(t,n,i,r,o,s){var a=e.typeGenerator(t),l=e._mapToPositionAttributes({left:s.left,top:s.top},t),u=function(t){var i=n.source,r=n.target;e.toolkit.removeEdge(n),e.toolkit.addEdge({source:i,target:t}),e.toolkit.addEdge({source:t,target:r}),!1!==e.magnetize?e.surface.setMagnetizedPosition(t,s.left,s.top):e.surface.setPosition(t,s.left,s.top)};e.groupIdentifier(t,i)?e.toolkit.addFactoryGroup(a,l,u):e.toolkit.addFactoryNode(a,l,u)}:null,source:t.source,selector:t.selector,dataGenerator:t.dataGenerator})}return t.prototype._mapToPositionAttributes=function(t,e){var n={};for(var i in t)"left"===i?n[this.modelPositionAttributes[0]]=t[i]:"top"===i?n[this.modelPositionAttributes[1]]=t[i]:n[i]=t[i];return jsPlumb.extend(n,e),n},t.prototype.setEnabled=function(t){this.dropManager.setEnabled(t)},t}();this.jsPlumbToolkitDropManager=i,this.SurfaceDropManager=r,e.jsPlumbToolkitDropManager=i,e.SurfaceDropManager=r}).call("undefined"!=typeof window?window:this)},aiQ1:function(t,e,n){var i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])f(l)||!b(l)?a+=" "+l:a+=" "+s(l);return a},e.deprecate=function(t,n){if(v(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var r,o={};function s(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),u(i,t,i.depth)}function a(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function l(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=u(t,r,i)),r}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(C(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return c(n)}var l,b="",x=!1,E=["{","}"];return d(n)&&(x=!0,E=["[","]"]),C(n)&&(b=" [Function"+(n.name?": "+n.name:"")+"]"),y(n)&&(b=" "+RegExp.prototype.toString.call(n)),_(n)&&(b=" "+Date.prototype.toUTCString.call(n)),w(n)&&(b=" "+c(n)),0!==s.length||x&&0!=n.length?i<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=x?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)P(e,String(s))?o.push(h(t,e,n,i,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(h(t,e,n,i,r,!0))})),o}(t,n,i,a,s):s.map((function(e){return h(t,n,i,a,e,x)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,b,E)):E[0]+b+E[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=t.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),P(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=f(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function f(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===x(t)}function b(t){return"object"==typeof t&&null!==t}function _(t){return b(t)&&"[object Date]"===x(t)}function w(t){return b(t)&&("[object Error]"===x(t)||t instanceof Error)}function C(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(r)&&(r=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=process.pid;o[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=f,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=b,e.isDate=_,e.isError=w,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("FGo3");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n("5EX2"),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},c5UZ:function(t,e,n){(function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},n=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i=Math.pow(2,-65),r=function(e,i){for(var r=[],a=o(e,i),l=i.length-1,u=s(a,2*l-1,r,0),h=t(e,i[0]),d=n(h),p=0,f=0;f<u;f++){h=t(e,c(i,l,r[f],null,null));var m=n(h);m<d&&(d=m,p=r[f])}return h=t(e,i[l]),(m=n(h))<d&&(d=m,p=1),{location:p,distance:d}},o=function(e,n){for(var i=n.length-1,r=2*i-1,o=[],s=[],a=[],l=[],u=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=i;c++)o[c]=t(n[c],e);for(c=0;c<=i-1;c++)s[c]=t(n[c+1],n[c]),s[c]={x:(h=s[c]).x*3,y:3*h.y};for(var h,d,p,f=0;f<=i-1;f++)for(var m=0;m<=i;m++)a[f]||(a[f]=[]),a[f][m]=(d=s[f]).x*(p=o[m]).x+d.y*p.y;for(c=0;c<=r;c++)l[c]||(l[c]=[]),l[c].y=0,l[c].x=parseFloat(c)/r;for(var g=i,v=i-1,y=0;y<=g+v;y++){var b=Math.max(0,y-v),_=Math.min(y,g);for(c=b;c<=_;c++){var w=y-c;l[c+w].y+=a[w][c]*u[w][c]}}return l},s=function(t,e,n,i){var r,o,h=[],d=[],p=[],f=[];switch(a(t,e)){case 0:return 0;case 1:if(i>=64)return n[0]=(t[0].x+t[e].x)/2,1;if(l(t,e))return n[0]=u(t,e),1}c(t,e,.5,h,d),r=s(h,e,p,i+1),o=s(d,e,f,i+1);for(var m=0;m<r;m++)n[m]=p[m];for(m=0;m<o;m++)n[m+r]=f[m];return r+o},a=function(t,e){var n,i,r=0;n=i=Math.sgn(t[0].y);for(var o=1;o<=e;o++)(n=Math.sgn(t[o].y))!=i&&r++,i=n;return r},l=function(t,e){var n,r,o,s,a,l,u,c,h;s=t[0].y-t[e].y,a=t[e].x-t[0].x,l=t[0].x*t[e].y-t[e].x*t[0].y,c=h=0;for(var d=1;d<e;d++){var p=s*t[d].x+a*t[d].y+l;p>c?c=p:p<h&&(h=p)}return n=(1*(l-c)-0*(u=a))*(1/(0*u-1*s)),r=(1*(l-h)-0*(u=a))*(1/(0*u-1*s)),o=Math.min(n,r),Math.max(n,r)-o<i?1:0},u=function(t,e){var n=t[e].x-t[0].x,i=t[e].y-t[0].y;return 0+1/(0*n-1*i)*(n*(t[0].y-0)-i*(t[0].x-0))*1},c=function(t,e,n,i,r){for(var o=[[]],s=0;s<=e;s++)o[0][s]=t[s];for(var a=1;a<=e;a++)for(s=0;s<=e-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-n)*o[a-1][s].x+n*o[a-1][s+1].x,o[a][s].y=(1-n)*o[a-1][s].y+n*o[a-1][s+1].y;if(null!=i)for(s=0;s<=e;s++)i[s]=o[s][0];if(null!=r)for(s=0;s<=e;s++)r[s]=o[e-s][s];return o[e][0]},h={},d=function(t,e){for(var n=function(t){var e=h[t];if(!e){var n=function(t){return function(e){return t}},i=function(){return function(t){return t}},r=function(){return function(t){return 1-t}},o=function(t){return function(e){for(var n=1,i=0;i<t.length;i++)n*=t[i](e);return n}};(e=[]).push(new function(){return function(e){return Math.pow(e,t)}});for(var s=1;s<t;s++){for(var a=[new n(t)],l=0;l<t-s;l++)a.push(new i);for(l=0;l<s;l++)a.push(new r);e.push(new o(a))}e.push(new function(){return function(e){return Math.pow(1-e,t)}}),h[t]=e}return e}(t.length-1),i=0,r=0,o=0;o<t.length;o++)i+=t[o].x*n[o](e),r+=t[o].y*n[o](e);return{x:i,y:r}},p=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=function(t){return t[0].x===t[1].x&&t[0].y===t[1].y},m=function(t,e,n){if(f(t))return{point:t[0],location:e};for(var i=d(t,e),r=0,o=e,s=n>0?1:-1,a=null;r<Math.abs(n);)a=d(t,o+=.005*s),r+=p(a,i),i=a;return{point:a,location:o}},g=function(t,e){var n=d(t,e),i=d(t.slice(0,t.length-1),e),r=i.y-n.y;return 0===r?1/0:Math.atan(r/(i.x-n.x))},v=function(t,e,n,i,r){var o=i-e,s=t-n,a=t*(e-i)+e*(n-t),l=function(t){return[y(t,"x"),y(t,"y")]}(r),u=_.apply(null,[o*l[0][0]+s*l[1][0],o*l[0][1]+s*l[1][1],o*l[0][2]+s*l[1][2],o*l[0][3]+s*l[1][3]+a]),c=[];if(null!=u)for(var h=0;h<3;h++){var d,p=u[h],f=Math.pow(p,2),m=Math.pow(p,3),g=[l[0][0]*m+l[0][1]*f+l[0][2]*p+l[0][3],l[1][0]*m+l[1][1]*f+l[1][2]*p+l[1][3]];d=n-t!=0?(g[0]-t)/(n-t):(g[1]-e)/(i-e),p>=0&&p<=1&&d>=0&&d<=1&&c.push(g)}return c};function y(t,e){return[3*t[1][e]-t[0][e]+-3*t[2][e]+t[3][e],3*t[0][e]-6*t[1][e]+3*t[2][e],-3*t[0][e]+3*t[1][e],t[0][e]]}function b(t){return t<0?-1:t>0?1:0}function _(t,e,n,i){var r,o,s=e/t,a=n/t,l=i/t,u=(3*a-Math.pow(s,2))/9,c=(9*s*a-27*l-2*Math.pow(s,3))/54,h=Math.pow(u,3)+Math.pow(c,2),d=[];if(h>=0)r=b(c+Math.sqrt(h))*Math.pow(Math.abs(c+Math.sqrt(h)),1/3),o=b(c-Math.sqrt(h))*Math.pow(Math.abs(c-Math.sqrt(h)),1/3),d[0]=-s/3+(r+o),d[1]=-s/3-(r+o)/2,d[2]=-s/3-(r+o)/2,0!==Math.abs(Math.sqrt(3)*(r-o)/2)&&(d[1]=-1,d[2]=-1);else{var p=Math.acos(c/Math.sqrt(-Math.pow(u,3)));d[0]=2*Math.sqrt(-u)*Math.cos(p/3)-s/3,d[1]=2*Math.sqrt(-u)*Math.cos((p+2*Math.PI)/3)-s/3,d[2]=2*Math.sqrt(-u)*Math.cos((p+4*Math.PI)/3)-s/3}for(var f=0;f<3;f++)(d[f]<0||d[f]>1)&&(d[f]=-1);return d}var w=this.jsBezier={distanceFromCurve:r,gradientAtPoint:g,gradientAtPointAlongCurveFrom:function(t,e,n){var i=m(t,e,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),g(t,i.location)},nearestPointOnCurve:function(t,e){var n=r(t,e);return{point:c(e,e.length-1,n.location,null,null),location:n.location}},pointOnCurve:d,pointAlongCurveFrom:function(t,e,n){return m(t,e,n).point},perpendicularToCurveAt:function(t,e,n,i){var r=m(t,e,i=null==i?0:i),o=g(t,r.location),s=Math.atan(-1/o),a=n/2*Math.sin(s),l=n/2*Math.cos(s);return[{x:r.point.x+l,y:r.point.y+a},{x:r.point.x-l,y:r.point.y-a}]},locationAlongCurveFrom:function(t,e,n){return m(t,e,n).location},getLength:function(t){if(f(t))return 0;for(var e=d(t,0),n=0,i=0,r=null;i<1;)r=d(t,i+=.005),n+=p(r,e),e=r;return n},lineIntersection:v,boxIntersection:function(t,e,n,i,r){var o=[];return o.push.apply(o,v(t,e,t+n,e,r)),o.push.apply(o,v(t+n,e,t+n,e+i,r)),o.push.apply(o,v(t+n,e+i,t,e+i,r)),o.push.apply(o,v(t,e+i,t,e,r)),o},boundingBoxIntersection:function(t,e){var n=[];return n.push.apply(n,v(t.x,t.y,t.x+t.w,t.y,e)),n.push.apply(n,v(t.x+t.w,t.y,t.x+t.w,t.y+t.h,e)),n.push.apply(n,v(t.x+t.w,t.y+t.h,t.x,t.y+t.h,e)),n.push.apply(n,v(t.x,t.y+t.h,t.x,t.y,e)),n},version:"0.9.0"};e.jsBezier=w}).call("undefined"!=typeof window?window:this),(function(){"use strict";function t(t,e,n,i,r,o,s,a){return new Touch({target:e,identifier:T(),pageX:n,pageY:i,screenX:r,screenY:o,clientX:s||r,clientY:a||o})}function n(e,n,i,r,o,s,a,l){return function(){var t=[];return Array.prototype.push.apply(t,arguments),t.item=function(t){return this[t]},t}(t.apply(null,arguments))}var i=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},r=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},o=function(t){return t.srcElement||t.target},s=function(t,e,n,i){if(i){if(void 0!==t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(n)};var r={path:[],end:-1},o=function(t){r.path.push(t),t===n?r.end=r.path.length-1:null!=t.parentNode&&o(t.parentNode)};return o(e),r}return{path:[e],end:1}},a=function(t,e){for(var n=0,i=t.length;n<i&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},l=1,u=function(t,e,n){var i=l++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][i]=n,n.__tauid=i,i},c=function(t,e,n,r){if(null==t)return n;var a=t.split(","),l=function(r){l.__tauid=n.__tauid;var u=o(r),c=u,h=s(r,u,e,null!=t);if(-1!=h.end)for(var d=0;d<h.end;d++){c=h.path[d];for(var p=0;p<a.length;p++)i(c,a[p],e)&&n.apply(c,arguments)}};return h(n,r,l),l},h=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},d=function(t,e,n,i){if(v&&b[e]){var r=c(i,t,n,b[e]);P(t,b[e],r,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),P(t,e,c(i,t,n,e),n)},p={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},f=function(t,e){return function(n,r,l,u){if("contextmenu"==r&&y)d(n,r,l,u);else{if(null==n.__taTapHandler){var c=n.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},h=function(){c.down=!1},f=function(){c.taps=0};d(n,"mousedown",(function(r){for(var a=o(r),l=s(r,a,n,null!=u),d=!1,p=0;p<l.end;p++){if(d)return;a=l.path[p];for(var m=0;m<c.downSelectors.length;m++)if(null==c.downSelectors[m]||i(a,c.downSelectors[m],n)){c.down=!0,setTimeout(h,t),setTimeout(f,e),d=!0;break}}})),d(n,"mouseup",(function(t){if(c.down){var e,r,a=o(t);c.taps++;var l=k(t);for(var u in p)if(p.hasOwnProperty(u)){var h=p[u];if(h.touches===l&&(1===h.taps||h.taps===c.taps))for(var d=0;d<c[u].length;d++){r=s(t,a,n,null!=c[u][d][1]);for(var f=0;f<r.end;f++)if(e=r.path[f],null==c[u][d][1]||i(e,c[u][d][1],n)){c[u][d][0].apply(e,[t]);break}}}}}))}n.__taTapHandler.downSelectors.push(u),n.__taTapHandler[r].push([l,u]),l.__taUnstore=function(){a(n.__taTapHandler[r],l)}}}},m=function(t,e,n,i){for(var r in n.__tamee[t])n.__tamee[t].hasOwnProperty(r)&&n.__tamee[t][r].apply(i,[e])},g=function(){var t=[];return function(e,n,r,s){if(!e.__tamee){e.__tamee={over:!1,mouseenter:[],mouseexit:[]};var a=function(n){var r=o(n);(null==s&&r==e&&!e.__tamee.over||i(r,s,e)&&(null==r.__tamee||!r.__tamee.over))&&(m("mouseenter",n,e,r),r.__tamee=r.__tamee||{},r.__tamee.over=!0,t.push(r))},l=function(n){for(var r=o(n),s=0;s<t.length;s++)r!=t[s]||i(n.relatedTarget||n.toElement,"*",r)||(r.__tamee.over=!1,t.splice(s,1),m("mouseexit",n,e,r))};P(e,"mouseover",c(s,e,a,"mouseover"),a),P(e,"mouseout",c(s,e,l,"mouseout"),l)}r.__taUnstore=function(){delete e.__tamee[n][r.__tauid]},u(e,n,r),e.__tamee[n][r.__tauid]=r}},v="ontouchstart"in document.documentElement,y="onmousedown"in document.documentElement,b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},_=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),w=_>-1&&_<9,C=function(t,e){if(null==t)return[0,0];var n=S(t),i=E(n,0);return[i[e+"X"],i[e+"Y"]]},x=function(t){return null==t?[0,0]:w?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:C(t,"page")},E=function(t,e){return t.item?t.item(e):t[e]},S=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},k=function(t){return S(t).length},P=function(t,e,n,i){if(u(t,e,n),i.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var r=e+n.__tauid;t["e"+r]=n,t[r]=function(){t["e"+r]&&t["e"+r](window.event)},t.attachEvent("on"+e,t[r])}},D=function(t,e,n){null!=n&&A(t,(function(){var i=r(this);if(function(t,e,n){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)D(t,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(i,e,n),null!=n.__tauid)if(i.removeEventListener)i.removeEventListener(e,n,!1),v&&b[e]&&i.removeEventListener(b[e],n,!1);else if(this.detachEvent){var o=e+n.__tauid;i[o]&&i.detachEvent("on"+e,i[o]),i[o]=null,i["e"+o]=null}n.__taTouchProxy&&D(t,n.__taTouchProxy[1],n.__taTouchProxy[0])}))},A=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}},T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))};this.Mottle=function(t){var e=(t=t||{}).clickThreshold||250,i=t.dblClickThreshold||450,s=new g,l=new f(e,i),u=t.smartClicks,c=function(t,e,n,i){null!=n&&A(t,(function(){var t=r(this);u&&"click"===e?function(t,e,n,i){null==t.__taSmartClicks&&(d(t,"mousedown",(function(e){t.__tad=x(e)}),i),d(t,"mouseup",(function(e){t.__tau=x(e)}),i),d(t,"click",(function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(o(e),[e])}),i),t.__taSmartClicks=[]),t.__taSmartClicks.push(n),n.__taUnstore=function(){a(t.__taSmartClicks,n)}}(t,0,n,i):"tap"===e||"dbltap"===e||"contextmenu"===e?l(t,e,n,i):"mouseenter"===e||"mouseexit"==e?s(t,e,n,i):d(t,e,n,i)}))};this.remove=function(t){return A(t,(function(){var t=r(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var n in t.__ta[e])t.__ta[e].hasOwnProperty(n)&&D(t,e,t.__ta[e][n]);t.parentNode&&t.parentNode.removeChild(t)})),this},this.on=function(t,e,n,i){var r=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return c(r,s,a,o),this},this.off=function(t,e,n){return D(t,e,n),this},this.trigger=function(t,e,i,o){var s=y&&("undefined"==typeof MouseEvent||null==i||i.constructor===MouseEvent),a=v&&!y&&b[e]?b[e]:e,l=!(v&&!y&&b[e]),u=x(i),c=C(i,"screen"),h=function(t){return C(t,"client")}(i);return A(t,(function(){var t,d=r(this);i=i||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var p=function(t){o&&(t.payload=o)},f={TouchEvent:function(t){var e=n(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1]);(t.initTouchEvent||t.initEvent)(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,e,e,e,1,0)},MouseEvents:function(t){t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,d)}};if(document.createEvent){var m=!l&&!s&&v&&b[e]?"TouchEvent":"MouseEvents";t=document.createEvent(m),f[m](t),p(t),d.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=h[0],t.clientY=h[1],p(t),d.fireEvent("on"+a,t))})),this}},this.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.Mottle.pageLocation=x,this.Mottle.setForceTouchEvents=function(t){v=t},this.Mottle.setForceMouseEvents=function(t){y=t},this.Mottle.version="0.8.0",e.Mottle=this.Mottle}).call("undefined"==typeof window?this:window),(function(){"use strict";var t=this.Biltong={version:"0.4.0"};e.Biltong=t;var n=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t,e,i){return i(t=n(t)?t:[t.x,t.y],e=n(e)?e:[e.x,e.y])},r=t.gradient=function(t,e){return i(t,e,(function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])}))},o=(t.normal=function(t,e){return-1/r(t,e)},t.lineLength=function(t,e){return i(t,e,(function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))}))},t.quadrant=function(t,e){return i(t,e,(function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4}))}),s=(t.theta=function(t,e){return i(t,e,(function(t,e){var n=r(t,e),i=Math.atan(n),s=o(t,e);return 4!=s&&3!=s||(i+=Math.PI),i<0&&(i+=2*Math.PI),i}))},t.intersects=function(t,e){var n=t.x,i=t.x+t.w,r=t.y,o=t.y+t.h,s=e.x,a=e.x+e.w,l=e.y,u=e.y+e.h;return n<=s&&s<=i&&r<=l&&l<=o||n<=a&&a<=i&&r<=l&&l<=o||n<=s&&s<=i&&r<=u&&u<=o||n<=a&&s<=i&&r<=u&&u<=o||s<=n&&n<=a&&l<=r&&r<=u||s<=i&&i<=a&&l<=r&&r<=u||s<=n&&n<=a&&l<=o&&o<=u||s<=i&&n<=a&&l<=o&&o<=u},t.encloses=function(t,e,n){var i=t.y,r=t.y+t.h,o=e.y,s=e.y+e.h,a=function(t,e,i,r){return n?t<=e&&i>=r:t<e&&i>r};return a(t.x,e.x,t.x+t.w,e.x+e.w)&&a(i,o,r,s)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var i=r(t,e),l=o(t,e),u=n>0?s[l]:a[l],c=Math.atan(i),h=Math.abs(n*Math.sin(c))*u[1],d=Math.abs(n*Math.cos(c))*u[0];return{x:t.x+d,y:t.y+h}},t.perpendicularLineTo=function(t,e,n){var i=r(t,e),o=Math.atan(-1/i),s=n/2*Math.sin(o),a=n/2*Math.cos(o);return[{x:e.x+a,y:e.y+s},{x:e.x-a,y:e.y-s}]}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},n=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},i=function(t,e){for(var n=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&n.push(t[i]);return n},r=function(t){return null!=t&&("string"==typeof t||t.constructor===String)},o=function(t){var e=t.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,s=e.left+o-(i.clientLeft||n.clientLeft||0);return{top:Math.round(e.top+r-(i.clientTop||n.clientTop||0)),left:Math.round(s)}},s=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},a=function(t,e,n){if(s(e,n,t))return e;for(var i=e.parentNode;null!=i&&i!==t;){if(s(i,n,t))return i;i=i.parentNode}},l=function(t,e,n){for(var i=null,r=e.getAttribute("katavorio-draggable"),o=null!=r?"[katavorio-draggable='"+r+"'] ":"",l=0;l<t.length;l++)if(null!=(i=a(e,n,o+t[l].selector))){if(t[l].filter){var u=s(n,t[l].filter,i);if(!0===t[l].filterExclude&&!u||u)return null}return[t[l],i]}return null},u=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),c=u>-1&&u<9,h=9===u,d=function(t){if(c)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=f(t),n=p(e,0);return h?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},p=function(t,e){return t.item?t.item(e):t[e]},f=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},m={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},g=["stop","start","drag","drop","over","out","beforeStart"],v=function(){},y=function(){return!0},b=function(t,e,n){for(var i=0;i<t.length;i++)t[i]!=n&&e(t[i])},_=function(t,e,n,i){b(t,(function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(i,e)}))},w=function(t,e){if(null!=t){t=r(t)||null!=t.tagName||null==t.length?[t]:t;for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},C=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},x=function(t,e,n){return!s(t.srcElement||t.target,n.getInputFilterSelector(),e)},E=function(t,e,n,i){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=A();var r=!0;return this.setEnabled=function(t){r=t},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var e={};for(var n in w(this.scopes,(function(t){e[t]=!0})),w(t?t.split(/\s+/):[],(function(t){e[t]=!0})),this.scopes=[],e)this.scopes.push(n)},this.removeScope=function(t){var e={};for(var n in w(this.scopes,(function(t){e[t]=!0})),w(t?t.split(/\s+/):[],(function(t){delete e[t]})),this.scopes=[],e)this.scopes.push(n)},this.toggleScope=function(t){var e={};for(var n in w(this.scopes,(function(t){e[t]=!0})),w(t?t.split(/\s+/):[],(function(t){e[t]?delete e[t]:e[t]=!0})),this.scopes=[],e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},S=function(){return!0},k=function(){return!1},P=function(t,e,n,i){this._class=n.draggable;var a=E.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var u,c,h,p,f=[0,0],g=null,v=null,b=[0,0],w=!1,P=[0,0],D=!1!==this.params.consumeStartEvent,I=this.el,j=this.params.clone,O=!1!==e.multipleDrop,M=!1,R=!0===e.ghostProxy?S:e.ghostProxy&&"function"==typeof e.ghostProxy?e.ghostProxy:k,N=function(t){return t.cloneNode(!0)},F=null,L=[],V=null,z=e.ghostProxyParent;if(e.selector){var U=t.getAttribute("katavorio-draggable");null==U&&(U=""+(new Date).getTime(),t.setAttribute("katavorio-draggable",U)),L.push(e)}var B,H=e.snapThreshold,G=function(t,e,n,i,r){var o=e*Math.floor(t[0]/e),s=o+e,a=Math.abs(t[0]-o)<=i?o:Math.abs(s-t[0])<=i?s:t[0],l=n*Math.floor(t[1]/n),u=l+n;return[a,Math.abs(t[1]-l)<=r?l:Math.abs(u-t[1])<=r?u:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){return null==this.params.grid?t:G(t,this.params.grid[0],this.params.grid[1],this.params.grid?this.params.grid[0]/2:H||5,this.params.grid?this.params.grid[1]/2:H||5)},this.snap=function(t,e){if(null!=I){t=t||(this.params.grid?this.params.grid[0]:10),e=e||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(I),i=G(n,t,e,this.params.grid?this.params.grid[0]/2:H,this.params.grid?this.params.grid[1]/2:H);return this.params.setPosition(I,i),i}},this.setUseGhostProxy=function(t){R=t?S:k};var $,W=function(t){return!1===e.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},q=(function(t){B="function"==typeof t?t:t?(function(t,e,n,i){return W([Math.max(0,Math.min(n.w-i[0],t[0])),Math.max(0,Math.min(n.h-i[1],t[1]))])}).bind(this):function(t){return W(t)}}).bind(this);q("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){q(t)},this.setRevert=function(t){$=t},this.params.revert&&($=this.params.revert);var Y=function(t){return"function"==typeof t?(t._katavorioId=A(),t._katavorioId):t},Z={},X=function(t){for(var e in Z){var n=Z[e],i=n[0](t);if(n[1]&&(i=!i),!i)return!1}return!0},K=this.setFilter=function(e,n){if(e){var i=Y(e);Z[i]=[function(n){var i,o=n.srcElement||n.target;return r(e)?i=s(o,e,t):"function"==typeof e&&(i=e(n,t)),i},!1!==n]}};this.addFilter=K,this.removeFilter=function(t){delete Z["function"==typeof t?t._katavorioId:t]},this.clearAllFilters=function(){Z={}},this.canDrag=this.params.canDrag||y;var Q,J=[],tt=[];this.addSelector=function(t){t.selector&&L.push(t)},this.downListener=(function(t){if(!t.defaultPrevented&&(this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(X(t)&&x(t,this.el,this.k)){if(V=null,F=null,L.length>0){var e=l(L,this.el,t.target||t.srcElement);if(null!=e&&(V=e[0],F=e[1]),null==F)return}else F=this.el;if(j)if(I=F.cloneNode(!0),this.params.addClass(I,m.clonedDrag),I.setAttribute("id",null),I.style.position="absolute",null!=this.params.parent){var i=this.params.getPosition(this.el);I.style.left=i[0]+"px",I.style.top=i[1]+"px",this.params.parent.appendChild(I)}else{var r=o(F);I.style.left=r.left+"px",I.style.top=r.top+"px",document.body.appendChild(I)}else I=F;D&&C(t),f=d(t),I&&I.parentNode&&(P=[I.parentNode.scrollLeft,I.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),a.markSelection(this),a.markPosses(this),this.params.addClass(document.body,n.noSelect),it("beforeStart",{el:this.el,pos:g,e:t,drag:this})}else this.params.consumeFilteredEvents&&C(t)}).bind(this),this.moveListener=(function(t){if(f){if(!w)if(!1!==it("start",{el:this.el,pos:g,e:t,drag:this})){if(!f)return;this.mark(!0),w=!0}else this.abort();if(f){tt.length=0;var e=d(t),n=e[0]-f[0],i=e[1]-f[1],r=this.params.ignoreZoom?1:a.getZoom();I&&I.parentNode&&(n+=I.parentNode.scrollLeft-P[0],i+=I.parentNode.scrollTop-P[1]),this.moveBy(n/=r,i/=r,t),a.updateSelection(n,i,this),a.updatePosses(n,i,this)}}}).bind(this),this.upListener=(function(t){f&&(f=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(t),a.unmarkSelection(this,t),a.unmarkPosses(this,t),this.stop(t),a.notifyPosseDragStop(this,t),w=!1,tt.length=0,j?(I&&I.parentNode&&I.parentNode.removeChild(I),I=null):$&&!0===$(I,this.params.getPosition(I))&&(this.params.setPosition(I,g),it("revert",I)))}).bind(this),this.getFilters=function(){return Z},this.abort=function(){null!=f&&this.upListener()},this.getDragElement=function(t){return t?F||this.el:I||this.el};var et={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};e.events.start&&et.start.push(e.events.start),e.events.beforeStart&&et.beforeStart.push(e.events.beforeStart),e.events.stop&&et.stop.push(e.events.stop),e.events.drag&&et.drag.push(e.events.drag),e.events.revert&&et.revert.push(e.events.revert),this.on=function(t,e){et[t]&&et[t].push(e)},this.off=function(t,e){if(et[t]){for(var n=[],i=0;i<et[t].length;i++)et[t][i]!==e&&n.push(et[t][i]);et[t]=n}};var nt,it=function(t,e){var n=null;if(V&&V[t])n=V[t](e);else if(et[t])for(var i=0;i<et[t].length;i++)try{var r=et[t][i](e);null!=r&&(n=r)}catch(o){}return n};this.notifyStart=function(t){it("start",{el:this.el,pos:this.params.getPosition(I),e:t,drag:this})},this.stop=function(t,e){if(e||w){var n=[],i=a.getSelection(),r=this.params.getPosition(I);if(i.length>0)for(var o=0;o<i.length;o++){var s=this.params.getPosition(i[o].el);n.push([i[o].el,{left:s[0],top:s[1]},i[o]])}else n.push([I,{left:r[0],top:r[1]},this]);it("stop",{el:I,pos:nt||r,finalPos:r,e:t,drag:this,selection:n})}},this.mark=function(t){var e;g=this.params.getPosition(I),v=this.params.getPosition(I,!0),b=[v[0]-g[0],v[1]-g[1]],this.size=this.params.getSize(I),J=a.getMatchingDroppables(this),_(J,!0,!1,this),this.params.addClass(I,this.params.dragClass||n.drag),e=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(I):this.params.getSize(I.parentNode),Q={w:e[0],h:e[1]},h=0,p=0,t&&a.notifySelectionDragStart(this)},this.unmark=function(t,i){if(_(J,!1,!0,this),M&&R(F,I)?(nt=[I.offsetLeft-h,I.offsetTop-p],I.parentNode.removeChild(I),I=F):nt=null,this.params.removeClass(I,this.params.dragClass||n.drag),J.length=0,M=!1,!i){tt.length>0&&nt&&e.setPosition(F,nt),tt.sort(T);for(var r=0;r<tt.length&&!0!==tt[r].drop(this,t);r++);}},this.moveBy=function(t,n,i){tt.length=0;var r=this.toGrid([g[0]+t,g[1]+n]),o=B(r,I,Q,this.size);if(R(this.el,I))if(r[0]!==o[0]||r[1]!==o[1]){if(!M){var s=N(F);e.addClass(s,m.ghostProxy),z?(z.appendChild(s),u=e.getPosition(F.parentNode,!0),c=e.getPosition(e.ghostProxyParent,!0),h=u[0]-c[0],p=u[1]-c[1]):F.parentNode.appendChild(s),I=s,M=!0}o=r}else M&&(I.parentNode.removeChild(I),I=F,M=!1,u=null,c=null,h=0,p=0);var a={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},l={x:a.x+b[0],y:a.y+b[1],w:a.w,h:a.h},d=null;this.params.setPosition(I,[o[0]+h,o[1]+p]);for(var f=0;f<J.length;f++)this.params.intersects(l,{x:J[f].pagePosition[0],y:J[f].pagePosition[1],w:J[f].size[0],h:J[f].size[1]})&&(O||null==d||d===J[f].el)&&J[f].canDrop(this)?(d||(d=J[f].el),tt.push(J[f]),J[f].setHover(this,!0,i)):J[f].isHover()&&J[f].setHover(this,!1,i);it("drag",{el:this.el,pos:o,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?K(this.params.handle,!1):K(this.params.filter,this.params.filterExclude)},D=function(t,e,n,i){this._class=n.droppable,this.params=e||{},this.rank=e.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,E.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return r},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,r!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),r=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},T=function(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:0},I=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor===String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||A(),t)};this.Katavorio=function(e){var o=[],s={};this._dragsByScope={},this._dropsByScope={};var a=1,l=function(t,e){w(t,(function(t){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)}))},u=function(t,n){var i=0;return w(t,(function(t){for(var r=0;r<t.scopes.length;r++)if(n[t.scopes[r]]){var o=e.indexOf(n[t.scopes[r]],t);-1!==o&&(n[t.scopes[r]].splice(o,1),i++)}})),i>0},c=(this.getMatchingDroppables=function(t){for(var e=[],n={},i=0;i<t.scopes.length;i++){var r=this._dropsByScope[t.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(t)||n[r[o].uuid]||!r[o].allowLoopback&&r[o].el===t.el||(n[r[o].uuid]=!0,e.push(r[o]))}return e.sort(T),e},(function(t){t=t||{};var n,i={events:{}};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];for(n=0;n<g.length;n++)i.events[g[n]]=t[g[n]]||v;return i.katavorio=this,i}).bind(this)),h=(function(t,e){for(var n=0;n<g.length;n++)e[g[n]]&&t.on(g[n],e[g[n]])}).bind(this),d={},p=e.css||{},f=e.scope||"katavorio-drag-scope";for(var y in m)d[y]=m[y];for(var y in p)d[y]=p[y];var _=e.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(t){return _=t,this},this.draggable=function(t,n){var i=[];return w(t,(function(t){if(null!=(t=I(t)))if(null==t._katavorioDrag){var r=c(n);t._katavorioDrag=new P(t,r,d,f),l(t._katavorioDrag,this._dragsByScope),i.push(t._katavorioDrag),e.addClass(t,r.selector?d.delegatedDraggable:d.draggable)}else h(t._katavorioDrag,n)}).bind(this)),i},this.droppable=function(t,n){var i=[];return w(t,(function(t){if(null!=(t=I(t))){var r=new D(t,c(n),d,f);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(r),l(r,this._dropsByScope),i.push(r),e.addClass(t,d.droppable)}}).bind(this)),i},this.select=function(t){return w(t,(function(){var t=I(this);t&&t._katavorioDrag&&(s[t._katavorio]||(o.push(t._katavorioDrag),s[t._katavorio]=[t,o.length-1],e.addClass(t,d.selected)))})),this},this.deselect=function(t){return w(t,(function(){var t=I(this);if(t&&t._katavorio&&s[t._katavorio]){for(var n=[],i=0;i<o.length;i++)o[i].el!==t&&n.push(o[i]);o=n,delete s[t._katavorio],e.removeClass(t,d.selected)}})),this},this.deselectAll=function(){for(var t in s)e.removeClass(s[t][0],d.selected);o.length=0,s={}},this.markSelection=function(t){b(o,(function(t){t.mark()}),t)},this.markPosses=function(t){t.posses&&w(t.posses,(function(e){t.posseRoles[e]&&k[e]&&b(k[e].members,(function(t){t.mark()}),t)}))},this.unmarkSelection=function(t,e){b(o,(function(t){t.unmark(e)}),t)},this.unmarkPosses=function(t,e){t.posses&&w(t.posses,(function(n){t.posseRoles[n]&&k[n]&&b(k[n].members,(function(t){t.unmark(e,!0)}),t)}))},this.getSelection=function(){return o.slice(0)},this.updateSelection=function(t,e,n){b(o,(function(n){n.moveBy(t,e)}),n)};var C=function(t,e){e.posses&&w(e.posses,(function(n){e.posseRoles[n]&&k[n]&&b(k[n].members,(function(e){t(e)}),e)}))};this.updatePosses=function(t,e,n){C((function(n){n.moveBy(t,e)}),n)},this.notifyPosseDragStop=function(t,e){C((function(t){t.stop(e,!0)}),t)},this.notifySelectionDragStop=function(t,e){b(o,(function(t){t.stop(e,!0)}),t)},this.notifySelectionDragStart=function(t,e){b(o,(function(t){t.notifyStart(e)}),t)},this.setZoom=function(t){a=t},this.getZoom=function(){return a};var x=function(t,e,n,i){w(t,(function(t){u(t,n),t[i](e),l(t,n)}))};w(["set","add","remove","toggle"],(function(t){this[t+"Scope"]=(function(e,n){x(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),x(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}).bind(this),this[t+"DragScope"]=(function(e,n){x(e.constructor===P?e:e._katavorioDrag,n,this._dragsByScope,t+"Scope")}).bind(this),this[t+"DropScope"]=(function(e,n){x(e.constructor===D?e:e._katavorioDrop,n,this._dropsByScope,t+"Scope")}).bind(this)}).bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)b(this._dragsByScope[n],(function(n){n.snap(t,e)}))},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var E=function(t,e,n){if((t=I(t))[e]){var i=o.indexOf(t[e]);i>=0&&o.splice(i,1),u(t[e],n)&&w(t[e],(function(t){t.destroy()})),delete t[e]}},S=function(t,e,n,i){(t=I(t))[e]&&t[e].off(n,i)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,e,n){1===arguments.length?E(t,"_katavorioDrag",this._dragsByScope):S(t,"_katavorioDrag",e,n)},this.destroyDroppable=function(t,e,n){1===arguments.length?E(t,"_katavorioDrop",this._dropsByScope):S(t,"_katavorioDrop",e,n)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},o=[],s={},k={}};var k={},A=function(e,n,i){var o,s=r(n)?n:n.id,a=!!r(n)||!1!==n.active,l=k[s]||(k[s]=o={name:s,members:[]},o);return w(e,(function(e){if(e._katavorioDrag){if(i&&null!=e._katavorioDrag.posseRoles[l.name])return;t(l.members,e._katavorioDrag),t(e._katavorioDrag.posses,l.name),e._katavorioDrag.posseRoles[l.name]=a}})),l};this.addToPosse=function(t,e){for(var n=[],i=1;i<arguments.length;i++)n.push(A(t,arguments[i]));return 1===n.length?n[0]:n},this.setPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(A(t,arguments[r],!0).name);return w(t,(function(t){if(t._katavorioDrag){var e=i(t._katavorioDrag.posses,n);Array.prototype.push.apply([],t._katavorioDrag.posses);for(var r=0;r<e.length;r++)this.removeFromPosse(t,e[r])}}).bind(this)),1===n.length?n[0]:n},this.removeFromPosse=function(t,e){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var i=1;i<arguments.length;i++)e=arguments[i],w(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var i=t._katavorioDrag;w(e,(function(t){n(k[t].members,i),n(i.posses,t),delete i.posseRoles[t]}))}}))},this.removeFromAllPosses=function(t){w(t,(function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;w(e.posses,(function(t){n(k[t].members,e)})),e.posses.length=0,e.posseRoles={}}}))},this.setPosseState=function(t,e,n){var i=k[e];i&&w(t,(function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=n)}))}},this.Katavorio.version="1.0.0",e.Katavorio=this.Katavorio}).call("undefined"!=typeof window?window:this),(function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var t=this.jsPlumbUtil;function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"string"==typeof t}function r(t){return"boolean"==typeof t}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"[object Date]"===Object.prototype.toString.call(t)}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}function l(t){if(i(t))return""+t;if(r(t))return!!t;if(s(t))return new Date(t.getTime());if(a(t))return t;if(n(t)){for(var e=[],u=0;u<t.length;u++)e.push(l(t[u]));return e}if(o(t)){var c={};for(var h in t)c[h]=l(t[h]);return c}return t}function u(t,e,s,a){var u,c,h={},d={};for(s=s||[],a=a||[],c=0;c<s.length;c++)h[s[c]]=!0;for(c=0;c<a.length;c++)d[a[c]]=!0;var p=l(t);for(c in e)if(null==p[c]||d[c])p[c]=e[c];else if(i(e[c])||r(e[c]))h[c]?((u=[]).push.apply(u,n(p[c])?p[c]:[p[c]]),u.push.apply(u,r(e[c])?e[c]:[e[c]]),p[c]=u):p[c]=e[c];else if(n(e[c]))u=[],n(p[c])&&u.push.apply(u,p[c]),u.push.apply(u,e[c]),p[c]=u;else if(o(e[c]))for(var f in o(p[c])||(p[c]={}),e[c])p[c][f]=e[c][f];return p}function c(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function h(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),-1!==n}function d(t,e,n,i){var r=t[e];return null==r&&(t[e]=r=[]),r[i?"unshift":"push"](n),r}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.logEnabled&&"undefined"!=typeof console)try{console.log(arguments[arguments.length-1])}catch(i){}}e.jsPlumbUtil=t,t.isArray=n,t.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},t.isString=i,t.isBoolean=r,t.isNull=function(t){return null==t},t.isObject=o,t.isDate=s,t.isFunction=a,t.isNamedFunction=function(t){return a(t)&&null!=t.name&&t.name.length>0},t.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},t.clone=l,t.merge=u,t.replace=function(t,e,n){if(null!=t){var i=t;return e.replace(/([^\.])+/g,(function(t,e,r,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return i[s[1]]||(i[s[1]]=[],i[s[1]])};if(r+t.length>=o.length)s?a()[s[3]]=n:i[t]=n;else if(s){var l=a();i=l[s[3]]||(l[s[3]]={},l[s[3]])}else i=i[t]||(i[t]={},i[t]);return""})),t}},t.functionChain=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===e)return r}return t},t.populate=function(t,e,r,s){var l=function(t){if(null!=t){if(i(t))return function(t){var n=t.match(/(\${.*?})/g);if(null!=n)for(var i=0;i<n.length;i++){var r=e[n[i].substring(2,n[i].length-1)]||"";null!=r&&(t=t.replace(n[i],r))}return t}(t);if(!a(t)||s||null!=r&&0!==(t.name||"").indexOf(r)){if(n(t)){for(var u=[],c=0;c<t.length;c++)u.push(l(t[c]));return u}if(o(t)){var h={};for(var d in t)h[d]=l(t[d]);return h}return t}return t(e)}};return l(t)},t.findWithFunction=c,t.removeWithFunction=function(t,e){var n=c(t,e);return n>-1&&t.splice(n,1),-1!==n},t.remove=h,t.addWithFunction=function(t,e,n){-1===c(t,n)&&t.push(e)},t.addToList=d,t.suggest=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},t.extend=function(t,e,i){var r;e=n(e)?e:[e];var o=function(e){for(var n=e.__proto__;null!=n;)if(null!=n.prototype){for(var i in n.prototype)n.prototype.hasOwnProperty(i)&&!t.prototype.hasOwnProperty(i)&&(t.prototype[i]=n.prototype[i]);n=n.prototype.__proto__}else n=null};for(r=0;r<e.length;r++){for(var s in e[r].prototype)e[r].prototype.hasOwnProperty(s)&&!t.prototype.hasOwnProperty(s)&&(t.prototype[s]=e[r].prototype[s]);o(e[r])}var a=function(t,n){return function(){for(r=0;r<e.length;r++)e[r].prototype[t]&&e[r].prototype[t].apply(this,arguments);return n.apply(this,arguments)}},l=function(e){for(var n in e)t.prototype[n]=a(n,e[n])};if(arguments.length>2)for(r=2;r<arguments.length;r++)l(arguments[r]);return t},t.uuid=p,t.fastTrim=function(t){if(null==t)return null;for(var e=t.replace(/^\s\s*/,""),n=/\s/,i=e.length;n.test(e.charAt(--i)););return e.slice(0,i+1)},t.each=function(t,e){t=null==t.length||"string"==typeof t?[t]:t;for(var n=0;n<t.length;n++)e(t[n])},t.map=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i]));return n},t.mergeWithParents=function(t,e,n){n=n||"parent";var i=function(t){return t?e[t]:null},r=function(t){return t?i(t[n]):null},o=function(t,e){if(null==t)return e;var n=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===e.mergeStrategy&&Array.prototype.push.apply(n,["events","overlays"]);var i=u(t,e,[],n);return o(r(t),i)},s=function(t){if(null==t)return{};if("string"==typeof t)return i(t);if(t.length){for(var e=!1,n=0,r=void 0;!e&&n<t.length;)(r=s(t[n]))?e=!0:n++;return r}},a=s(t);return a?o(r(a),a):{}},t.logEnabled=!0,t.log=f,t.wrap=function(t,e,n){return function(){var i=null;try{null!=e&&(i=e.apply(this,arguments))}catch(r){f("jsPlumb function failed : "+r)}if(null!=t&&(null==n||i!==n))try{i=t.apply(this,arguments)}catch(r){f("wrapped function failed : "+r)}return i}},t.EventGenerator=function(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(e,n,i){var r=function(e){d(t._listeners,e,n,i),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[p()]=e};if("string"==typeof e)r(e);else if(null!=e.length)for(var o=0;o<e.length;o++)r(e[o]);return t},this.fire=function(t,e,n){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[t]){var i=this._listeners[t].length,r=0,o=!1,s=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,e,n))for(;!o&&r<i&&!1!==s;){if(this.eventsToDieOn[t])this._listeners[t][r].apply(this,[e,n]);else try{s=this._listeners[t][r].apply(this,[e,n])}catch(a){f("jsPlumb: fire failed for event "+t+" : "+a)}r++,null!=this._listeners&&null!=this._listeners[t]||(o=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var e=t.queue.pop();e&&t.fire.apply(t,e)},this.unbind=function(t,e){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof t)delete this._listeners[t];else if(t.__jsPlumb)for(var n in t.__jsPlumb)h(this._listeners[t.__jsPlumb[n]]||[],t)}else 2===arguments.length&&h(this._listeners[t]||[],e);return this},this.getListener=function(e){return t._listeners[e]},this.setSuspendEvents=function(e){t.eventsSuspended=e},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(e){t.setSuspendEvents(!0);try{e()}catch(n){f("Cannot execute silent function "+n)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t._listeners)t._listeners[e]=null}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";this.jsPlumbUtil.matchesSelector=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},this.jsPlumbUtil.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.jsPlumbUtil.sizeElement=function(t,e,n,i,r){t&&(t.style.height=r+"px",t.height=r,t.style.width=i+"px",t.width=i,t.style.left=e+"px",t.style.top=n+"px")}}).call("undefined"!=typeof window?window:this),(function(){var t={deriveAnchor:function(t,e,n,i){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[t][e]}},e=function(t){this.count=0,this.instance=t,this.lists={},this.instance.addList=function(t,e){return this.listManager.addList(t,e)},this.instance.removeList=function(t){this.listManager.removeList(t)},this.instance.bind("manageElement",(function(t){for(var e=this.instance.getSelector(t.el,"[jtk-scrollable-list]"),n=0;n<e.length;n++)this.addList(e[n])}).bind(this)),this.instance.bind("unmanageElement",(function(t){this.removeList(t.el)})),this.instance.bind("connection",(function(t,e){null==e&&(this._maybeUpdateParentList(t.source),this._maybeUpdateParentList(t.target))}).bind(this))};this.jsPlumbListManager=e,e.prototype={addList:function(e,i){var r=this.instance.extend({},t);i=this.instance.extend(r,i||{});var o=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[o]=new n(this.instance,e,i,o)},removeList:function(t){var e=this.lists[t._jsPlumbList];e&&(e.destroy(),delete this.lists[t._jsPlumbList])},_maybeUpdateParentList:function(t){for(var e=t.parentNode,n=this.instance.getContainer();null!=e&&e!==n;){if(null!=e._jsPlumbList&&null!=this.lists[e._jsPlumbList])return void e._jsPlumbScrollHandler();e=e.parentNode}}};var n=function(t,e,n,i){function r(t,e,i,r){return n.anchor?n.anchor:n.deriveAnchor(t,e,i,r)}function o(t,e,i,r){return n.deriveEndpoint?n.deriveEndpoint(t,e,i,r):n.endpoint?n.endpoint:i.type}e._jsPlumbList=i;var s=function(n){for(var i=t.getSelector(e,".jtk-managed"),s=t.getId(e),a=0;a<i.length;a++){if(i[a].offsetTop<e.scrollTop)i[a]._jsPlumbProxies||(i[a]._jsPlumbProxies=i[a]._jsPlumbProxies||[],t.select({source:i[a]}).each((function(n){t.proxyConnection(n,0,e,s,(function(){return o("top",0,n.endpoints[0],n)}),(function(){return r("top",0,n.endpoints[0],n)})),i[a]._jsPlumbProxies.push([n,0])})),t.select({target:i[a]}).each((function(n){t.proxyConnection(n,1,e,s,(function(){return o("top",1,n.endpoints[1],n)}),(function(){return r("top",1,n.endpoints[1],n)})),i[a]._jsPlumbProxies.push([n,1])})));else if(i[a].offsetTop>e.scrollTop+e.offsetHeight)i[a]._jsPlumbProxies||(i[a]._jsPlumbProxies=i[a]._jsPlumbProxies||[],t.select({source:i[a]}).each((function(n){t.proxyConnection(n,0,e,s,(function(){return o("bottom",0,n.endpoints[0],n)}),(function(){return r("bottom",0,n.endpoints[0],n)})),i[a]._jsPlumbProxies.push([n,0])})),t.select({target:i[a]}).each((function(n){t.proxyConnection(n,1,e,s,(function(){return o("bottom",1,n.endpoints[1],n)}),(function(){return r("bottom",1,n.endpoints[1],n)})),i[a]._jsPlumbProxies.push([n,1])})));else if(i[a]._jsPlumbProxies){for(var l=0;l<i[a]._jsPlumbProxies.length;l++)t.unproxyConnection(i[a]._jsPlumbProxies[l][0],i[a]._jsPlumbProxies[l][1],s);delete i[a]._jsPlumbProxies}t.revalidate(i[a])}!function(e){for(var n=e.parentNode,i=t.getContainer();null!=n&&n!==i;){if(t.hasClass(n,"jtk-managed"))return void t.recalculateOffsets(n);n=n.parentNode}}(e)};t.setAttribute(e,"jtk-scrollable-list","true"),e._jsPlumbScrollHandler=s,t.on(e,"scroll",s),s(),this.destroy=function(){t.off(e,"scroll",s),delete e._jsPlumbScrollHandler;for(var n=t.getSelector(e,".jtk-managed"),i=t.getId(e),r=0;r<n.length;r++)if(n[r]._jsPlumbProxies){for(var o=0;o<n[r]._jsPlumbProxies.length;o++)t.unproxyConnection(n[r]._jsPlumbProxies[o][0],n[r]._jsPlumbProxies[o][1],i);delete n[r]._jsPlumbProxies}}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,n=t.jsPlumbUtil,i=function(){return""+(new Date).getTime()},r=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};p.extend(e,t._jsPlumb.paintStyle),p.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fill&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},o=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(t){return null==t?null:t.split(" ")},a=function(t,e,n){for(var i in e)t[i]=n},l=function(t,e,i){if(t.getDefaultType){var r=t.getTypeDescriptor(),o={},s=t.getDefaultType(),l=n.merge({},s);a(o,s,"__default");for(var u=0,c=t._jsPlumb.types.length;u<c;u++){var h=t._jsPlumb.types[u];if("__default"!==h){var d=t._jsPlumb.instance.getType(h,r);if(null!=d){var p=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],f=[];"override"===d.mergeStrategy?Array.prototype.push.apply(p,["events","overlays","cssClass"]):f.push("cssClass"),l=n.merge(l,d,f,p),a(o,d,h)}}}e&&(l=n.populate(l,e,"_")),t.applyType(l,i,o),i||t.repaint()}},u=t.jsPlumbUIComponent=function(t){n.EventGenerator.apply(this,arguments);var e=this,i=arguments,r=e.idPrefix,o=r+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return o};var s=t.overlays||[],a={};if(this.defaultOverlayKeys){for(var l=0;l<this.defaultOverlayKeys.length;l++)Array.prototype.push.apply(s,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[l]]||[]);for(l=0;l<s.length;l++){var u=p.convertToFullOverlaySpec(s[l]);a[u[1].id]=u}}var c={overlays:a,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return c},this.appendToDefaultType=function(t){for(var e in t)c[e]=t[e]},t.events)for(var h in t.events)e.bind(h,t.events[h]);this.clone=(function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,i),t}).bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(i){n.log("jsPlumb: beforeDetach callback failed",i)}return e},this.isDropAllowed=function(t,e,i,r,o,s,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:i,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:i,connection:r,dropEndpoint:o,source:s,target:a})}catch(u){n.log("jsPlumb: beforeDrop callback failed",u)}return l};var d=[];this.setListenerComponent=function(t){for(var e=0;e<d.length;e++)d[e][3]=t}},c=function(t,e){var n=t._jsPlumb.instance.getType(t._jsPlumb.types[e],t.getTypeDescriptor());null!=n&&n.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,n.cssClass)};n.extend(t.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return p.getClass(this.canvas)},hasClass:function(t){return p.hasClass(this.canvas,t)},addClass:function(t){p.addClass(this.canvas,t)},removeClass:function(t){p.removeClass(this.canvas,t)},updateClasses:function(t,e){p.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=s(t)||[],l(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){l(this,t,e)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var i=s(t),r=!1;if(null!=i){for(var o=0,a=i.length;o<a;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&l(this,e,n)}},removeType:function(t,e,n){var i=s(t),r=!1,o=(function(t){var e=this._jsPlumb.types.indexOf(t);return-1!==e&&(c(this,e),this._jsPlumb.types.splice(e,1),!0)}).bind(this);if(null!=i){for(var a=0,u=i.length;a<u;a++)r=o(i[a])||r;r&&l(this,e,n)}},clearTypes:function(t,e){for(var n=this._jsPlumb.types.length,i=0;i<n;i++)c(this,0),this._jsPlumb.types.splice(0,1);l(this,t,e)},toggleType:function(t,e,n){var i=s(t);if(null!=i){for(var r=0,o=i.length;r<o;r++){var a=this._jsPlumb.types.indexOf(i[r]);-1!==a?(c(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(i[r])}l(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,r(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,r(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var r=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||i(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&function(t,e,n,i){var r=t.getAttachedElements();if(r)for(var o=0,s=r.length;o<s;o++)i&&i===r[o]||r[o].setHover(e,!0,n)}(this,t,i(),this)}}});var h=0,d=t.jsPlumbInstance=function(e){this.version="<% pkg.version %>",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},e&&p.extend(this.Defaults,e),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var r=this,s=function(){var t=h+1;return h++,t}(),a=r.bind,l={},c=1,d=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var e=r.getElement(t);return{el:e,id:n.isString(t)&&null==e?t:U(e)}};for(var f in this.getInstanceIndex=function(){return s},this.setZoom=function(t,e){return r.fire("zoom",c=t),e&&r.repaintEverything(),!0},this.getZoom=function(){return c},this.Defaults)l[f]=this.Defaults[f];var m,g=[];this.unbindContainer=function(){if(null!=m&&g.length>0)for(var t=0;t<g.length;t++)r.off(m,g[t][0],g[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each((function(e){e.moveParent(t)})),this.selectEndpoints().each((function(e){e.moveParent(t)}));var e=m;m=t,g.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(t,e,i){var o=e.srcElement||e.target,s=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);s&&(s.fire(t,s,e),r.fire(i&&n[i+t]||t,s.component||s,e))},s=function(t,e,n){g.push([t,n]),r.on(m,t,e,n)},a=function(t){s(t,".jtk-connector",(function(e){i(t,e)})),s(t,".jtk-endpoint",(function(e){i(t,e,"endpoint")})),s(t,".jtk-overlay",(function(e){i(t,e)}))},l=0;l<o.length;l++)a(o[l]);for(var u in C){var c=C[u].el;c.parentNode===e&&(e.removeChild(c),m.appendChild(c))}},this.getContainer=function(){return m},this.bind=function(t,e){"ready"===t&&y?e():a.apply(r,[t,e])},r.importDefaults=function(t){for(var e in t)r.Defaults[e]=t[e];return t.Container&&r.setContainer(t.Container),r},r.restoreDefaults=function(){return r.Defaults=p.extend({},l),r};var v=null,y=!1,b=[],_={},w={},C={},x={},E={},S=!1,k=[],P=!1,D=null,A=this.Defaults.Scope,T=1,I=function(){return""+T++},j=(function(t,e){m?m.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}).bind(this),O=function(t,e,n,o){if(!P){var s,a=U(t),l=r.getDragManager();l&&(s=l.getElementsForDraggable(a)),null==n&&(n=i());var u=st({elId:a,offset:e,recalc:!1,timestamp:n});if(s&&u&&u.o)for(var c in s)st({elId:s[c].id,offset:{left:u.o.left+s[c].offset.left,top:u.o.top+s[c].offset.top},recalc:!1,timestamp:n});if(r.anchorManager.redraw(a,e,n,null,o),s)for(var h in s)r.anchorManager.redraw(s[h].id,e,n,s[h].offset,o,!0)}},M=function(t){return w[t]},R=(function(t,e){var i=p.extend({},t);if(e&&p.extend(i,e),i.source&&(i.source.endpoint?i.sourceEndpoint=i.source:i.source=r.getElement(i.source)),i.target&&(i.target.endpoint?i.targetEndpoint=i.target:i.target=r.getElement(i.target)),t.uuids&&(i.sourceEndpoint=M(t.uuids[0]),i.targetEndpoint=M(t.uuids[1])),i.sourceEndpoint&&i.sourceEndpoint.isFull())n.log(r,"could not add connection; source endpoint is full");else if(i.targetEndpoint&&i.targetEndpoint.isFull())n.log(r,"could not add connection; target endpoint is full");else{if(!i.type&&i.sourceEndpoint&&(i.type=i.sourceEndpoint.connectionType),i.sourceEndpoint&&i.sourceEndpoint.connectorOverlays){i.overlays=i.overlays||[];for(var o=0,s=i.sourceEndpoint.connectorOverlays.length;o<s;o++)i.overlays.push(i.sourceEndpoint.connectorOverlays[o])}i.sourceEndpoint&&i.sourceEndpoint.scope&&(i.scope=i.sourceEndpoint.scope),!i["pointer-events"]&&i.sourceEndpoint&&i.sourceEndpoint.connectorPointerEvents&&(i["pointer-events"]=i.sourceEndpoint.connectorPointerEvents);var a=function(t,e,n,o){if(i[t]&&!i[t].endpoint&&!i[t+"Endpoint"]&&!i.newConnection){var s=n[U(i[t])];if(s=s?s[o]:null){if(!s.enabled)return!1;var a=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:function(t,e,n){return r.addEndpoint(t,function(t,e){var n=p.extend({},t);for(var i in e)e[i]&&(n[i]=e[i]);return n}(e,{anchor:i.anchors?i.anchors[n]:i.anchor,endpoint:i.endpoints?i.endpoints[n]:i.endpoint,paintStyle:i.endpointStyles?i.endpointStyles[n]:i.endpointStyle,hoverPaintStyle:i.endpointHoverStyles?i.endpointHoverStyles[n]:i.endpointHoverStyle}))}(i[t],s.def,e);if(a.isFull())return!1;i[t+"Endpoint"]=a,!i.scope&&s.def.scope&&(i.scope=s.def.scope),s.uniqueEndpoint?s.endpoint?a.finalEndpoint=s.endpoint:(s.endpoint=a,a.setDeleteOnEmpty(!1)):a.setDeleteOnEmpty(!0),0===e&&s.def.connectorOverlays&&(i.overlays=i.overlays||[],Array.prototype.push.apply(i.overlays,s.def.connectorOverlays))}}};if(!1!==a("source",0,this.sourceEndpointDefinitions,i.type||"default")&&!1!==a("target",1,this.targetEndpointDefinitions,i.type||"default"))return i.sourceEndpoint&&i.targetEndpoint&&(function(t,e){for(var n=t.scope.split(/\s/),i=e.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]===n[r])return!0;return!1}(i.sourceEndpoint,i.targetEndpoint)||(i=null)),i}}).bind(r),N=function(t){var e=r.Defaults.ConnectionType||r.getDefaultConnectionType();t._jsPlumb=r,t.newConnection=N,t.newEndpoint=L,t.endpointsByUUID=w,t.endpointsByElement=_,t.finaliseConnection=F,t.id="con_"+I();var n=new e(t);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},F=r.finaliseConnection=function(t,e,n,i){e=e||{},t.suspendedEndpoint||b.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==i&&r.anchorManager.newConnection(t),O(t.source),e.doNotFireConnectionEvent||!1===e.fireEvent||r.fire("connection",{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]},n)},L=function(t,e){var n=r.Defaults.EndpointType||p.Endpoint,i=p.extend({},t);i._jsPlumb=r,i.newConnection=N,i.newEndpoint=L,i.endpointsByUUID=w,i.endpointsByElement=_,i.fireDetachEvent=G,i.elementId=e||U(i.source);var o=new n(i);return o.id="ep_"+I(),ot(i.elementId,i.source),p.headless||r.getDragManager().endpointAdded(i.source,e),o},V=function(t,e,n){var i=_[t];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var s=0,a=i[r].connections.length;s<a;s++)if(e(i[r].connections[s]))return;n&&n(i[r])}},z=function(t,e,n){e="block"===e;var i=null;n&&(i=function(t){t.setVisible(e,!0,!0)});var r=d(t);V(r.id,(function(t){e&&n?t.endpoints[t.sourceId===r.id?1:0].isVisible()&&t.setVisible(!0):t.setVisible(e)}),i)},U=function(t,e,i){if(n.isString(t))return t;if(null==t)return null;var o=r.getAttribute(t,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=e:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+s+"_"+I()),i||r.setAttribute(t,"id",o)),o};this.setConnectionBeingDragged=function(t){S=t},this.isConnectionBeingDragged=function(){return S},this.getManagedElements=function(){return C},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,i){var o=p.extend({},i=i||{});p.extend(o,e),o.endpoint=o.endpoint||r.Defaults.Endpoint,o.paintStyle=o.paintStyle||r.Defaults.EndpointStyle;for(var s=[],a=n.isArray(t)||null!=t.length&&!n.isString(t)?t:[t],l=0,u=a.length;l<u;l++){o.source=r.getElement(a[l]),rt(o.source);var c=U(o.source),h=L(o,c),d=ot(c,o.source).info.o;n.addToList(_,c,h),P||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:k[c],element:h,timestamp:D}),timestamp:D}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,e,i){for(var o=[],s=0,a=e.length;s<a;s++){var l=r.addEndpoint(t,e[s],i);n.isArray(l)?Array.prototype.push.apply(o,l):o.push(l)}return o},this.animate=function(t,e,i){if(!this.animationSupported)return!1;i=i||{};var o=r.getElement(t),s=U(o),a=p.animEvents.step,l=p.animEvents.complete;i[a]=n.wrap(i[a],(function(){r.revalidate(s)})),i[l]=n.wrap(i[l],(function(){r.revalidate(s)})),r.doAnimate(o,e,i)},this.checkCondition=function(t,e){var i=r.getListener(t),o=!0;if(i&&i.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,l=i.length;a<l;a++)o=o&&i[a].apply(i[a],s)}catch(u){n.log(r,"cannot check condition ["+t+"]"+u)}}return o},this.connect=function(t,e){var i,r=R(t,e);if(r){if(null==r.source&&null==r.sourceEndpoint)return void n.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void n.log("Cannot establish connection - target does not exist");rt(r.source),i=N(r),F(i,r)}return i};var B=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],H=(function(t,e,n,i){var r,o,s,a=B[n],l=t[a.elId],u=t.endpoints[n],c={index:n,originalSourceId:0===n?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===n?l:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor===p.Endpoint)(r=e).addConnection(t),e=r.element;else if(o=U(e),s=this[a.epDefs][o],o===t[a.elId])r=null;else if(s)for(var h in s){if(!s[h].enabled)return;r=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(e,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=r),r.addConnection(t)}else r=t.makeEndpoint(0===n,e,o);return null!=r&&(u.detachFromConnection(t),t.endpoints[n]=r,t[a.el]=r.element,t[a.elId]=r.elementId,c[0===n?"newSourceId":"newTargetId"]=r.elementId,$(c),i||t.repaint()),c.element=e,c}).bind(this);this.setSource=function(t,e,n){var i=H(t,e,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t,i.el)},this.setTarget=function(t,e,n){var i=H(t,e,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,e,n){var i="string"==typeof t?w[t]:t;return i&&r.deleteObject({endpoint:i,dontUpdateHover:e,deleteAttachedObjects:n}),r},this.deleteEveryEndpoint=function(){var t=r.setSuspendDrawing(!0);for(var e in _){var n=_[e];if(n&&n.length)for(var i=0,o=n.length;i<o;i++)r.deleteEndpoint(n[i],!0)}_={},C={},w={},x={},E={},r.anchorManager.reset();var s=r.getDragManager();return s&&s.reset(),t||r.setSuspendDrawing(!1),r};var G=function(t,e,n){var i=r.Defaults.ConnectionType||r.getDefaultConnectionType(),o=t.constructor===i?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&r.fire("connectionDetached",o,n),r.fire("internal.connectionDetached",o,n),r.anchorManager.connectionDetached(o)},$=r.fireMoveEvent=function(t,e){r.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){for(var e in t._jsPlumb.uuid&&(w[t._jsPlumb.uuid]=null),r.anchorManager.deleteEndpoint(t),_){var n=_[e];if(n){for(var i=[],o=0,s=n.length;o<s;o++)n[o]!==t&&i.push(n[o]);_[e]=i}_[e].length<1&&delete _[e]}},this.deleteConnection=function(t,e){return!(null==t||!(e=e||{}).force&&!n.functionChain(!0,!1,[[t.endpoints[0],"isDetachAllowed",[t]],[t.endpoints[1],"isDetachAllowed",[t]],[t,"isDetachAllowed",[t]],[r,"checkCondition",["beforeDetach",t]]])||(t.setHover(!1),G(t,!t.pending&&!1!==e.fireEvent,e.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),n.removeWithFunction(b,(function(e){return t.id===e.id})),t.cleanup(),t.destroy(),0))},this.deleteEveryConnection=function(t){t=t||{};var e=b.length,n=0;return r.batch((function(){for(var i=0;i<e;i++)n+=r.deleteConnection(b[0],t)?1:0})),n},this.deleteConnectionsForElement=function(t,e){e=e||{},t=r.getElement(t);var n=U(t),i=_[n];if(i&&i.length)for(var o=0,s=i.length;o<s;o++)i[o].deleteEveryConnection(e);return r},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},i=!1!==t.deleteAttachedObjects,o=function(n){null!=n&&null==e.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.connections[n.id]=n,e.connectionCount++)};for(var s in t.connection?o(t.connection):function(n){if(null!=n&&null==e.endpoints[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.endpoints[n.id]=n,e.endpointCount++,i))for(var r=0;r<n.connections.length;r++)o(n.connections[r])}(t.endpoint),e.connections){var a=e.connections[s];if(a._jsPlumb){n.removeWithFunction(b,(function(t){return a.id===t.id})),G(a,!1!==t.fireEvent&&!a.pending,t.originalEvent);var l=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;a.endpoints[0].detachFromConnection(a,null,l),a.endpoints[1].detachFromConnection(a,null,l),a.cleanup(!0),a.destroy(!0)}}for(var u in e.endpoints){var c=e.endpoints[u];c._jsPlumb&&(r.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return e};var W=function(t,e,n,i){for(var r=0,o=t.length;r<o;r++)t[r][e].apply(t[r],n);return i(t)},q=function(t,e,n){for(var i=[],r=0,o=t.length;r<o;r++)i.push([t[r][e].apply(t[r],n),t[r]]);return i},Y=function(t,e,n){return function(){return W(t,e,arguments,n)}},Z=function(t,e){return function(){return q(t,e,arguments)}},X=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var i=0,r=t.length;i<r;i++)n.push(d(t[i]).id);else n.push(d(t).id);return n},K=function(t,e,n){return"*"===t||(t.length>0?-1!==t.indexOf(e):!n)};this.getConnections=function(t,e){t?t.constructor===String&&(t={scope:t}):t={};for(var n=t.scope||r.getDefaultScope(),i=X(n,!0),o=X(t.source),s=X(t.target),a=!e&&i.length>1?{}:[],l=function(t,n){if(!e&&i.length>1){var r=a[t];null==r&&(r=a[t]=[]),r.push(n)}else a.push(n)},u=0,c=b.length;u<c;u++){var h=b[u],d=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,p=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;K(i,h.scope)&&K(o,d)&&K(s,p)&&l(h.scope,h)}return a};var Q=function(t,e){return function(n){for(var i=0,r=t.length;i<r;i++)n(t[i]);return e(t)}},J=function(t){return function(e){return t[e]}},tt=function(t,e){var n,i,r={length:t.length,each:Q(t,e),get:J(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=o.length;n<i;n++)r[o[n]]=Y(t,o[n],e);for(n=0,i=s.length;n<i;n++)r[s[n]]=Z(t,s[n]);return r},et=function(t){var e=tt(t,et);return p.extend(e,{setDetachable:Y(t,"setDetachable",et),setReattach:Y(t,"setReattach",et),setConnector:Y(t,"setConnector",et),delete:function(){for(var e=0,n=t.length;e<n;e++)r.deleteConnection(t[e])},isDetachable:Z(t,"isDetachable"),isReattach:Z(t,"isReattach")})},nt=function(t){var e=tt(t,nt);return p.extend(e,{setEnabled:Y(t,"setEnabled",nt),setAnchor:Y(t,"setAnchor",nt),isEnabled:Z(t,"isEnabled"),deleteEveryConnection:function(){for(var e=0,n=t.length;e<n;e++)t[e].deleteEveryConnection()},delete:function(){for(var e=0,n=t.length;e<n;e++)r.deleteEndpoint(t[e])}})};this.select=function(t){return(t=t||{}).scope=t.scope||"*",et(t.connections||r.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":X(t.element),i=e?"*":X(t.source),r=e?"*":X(t.target),o=X(t.scope,!0),s=[];for(var a in _){var l=K(n,a,!0),u=K(i,a,!0),c="*"!==i,h=K(r,a,!0),d="*"!==r;if(l||u||h)t:for(var p=0,f=_[a].length;p<f;p++){var m=_[a][p];if(K(o,m.scope,!0)){if(c&&i.length>0&&!m.isSource||d&&r.length>0&&!m.isTarget)continue t;s.push(m)}}}return nt(s)},this.getAllConnections=function(){return b},this.getDefaultScope=function(){return A},this.getEndpoint=M,this.getEndpoints=function(t){return _[d(t).id]||[]},this.getDefaultEndpointType=function(){return p.Endpoint},this.getDefaultConnectionType=function(){return p.Connection},this.getId=U,this.draw=O,this.info=d,this.appendElement=j;var it=!1;this.isHoverSuspended=function(){return it},this.setHoverSuspended=function(t){it=t},this.hide=function(t,e){return z(t,"none",e),r},this.idstamp=I;var rt=function(t){if(!m&&t){var e=r.getElement(t);e.offsetParent&&r.setContainer(e.offsetParent)}},ot=r.manage=function(t,e,n){return C[t]||(C[t]={el:e,endpoints:[],connections:[]},C[t].info=st({elId:t,timestamp:D}),r.addClass(e,"jtk-managed"),n||r.fire("manageElement",{id:t,info:C[t].info,el:e})),C[t]},st=(r.unmanage=function(t){if(C[t]){var e=C[t].el;r.removeClass(e,"jtk-managed"),delete C[t],r.fire("unmanageElement",{id:t,el:e})}},function(t){var e,n=t.timestamp,i=t.recalc,o=t.offset,s=t.elId;return P&&!n&&(n=D),!i&&n&&n===E[s]?{o:t.offset||x[s],s:k[s]}:(i||!o&&null==x[s]?null!=(e=C[s]?C[s].el:null)&&(k[s]=r.getSize(e),x[s]=r.getOffset(e),E[s]=n):(x[s]=o||x[s],null==k[s]&&null!=(e=C[s].el)&&(k[s]=r.getSize(e)),E[s]=n),x[s]&&!x[s].right&&(x[s].right=x[s].left+k[s][0],x[s].bottom=x[s].top+k[s][1],x[s].width=k[s][0],x[s].height=k[s][1],x[s].centerx=x[s].left+x[s].width/2,x[s].centery=x[s].top+x[s].height/2),{o:x[s],s:k[s]})});this.updateOffset=st,this.init=(function(){y||(r.Defaults.Container&&r.setContainer(r.Defaults.Container),r.anchorManager=new t.jsPlumb.AnchorManager({jsPlumbInstance:r}),y=!0,r.fire("ready",r))}).bind(this),this.log=v,this.jsPlumbUIComponent=u,this.makeAnchor=function(){var e,i=function(e,n){if(t.jsPlumb.Anchors[e])return new t.jsPlumb.Anchors[e](n);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+e+"'"}};if(0===arguments.length)return null;var o=arguments[0],s=arguments[1],a=null;if(o.compute&&o.getOrientation)return o;if("string"==typeof o)a=i(arguments[0],{elementId:s,jsPlumbInstance:r});else if(n.isArray(o))if(n.isArray(o[0])||n.isString(o[0]))2===o.length&&n.isObject(o[1])?n.isString(o[0])?(e=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r},o[1]),a=i(o[0],e)):(e=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r,anchors:o[0]},o[1]),a=new t.jsPlumb.DynamicAnchor(e)):a=new p.DynamicAnchor({anchors:o,selector:null,elementId:s,jsPlumbInstance:r});else{var l={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:s,jsPlumbInstance:r,cssClass:7===o.length?o[6]:null};(a=new t.jsPlumb.Anchor(l)).clone=function(){return new t.jsPlumb.Anchor(l)}}return a.id||(a.id="anchor_"+I()),a},this.makeAnchors=function(e,i,o){for(var s=[],a=0,l=e.length;a<l;a++)"string"==typeof e[a]?s.push(t.jsPlumb.Anchors[e[a]]({elementId:i,jsPlumbInstance:o})):n.isArray(e[a])&&s.push(r.makeAnchor(e[a],i,o));return s},this.makeDynamicAnchor=function(e,n){return new t.jsPlumb.DynamicAnchor({anchors:e,selector:n,elementId:null,jsPlumbInstance:r})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var at=function(e,i,o,s,a){var l=new u(i),c=i._jsPlumb.EndpointDropHandler({jsPlumb:r,enabled:function(){return e.def.enabled},isFull:function(){var t=r.select({target:e.id}).length;return e.def.maxConnections>0&&t>=e.def.maxConnections},element:e.el,elementId:e.id,isSource:s,isTarget:a,addClass:function(t){r.addClass(e.el,t)},removeClass:function(t){r.removeClass(e.el,t)},onDrop:function(t){t.endpoints[0].anchor.unlock()},isDropAllowed:function(){return l.isDropAllowed.apply(l,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===e.el},getEndpoint:function(n){var o=e.def.endpoint;if(null==o||null==o._jsPlumb){var s=r.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),a=s.endpoints?t.jsPlumb.extend(i,{endpoint:e.def.def.endpoint||s.endpoints[1]}):i;s.anchors&&(a=t.jsPlumb.extend(a,{anchor:e.def.def.anchor||s.anchors[1]})),(o=r.addEndpoint(e.el,a))._mtNew=!0}if(i.uniqueEndpoint&&(e.def.endpoint=o),o.setDeleteOnEmpty(!0),n.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var l=r.getUIPosition(arguments,r.getZoom()),u=r.getOffset(e.el),c=r.getSize(e.el),h=null==l?[0,0]:o.anchor.positionFinder(l,u,c,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?r.deleteObject({endpoint:t}):delete t._mtNew}}),h=t.jsPlumb.dragEvents.drop;return o.scope=o.scope||i.scope||r.Defaults.Scope,o[h]=n.wrap(o[h],c,!0),o.rank=i.rank||0,a&&(o[t.jsPlumb.dragEvents.over]=function(){return!0}),!1===i.allowLoopback&&(o.canDrop=function(t){return t.getDragElement()._jsPlumbRelatedElement!==e.el}),r.initDroppable(e.el,o,"internal"),c};this.makeTarget=function(e,n,i){var o=t.jsPlumb.extend({_jsPlumb:this},i);t.jsPlumb.extend(o,n);for(var s=o.maxConnections||-1,a=(function(e){var n=d(e),i=n.id,a=t.jsPlumb.extend({},o.dropOptions||{}),l=o.connectionType||"default";this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},rt(i),n.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var u={def:t.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:s,enabled:!0};o.createEndpoint&&(u.uniqueEndpoint=!0,u.endpoint=r.addEndpoint(e,u.def),u.endpoint.setDeleteOnEmpty(!1)),n.def=u,this.targetEndpointDefinitions[i][l]=u,at(n,o,a,!0===o.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=u}).bind(this),l=e.length&&e.constructor!==String?e:[e],u=0,c=l.length;u<c;u++)a(l[u]);return this},this.unmakeTarget=function(t,e){var n=d(t);return r.destroyDroppable(n.el,"internal"),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(e,i,o){var s=t.jsPlumb.extend({_jsPlumb:this},o);t.jsPlumb.extend(s,i);var a=s.connectionType||"default",l=r.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||l.endpoints[0],s.anchor=s.anchor||l.anchors[0];for(var u=s.maxConnections||-1,h=s.onMaxConnections,p=(function(i){var o=i.id,l=this.getElement(i.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},rt(o);var d={def:t.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:u,enabled:!0};s.createEndpoint&&(d.uniqueEndpoint=!0,d.endpoint=r.addEndpoint(e,d.def),d.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][a]=d,i.def=d;var p=t.jsPlumb.dragEvents.stop,f=t.jsPlumb.dragEvents.drag,m=t.jsPlumb.extend({},s.dragOptions||{}),g=m.drag,v=m.stop,y=null,b=!1;m.scope=m.scope||s.scope,m[f]=n.wrap(m[f],(function(){g&&g.apply(this,arguments),b=!1})),m[p]=n.wrap(m[p],(function(){if(v&&v.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var t=s.anchor||this.Defaults.Anchor,e=y.anchor,n=y.connections[0],i=this.makeAnchor(t,o,this),a=y.element;if(null!=i.positionFinder){var l=r.getOffset(a),u=this.getSize(a),c={left:l.left+e.x*u[0],top:l.top+e.y*u[1]},h=i.positionFinder(c,l,u,i.constructorParams);i.x=h[0],i.y=h[1]}y.setAnchor(i,!0),y.repaint(),this.repaint(y.elementId),null!=n&&this.repaint(n.targetId)}}).bind(this));var _=(function(e){if(3!==e.which&&2!==e.button){var d=this.sourceEndpointDefinitions[o][a];if(d.enabled){if(o=this.getId(this.getElement(i.el)),s.filter&&!1===(n.isString(s.filter)?function(t,e,n,i,r){for(var o=t.target||t.srcElement,s=!1,a=i.getSelector(e,n),l=0;l<a.length;l++)if(a[l]===o){s=!0;break}return r?!s:s}(e,i.el,s.filter,this,s.filterExclude):s.filter(e,i.el)))return;var p=this.select({source:o}).length;if(d.maxConnections>=0&&p>=d.maxConnections)return h&&h({element:i.el,maxConnections:u},e),!1;var f=t.jsPlumb.getPositionOnElement(e,l,c),g={};t.jsPlumb.extend(g,d.def),g.isTemporarySource=!0,g.anchor=[f[0],f[1],0,0],g.dragOptions=m,d.def.scope&&(g.scope=d.def.scope),y=this.addEndpoint(o,g),b=!0,y.setDeleteOnEmpty(!0),d.uniqueEndpoint&&(d.endpoint?y.finalEndpoint=d.endpoint:(d.endpoint=y,y.setDeleteOnEmpty(!1)));var v=function(){r.off(y.canvas,"mouseup",v),r.off(i.el,"mouseup",v),b&&(b=!1,r.deleteEndpoint(y))};r.on(y.canvas,"mouseup",v),r.on(i.el,"mouseup",v);var _={};if(d.def.extract)for(var w in d.def.extract){var C=(e.srcElement||e.target).getAttribute(w);C&&(_[d.def.extract[w]]=C)}r.trigger(y.canvas,"mousedown",e,_),n.consume(e)}}}).bind(this);this.on(i.el,"mousedown",_),d.trigger=_,s.filter&&(n.isString(s.filter)||n.isFunction(s.filter))&&r.setDragFilter(i.el,s.filter);var w=t.jsPlumb.extend({},s.dropOptions||{});at(i,s,w,!0,!0===s.isTarget)}).bind(this),f=e.length&&e.constructor!==String?e:[e],m=0,g=f.length;m<g;m++)p(d(f[m]));return this},this.unmakeSource=function(t,e,n){var i=d(t);r.destroyDroppable(i.el,"internal");var o=this.sourceEndpointDefinitions[i.id];if(o)for(var s in o)if(null==e||e===s){var a=o[s].trigger;a&&r.off(i.el,"mousedown",a),n||delete this.sourceEndpointDefinitions[i.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)r.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var lt=(function(t,e,i){e=n.isArray(e)?e:[e];var r=U(t);i=i||"default";for(var o=0;o<e.length;o++){var s=this[e[o]][r];if(s&&s[i])return s[i].def.scope||this.Defaults.Scope}}).bind(this),ut=(function(t,e,i,r){i=n.isArray(i)?i:[i];var o=U(t);r=r||"default";for(var s=0;s<i.length;s++){var a=this[i[s]][o];a&&a[r]&&(a[r].def.scope=e)}}).bind(this);this.getScope=function(t,e){return lt(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return lt(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return lt(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){ut(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){ut(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)r.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var ct=(function(t,e,i,o,s){var a,l,u,c="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",e.length&&!n.isString(e)){a=[];for(var h=0,p=e.length;h<p;h++)c[(l=d(e[h])).id]&&c[l.id][s]&&(a[h]=c[l.id][s].enabled,c[l.id][s].enabled=u=o?!a[h]:i,r[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}else{var f=(l=d(e)).id;c[f]&&c[f][s]&&(a=c[f][s].enabled,c[f][s].enabled=u=o?!a:i,r[u?"removeClass":"addClass"](l.el,"jtk-"+t+"-disabled"))}return a}).bind(this),ht=(function(t,e){return n.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}).bind(this);this.toggleSourceEnabled=function(t,e){return ct("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return ct("source",t,e,null,n)},this.isSource=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.sourceEndpointDefinitions[d(t).id];return null!=n&&null!=n[e]}).bind(this))},this.isSourceEnabled=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.sourceEndpointDefinitions[d(t).id];return n&&n[e]&&!0===n[e].enabled}).bind(this))},this.toggleTargetEnabled=function(t,e){return ct("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.targetEndpointDefinitions[d(t).id];return null!=n&&null!=n[e]}).bind(this))},this.isTargetEnabled=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.targetEndpointDefinitions[d(t).id];return n&&n[e]&&!0===n[e].enabled}).bind(this))},this.setTargetEnabled=function(t,e,n){return ct("target",t,e,null,n)},this.ready=function(t){r.bind("ready",t)};var dt=function(t,e){if("object"==typeof t&&t.length)for(var n=0,i=t.length;n<i;n++)e(t[n]);else e(t);return r};this.repaint=function(t,e,n){return dt(t,(function(t){O(t,e,n)}))},this.revalidate=function(t,e,n){return dt(t,(function(t){var i=n?t:r.getId(t);r.updateOffset({elId:i,recalc:!0,timestamp:e});var o=r.getDragManager();o&&o.updateOffsets(i),r.repaint(t)}))},this.repaintEverything=function(){var t,e=i();for(t in _)r.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in _)O(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];var i=function(t){var o,s,a=d(t),l=_[a.id];if(l)for(n.push(a),o=0,s=l.length;o<s;o++)r.deleteEndpoint(l[o],!1);if(delete _[a.id],e&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(o=0,s=a.el.childNodes.length;o<s;o++)i(a.el.childNodes[o])};return i(t),this};var pt=function(t,e){r.removeAllEndpoints(t.id,!0,e);for(var n=r.getDragManager(),i=function(t){n&&n.elementRemoved(t.id),r.anchorManager.clearFor(t.id),r.anchorManager.removeFloatingConnection(t.id),r.isSource(t.el)&&r.unmakeSource(t.el),r.isTarget(t.el)&&r.unmakeTarget(t.el),r.destroyDraggable(t.el),r.destroyDroppable(t.el),delete r.floatingConnections[t.id],delete C[t.id],delete x[t.id],t.el&&(r.removeElement(t.el),t.el._jsPlumb=null)},o=1;o<e.length;o++)i(e[o]);i(t)};this.remove=function(t,e){var n=d(t),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&r.batch((function(){pt(n,i)}),!0===e),r},this.empty=function(t,e){var n=[],i=function(t,e){var r=d(t);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)i(r.el.childNodes[0]);e||pt(r,n)}};return r.batch((function(){i(t,!0)}),!1===e),r},this.reset=function(t){r.silently((function(){it=!1,r.removeAllGroups(),r.removeGroupManager(),r.deleteEveryEndpoint(),t||r.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},b.length=0,this.doReset&&this.doReset()}).bind(this))};var ft=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){r.select().each(ft),r.selectEndpoints().each(ft),_={},w={}},this.setDefaultScope=function(t){return A=t,r},this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),i=null,o=null,s=null,a=null,l=0;l<n.length;l++){var u=r.getType(n[l],"connection");u&&(u.endpoints&&(i=u.endpoints),u.endpoint&&(o=u.endpoint),u.anchors&&(a=u.anchors),u.anchor&&(s=u.anchor))}return{endpoints:i||[o,o],anchors:a||[s,s]}},this.setId=function(t,e,i){var r;n.isString(t)?r=t:(t=this.getElement(t),r=this.getId(t));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);e=""+e,i?t=this.getElement(e):(t=this.getElement(r),this.setAttribute(t,"id",e)),_[e]=_[r]||[];for(var a=0,l=_[e].length;a<l;a++)_[e][a].setElementId(e),_[e][a].setReferenceElement(t);delete _[r],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,e);var u=this.getDragManager();u&&u.changeId(r,e),C[e]=C[r],delete C[r];var c=function(n,i,r){for(var o=0,s=n.length;o<s;o++)n[o].endpoints[i].setElementId(e),n[o].endpoints[i].setReferenceElement(t),n[o][r+"Id"]=e,n[o][r]=t};c(o,0,"source"),c(s,1,"target"),this.repaint(e)},this.setDebugLog=function(t){v=t},this.setSuspendDrawing=function(t,e){var n=P;return P=t,D=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return P},this.getSuspendedAt=function(){return D},this.batch=function(t,e){var i=this.isSuspendDrawing();i||this.setSuspendDrawing(!0);try{t()}catch(r){n.log("Function run while suspended failed",r)}i||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=function(t){var e=x[t];return e?{o:e,s:k[t]}:st({elId:t})},this.timestamp=i,this.show=function(t,e){return z(t,"block",e),r},this.toggleVisible=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),V(t,(function(t){var e=t.isVisible();t.setVisible(!e)}),n)},this.addListener=this.bind;var mt=[];this.registerFloatingConnection=function(t,e,i){mt[t.id]=e,n.addToList(_,t.id,i)},this.getFloatingConnectionFor=function(t){return mt[t]},this.listManager=new t.jsPlumbListManager(this)};n.extend(t.jsPlumbInstance,n.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(e,n){return this.getAttribute(t.jsPlumb.getElement(e),n)},convertToFullOverlaySpec:function(t){return n.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||n.uuid(),t},registerConnectionType:function(e,n){if(this._connectionTypes[e]=t.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._connectionTypes[e].overlays=i}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(e,n){if(this._endpointTypes[e]=t.jsPlumb.extend({},n),n.overlays){for(var i={},r=0;r<n.overlays.length;r++){var o=this.convertToFullOverlaySpec(n.overlays[r]);i[o[1].id]=o}this._endpointTypes[e].overlays=i}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),i=this.getId(n),r=this.getElement(e),o=this.getId(r),s=this.getDragManager();n.parentNode.removeChild(n),r.appendChild(n),s&&s.setParent(n,i,r,o)},extend:function(t,e,n){var i;if(n)for(i=0;i<n.length;i++)t[n[i]]=e[n[i]];else for(i in e)t[i]=e[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1},proxyConnection:function(t,e,n,i,r,o){var s,a=t.endpoints[e].elementId,l=t.endpoints[e];t.proxies=t.proxies||[],(s=t.proxies[e]?t.proxies[e].ep:this.addEndpoint(n,{endpoint:r(t,e),anchor:o(t,e),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),t.proxies[e]={ep:s,originalEp:l},0===e?this.anchorManager.sourceChanged(a,i,t,n):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,a,i,t),t.target=n,t.targetId=i),l.detachFromConnection(t,null,!0),s.connections=[t],t.endpoints[e]=s,l.setVisible(!1),t.setVisible(!0),this.revalidate(n)},unproxyConnection:function(t,e,n){if(null!=t._jsPlumb&&null!=t.proxies&&null!=t.proxies[e]){var i=t.proxies[e].originalEp.element,r=t.proxies[e].originalEp.elementId;t.endpoints[e]=t.proxies[e].originalEp,0===e?this.anchorManager.sourceChanged(n,r,t,i):(this.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,n,r,t),t.target=i,t.targetId=r),t.proxies[e].ep.detachFromConnection(t,null),t.proxies[e].originalEp.addConnection(t),t.isVisible()&&t.proxies[e].originalEp.setVisible(!0),delete t.proxies[e]}}});var p=new d;t.jsPlumb=p,p.getInstance=function(t,e){var n=new d(t);if(e)for(var i in e)n[i]=e[i];return n.init(),n},p.each=function(t,e){if(null!=t)if("string"==typeof t)e(p.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(p.getElement(t[n]));else e(t)},e.jsPlumb=p}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil;e.OverlayCapableJsPlumbUIComponent=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays.__label=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,i={};for(n in e.overlays){var r=t._jsPlumb.overlays[e.overlays[n][1].id];if(r)r.updateFrom(e.overlays[n][1]),i[e.overlays[n][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=o?(o.reattach(t._jsPlumb.instance,t),o.setVisible(!0),o.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(e.overlays[n],!0),i[o.id]=!0}}for(n in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},n.extend(e.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,i){var r=function(t,i){var r=null;if(n.isArray(i)){var o=i[0],s=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3===i.length&&e.extend(s,i[2]),r=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor===String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return r.id=r.id||n.uuid(),t.cacheTypeItem("overlay",r,r.id),t._jsPlumb.overlays[r.id]=r,r}(this,t);return i||this.repaint(),r},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(n.setVisible(!1),!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[t])},removeOverlays:function(){for(var t=0,e=arguments.length;t<e;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var e in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}},getLabel:function(){var t=this.getOverlay("__label");return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(t){var n=this.getOverlay("__label");n?t.constructor===String||t.constructor===Function?n.setLabel(t):(t.label&&n.setLabel(t.label),t.location&&n.setLocation(t.location)):(n=function(t,n){var i=e.extend({cssClass:n.cssClass,labelStyle:t.labelStyle,id:"__label",component:t,_jsPlumb:t._jsPlumb.instance},n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(i)}(this,t.constructor===String||t.constructor===Function?{label:t}:t),this._jsPlumb.overlays.__label=n),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(t,e,n){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(e.element){var r=n.getUIPosition(arguments,n.getZoom());null!=r&&n.setPosition(e.element,r),n.repaint(e.element,r),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){i=!0}}},i=function(t,e,n,i){var r=e.createElement("div",{position:"absolute"});e.appendElement(r);var o=e.getId(r);e.setPosition(r,n),r.style.width=i[0]+"px",r.style.height=i[1]+"px",e.manage(o,r,!0),t.id=o,t.element=r},r=function(e,n,i,r,o,s,a,l){return a({paintStyle:e,endpoint:i,anchor:new t.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:s}),source:o,scope:l})},o=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],s=function(t,e){var n=0;if(null!=e)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId===e||t.connections[i].targetId===e){n=i;break}return t.connections[n]};t.Endpoint=function(a){var l=a._jsPlumb,u=a.newConnection,c=a.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:a.connectionType,maxConnections:null==a.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:a.maxConnections,paintStyle:a.endpointStyle||a.paintStyle||a.style||this._jsPlumb.instance.Defaults.EndpointStyle||t.Defaults.EndpointStyle,hoverPaintStyle:a.endpointHoverStyle||a.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle,connectorStyle:a.connectorStyle,connectorHoverStyle:a.connectorHoverStyle,connectorClass:a.connectorClass,connectorHoverClass:a.connectorHoverClass,connectorOverlays:a.connectorOverlays,connector:a.connector,connectorTooltip:a.connectorTooltip}),this._jsPlumb.enabled=!(!1===a.enabled),this._jsPlumb.visible=!0,this.element=t.getElement(a.source),this._jsPlumb.uuid=a.uuid,this._jsPlumb.floatingEndpoint=null;var h=null;this._jsPlumb.uuid&&(a.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=a.elementId,this.dragProxy=a.dragProxy,this._jsPlumb.connectionCost=a.connectionCost,this._jsPlumb.connectionsDirected=a.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var d=!0===a.deleteOnEmpty;this.setDeleteOnEmpty=function(t){d=t};var p=(function(){var e=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(e),this.addClass(n),t.updateClasses(this.element,n,e)}).bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,l);return e.bind("anchorChanged",(function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),p()}).bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,p(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var f=(function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}).bind(this);this.bind("mouseover",(function(){f(!0)})),this.bind("mouseout",(function(){f(!1)})),a._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,i){var r,o=function(e,n){var i=l.getRenderMode();if(t.Endpoints[i][e])return new t.Endpoints[i][e](n);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+e+"'"}},s={_jsPlumb:this._jsPlumb.instance,cssClass:a.cssClass,container:a.container,tooltip:a.tooltip,connectorTooltip:a.connectorTooltip,endpoint:this};return e.isString(n)?r=o(n,s):e.isArray(n)?(s=e.merge(n[1],s),r=o(n[0],s)):r=n.clone(),r.clone=(function(){return e.isString(n)?o(n,s):e.isArray(n)?(s=e.merge(n[1],s),o(n[0],s)):void 0}).bind(this),r.typeId=i,r},this.setEndpoint=function(t,e){var n=this.prepareEndpoint(t);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(t,e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},t.extend(this,a,o),this.isSource=a.isSource||!1,this.isTemporarySource=a.isTemporarySource||!1,this.isTarget=a.isTarget||!1,this.connections=a.connections||[],this.connectorPointerEvents=a["connector-pointer-events"],this.scope=a.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=a.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,!1!==a.connectionsDetachable&&!1!==a.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==a.dragAllowedWhenFull,a.onMaxConnections&&this.bind("maxConnections",a.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(t,e,n){(e=null==e?this.connections.indexOf(t):e)>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),!n&&d&&0===this.connections.length&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(t){for(var e=this.connections.length,n=0;n<e;n++)l.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,e,n){for(var i=[],r=0;r<this.connections.length;r++)this.connections[r].endpoints[1]!==t&&this.connections[r].endpoints[0]!==t||i.push(this.connections[r]);for(var o=0,s=i.length;o<s;o++)l.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var i=this._jsPlumb.instance.getId(n),r=this.elementId;return e.removeWithFunction(a.endpointsByElement[this.elementId],(function(t){return t.id===this.id}).bind(this)),this.element=t.getElement(n),this.elementId=l.getId(this.element),l.anchorManager.rehomeEndpoint(this,r,this.element),l.dragManager.endpointAdded(this.element),e.addToList(a.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),n=this.anchor.getCssClass();return c({dropOptions:a.dropOptions,anchor:{bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return e},getCssClass:function(){return n}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:a.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){var e=(t=t||{}).timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var i=l.updateOffset({elId:this.elementId,timestamp:e}),r=t.offset?t.offset.o:i.o;if(null!=r){var o=t.anchorPoint,a=t.connectorPaintStyle;if(null==o){var u={xy:[r.left,r.top],wh:t.dimensions||i.s,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var c=s(this,t.elementWithPrecedence),h=c.endpoints[0]===this?1:0,d=l.getCachedData(0===h?c.sourceId:c.targetId),p=d.o,f=d.s;u.index=0===h?1:0,u.connection=c,u.txy=[p.left,p.top],u.twh=f,u.tElement=c.endpoints[h]}else this.connections.length>0&&(u.connection=this.connections[0]);o=this.anchor.compute(u)}for(var m in this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var g=this._jsPlumb.overlays[m];g.isVisible()&&(this._jsPlumb.overlayPlacements[m]=g.draw(this.endpoint,this._jsPlumb.paintStyleInUse),g.paint(this._jsPlumb.overlayPlacements[m]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var m=!1;this.initDraggable=function(){if(!m&&t.isDragSupported(this.element)){var o,s={id:null,element:null},d=null,p=!1,f=null,g=n(this,s,l),v=a.dragOptions||{},y=t.dragEvents.start,b=t.dragEvents.stop,_=t.dragEvents.drag,w=t.dragEvents.beforeStart,C=(function(e){d=this.connectorSelector();var n=!0;this.isEnabled()||(n=!1),null!=d||this.isSource||this.isTemporarySource||(n=!1),!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(n=!1),null==d||d.isDetachable(this)||(this.isFull()?n=!1:d=null);var h=l.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});if(!1===h?n=!1:"object"==typeof h?t.extend(h,o||{}):h=o||{},!1===n)return l.stopDrag&&l.stopDrag(this.canvas),g.stopDrag(),!1;for(var m=0;m<this.connections.length;m++)this.connections[m].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),d&&!this.isFull()&&this.isSource&&(d=null),l.updateOffset({elId:this.elementId});var v=this._jsPlumb.instance.getOffset(this.canvas),y=this.canvas,b=this._jsPlumb.instance.getSize(this.canvas);i(s,l,v,b),l.setAttributes(this.canvas,{dragId:s.id,elId:this.elementId});var _=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var w=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);w.endpoints[1]&&(_=w.endpoints[1])}var C=this._jsPlumb.instance.makeAnchor("Center");C.isFloating=!0,this._jsPlumb.floatingEndpoint=r(this.getPaintStyle(),C,_,this.canvas,s.element,l,c,this.scope);var x=this._jsPlumb.floatingEndpoint.anchor;if(null==d)this.setHover(!1,!1),(d=u({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:s.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:a.connectorStyle,hoverPaintStyle:a.connectorHoverStyle,connector:a.connector,overlays:a.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:a.scope,data:h})).pending=!0,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=x,l.fire("connectionDrag",d),l.anchorManager.newConnection(d);else{p=!0,d.setHover(!1);var E=d.endpoints[0].id===this.id?0:1;this.detachFromConnection(d,null,!0);var S=l.getDragScope(y);l.setAttribute(this.canvas,"originalScope",S),l.fire("connectionDrag",d),0===E?(f=[d.source,d.sourceId,y,S],l.anchorManager.sourceChanged(d.endpoints[E].elementId,s.id,d,s.element)):(f=[d.target,d.targetId,y,S],d.target=s.element,d.targetId=s.id,l.anchorManager.updateOtherEndpoint(d.sourceId,d.endpoints[E].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[E],d.suspendedElement=d.endpoints[E].getElement(),d.suspendedElementId=d.endpoints[E].elementId,d.suspendedElementType=0===E?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[E]=this._jsPlumb.floatingEndpoint,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.registerFloatingConnection(s,d,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}).bind(this),x=(function(){if(l.setConnectionBeingDragged(!1),d&&null!=d.endpoints){var t=l.getDropEvent(arguments),e=l.getFloatingAnchorIndex(d);if(d.endpoints[0===e?1:0].anchor.unlock(),d.removeClass(l.draggingClass),this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[e]===this._jsPlumb.floatingEndpoint)&&p&&d.suspendedEndpoint){0===e?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=f[0],d.sourceId=f[1]):(d.floatingElement=d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=f[0],d.targetId=f[1]);var n=this._jsPlumb.floatingEndpoint;l.setDragScope(f[2],f[3]),d.endpoints[e]=d.suspendedEndpoint,d.isReattach()||d._forceReattach||d._forceDetach||!l.deleteConnection(d,{originalEvent:t})?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1===e?l.anchorManager.updateOtherEndpoint(d.sourceId,d.floatingId,d.targetId,d):l.anchorManager.sourceChanged(d.floatingId,d.sourceId,d,d.source),l.repaint(f[1])):l.deleteObject({endpoint:n})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",d,t),d.pending&&l.fire("connectionAborted",d,t),l.currentlyDragging=!1,d.suspendedElement=null,d.suspendedEndpoint=null,d=null}s&&s.element&&l.remove(s.element,!1,!1),h&&l.deleteObject({endpoint:h}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}).bind(this);(v=t.extend({},v)).scope=this.scope||v.scope,v[w]=e.wrap(v[w],(function(t){o=t.e.payload||{}}),!1),v[y]=e.wrap(v[y],C,!1),v[_]=e.wrap(v[_],g.drag),v[b]=e.wrap(v[b],x),v.multipleDrop=!1,v.canDrag=(function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&!1!==this.connectionsDetachable}).bind(this),l.initDraggable(this.canvas,v,"internal"),this.canvas._jsPlumbRelatedElement=this.element,m=!0}};var g=a.endpoint||this._jsPlumb.instance.Defaults.Endpoint||t.Defaults.Endpoint;this.setEndpoint(g,!0);var v=a.anchor?a.anchor:a.anchors?a.anchors:l.Defaults.Anchor||"Top";this.setAnchor(v,!0);var y=["default",a.type||""].join(" ");this.addType(y,a.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var b=(function(n,i,r,o){if(t.isDropSupported(this.element)){var s=a.dropOptions||l.Defaults.DropOptions||t.Defaults.DropOptions;(s=t.extend({},s)).scope=s.scope||this.scope;var u=t.dragEvents.drop,c=t.dragEvents.over,h=t.dragEvents.out,d=this,p=l.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:l,enabled:function(){return null==r||r.isEnabled()},isFull:function(){return r.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){d.addClass(t)},removeClass:function(t){d.removeClass(t)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:o,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});s[u]=e.wrap(s[u],p,!0),s[c]=e.wrap(s[c],(function(){var e=t.getDragObject(arguments),n=l.getAttribute(t.getElement(e),"dragId"),i=l.getFloatingConnectionFor(n);if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id;if(o){var s=l.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[r],targetEndpoint:this,connection:i});this[(s?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](l.endpointDropForbiddenClass),i.endpoints[r].anchor.over(this.anchor,this)}}}).bind(this)),s[h]=e.wrap(s[h],(function(){var e=t.getDragObject(arguments),n=null==e?null:l.getAttribute(t.getElement(e),"dragId"),i=n?l.getFloatingConnectionFor(n):null;if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id;o&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),i.endpoints[r].anchor.out())}}).bind(this)),l.initDroppable(n,s,"internal",i)}}).bind(this);return this.anchor.isFloating||b(this.canvas,!(a._transient||this.anchor.isFloating),this,a.reference),this},e.extend(t.Endpoint,t.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!n){var r=this===this.connections[i].endpoints[0]?1:0;1===this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(e,n){this.setPaintStyle(e.endpointStyle||e.paintStyle,n),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle,n),null!=e.maxConnections&&(this._jsPlumb.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),t.extend(this,e,o),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){t.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"")),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===t||this.connections[n].endpoints[0]===t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(e){this.element=t.getElement(e)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(n){var i=t.jsPlumb;t.removeClass(i.endpointDropAllowedClass),t.removeClass(i.endpointDropForbiddenClass);var r=i.getDropEvent(arguments),o=i.getDragObject(arguments),s=i.getAttribute(o,"dragId"),a=(i.getAttribute(o,"elId"),i.getAttribute(o,"originalScope")),l=i.getFloatingConnectionFor(s);if(null!=l){var u=null!=l.suspendedEndpoint;if(!u||null!=l.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(l);if(null!=c){if(t.isRedrop(l,t))return l._forceReattach=!0,l.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var h=i.getFloatingAnchorIndex(l);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(l),a&&i.setDragScope(o,a);var d=t.isFull(n);if(d&&c.fire("maxConnections",{endpoint:this,connection:l,maxConnections:c._jsPlumb.maxConnections},r),!d&&t.enabled()){var p=!0;0===h?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=t.element,l.sourceId=t.elementId):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=t.element,l.targetId=t.elementId),u&&l.suspendedEndpoint.id!==c.id&&(l.isDetachAllowed(l)&&l.endpoints[h].isDetachAllowed(l)&&l.suspendedEndpoint.isDetachAllowed(l)&&i.checkCondition("beforeDetach",l)||(p=!1));var f=(function(n){l.endpoints[h].detachFromConnection(l),l.suspendedEndpoint&&l.suspendedEndpoint.detachFromConnection(l),l.endpoints[h]=c,c.addConnection(l);var o=c.getParameters();for(var s in o)l.setParameter(s,o[s]);if(u){var a=l.suspendedEndpoint.elementId;i.fireMoveEvent({index:h,originalSourceId:0===h?a:l.sourceId,newSourceId:0===h?c.elementId:l.sourceId,originalTargetId:1===h?a:l.targetId,newTargetId:1===h?c.elementId:l.targetId,originalSourceEndpoint:0===h?l.suspendedEndpoint:l.endpoints[0],newSourceEndpoint:0===h?c:l.endpoints[0],originalTargetEndpoint:1===h?l.suspendedEndpoint:l.endpoints[1],newTargetEndpoint:1===h?c:l.endpoints[1],connection:l},r)}else o.draggable&&i.initDraggable(this.element,t.dragOptions,"internal",i);1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),l.endpoints[0].finalEndpoint&&(l.endpoints[0].detachFromConnection(l),l.endpoints[0]=l.endpoints[0].finalEndpoint,l.endpoints[0].addConnection(l)),e.isObject(n)&&l.mergeData(n),i.finaliseConnection(l,null,r,!1),l.setHover(!1),i.revalidate(l.endpoints[0].element)}).bind(this),m=function(){l.suspendedEndpoint&&(l.endpoints[h]=l.suspendedEndpoint,l.setHover(!1),l._forceDetach=!0,0===h?(l.source=l.suspendedEndpoint.element,l.sourceId=l.suspendedEndpoint.elementId):(l.target=l.suspendedEndpoint.element,l.targetId=l.suspendedEndpoint.elementId),l.suspendedEndpoint.addConnection(l),1===h?i.anchorManager.updateOtherEndpoint(l.sourceId,l.floatingId,l.targetId,l):i.anchorManager.sourceChanged(l.floatingId,l.sourceId,l,l.source),i.repaint(l.sourceId),l._forceDetach=!1)};if(p=p&&t.isDropAllowed(l.sourceId,l.targetId,l.scope,l,c))return f(p),!0;m()}t.maybeCleanup&&t.maybeCleanup(c),i.currentlyDragging=!1}}}}}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,i,r,o,s){if(e.Connectors[i]=e.Connectors[i]||{},null==e.Connectors[i][r]){if(null==e.Connectors[r]){if(t.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+r+"'")}e.Connectors[i][r]=function(){e.Connectors[r].apply(this,arguments),e.ConnectorRenderers[i].apply(this,arguments)},n.extend(e.Connectors[i][r],[e.Connectors[r],e.ConnectorRenderers[i]])}return new e.Connectors[i][r](o,s)},r=function(t,e,n){return t?n.makeAnchor(t,e,n):null},o=function(t,e,i,r){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},r?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?i.removeClass(e,i.connectedClass):i.addClass(e,i.connectedClass))};e.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",(function(){this.setHover(!0)}).bind(this)),this.bind("mouseout",(function(){this.setHover(!1)}).bind(this)),this.makeEndpoint=function(e,n,o,s,a){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,i,this,s,e?0:1,t,n,o,a)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&n.addToList(t.endpointsByElement,this.sourceId,o),s&&n.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=r.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var l=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||r.Defaults.PaintStyle||e.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||r.Defaults.HoverPaintStyle||e.Defaults.HoverPaintStyle});var u=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),h=c.o,d=c.s,p=r.getCachedData(this.targetId),f=p.o,m=p.s,g=u||r.timestamp(),v=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[f.left,f.top],twh:m,tElement:this.endpoints[1],timestamp:g});this.endpoints[0].paint({anchorLoc:v,timestamp:g}),v=this.endpoints[1].anchor.compute({xy:[f.left,f.top],wh:m,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:g}),this.endpoints[1].paint({anchorLoc:v,timestamp:g})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(t){return!1!==this._jsPlumb.detachable&&(null!=t?!0===t.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=e.extend({},this.endpoints[1].getParameters());e.extend(y,this.endpoints[0].getParameters()),e.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||r.Defaults.Connector||e.Defaults.Connector,!0);var b=null!=t.data&&n.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=e.extend(b,t)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,i){var r=null;null!=t.connector&&(null==(r=this.getCachedTypeItem("connector",i.connector))&&(r=this.prepareConnector(t.connector,i.connector),this.cacheTypeItem("connector",r,i.connector)),this.setPreparedConnector(r)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var o=null;t.anchor?null==(o=this.getCachedTypeItem("anchors",i.anchor))&&(o=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",o,i.anchor)):t.anchors&&null==(o=this.getCachedTypeItem("anchors",i.anchors))&&(o=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",o,i.anchors)),null!=o&&(this.endpoints[0].anchor=o[0],this.endpoints[1].anchor=o[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,e){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return n.isString(t)?r=i(this._jsPlumb.instance,s,t,o,this):n.isArray(t)&&(r=i(this._jsPlumb.instance,s,t[0],1===t.length?o:n.merge(t[1],o),this)),null!=e&&(r.typeId=e),r},setPreparedConnector:function(t,e,n,i){if(this.connector!==t){var r,o="";if(null!=this.connector&&(o=(r=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()}},setConnector:function(t,e,n,i){var r=this.prepareConnector(t,i);this.setPreparedConnector(r,e,n,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var e=(t=t||{}).timestamp,n=this.targetId;if(null==e||e!==this._jsPlumb.lastPaintedAt){var i=this._jsPlumb.instance.updateOffset({elId:this.sourceId}).o,r=this._jsPlumb.instance.updateOffset({elId:n}).o,o=this.endpoints[0],s=this.endpoints[1],a=o.anchor.getCurrentLocation({xy:[i.left,i.top],wh:[i.width,i.height],element:o,timestamp:e}),l=s.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:s,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:a,targetPos:l,sourceOrientation:o.anchor.getOrientation(o),targetOrientation:s.anchor.getOrientation(s),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:i,targetInfo:r});var u={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var c in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(c)){var h=this._jsPlumb.overlays[c];h.isVisible()&&(this._jsPlumb.overlayPlacements[c]=h.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(h)),u.minX=Math.min(u.minX,this._jsPlumb.overlayPlacements[c].minX),u.maxX=Math.max(u.maxX,this._jsPlumb.overlayPlacements[c].maxX),u.minY=Math.min(u.minY,this._jsPlumb.overlayPlacements[c].minY),u.maxY=Math.max(u.maxY,this._jsPlumb.overlayPlacements[c].maxY))}var d=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),f={xmin:Math.min(this.connector.bounds.minX-(d+p),u.minX),ymin:Math.min(this.connector.bounds.minY-(d+p),u.minY),xmax:Math.max(this.connector.bounds.maxX+(d+p),u.maxX),ymax:Math.max(this.connector.bounds.maxY+(d+p),u.maxY)};for(var m in this.connector.paint(this._jsPlumb.paintStyleInUse,null,f),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var g=this._jsPlumb.overlays[m];g.isVisible()&&g.paint(this._jsPlumb.overlayPlacements[m],f)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){var e=jsPlumb.extend(t||{},{});e.elId=this.sourceId,this.paint(e)},prepareEndpoint:function(t,n,i,o,s,a,l,u,c){var h;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var d=c||a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||e.Defaults.Endpoints[s]||t.Defaults.Endpoint||e.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var p=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||e.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||e.Defaults.EndpointStyle;null==p.fill&&null!=a.paintStyle&&(p.fill=a.paintStyle.stroke),null==p.outlineStroke&&null!=a.paintStyle&&(p.outlineStroke=a.paintStyle.outlineStroke),null==p.outlineWidth&&null!=a.paintStyle&&(p.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||e.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fill&&(f.fill=a.hoverPaintStyle.stroke));var m=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(t.Defaults.Anchors[s],u,t)||r(e.Defaults.Anchors[s],u,t)||r(t.Defaults.Anchor,u,t)||r(e.Defaults.Anchor,u,t);h=n({paintStyle:p,hoverPaintStyle:f,endpoint:d,connections:[i],uuid:a.uuids?a.uuids[s]:null,anchor:m,source:l,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==o&&h.setDeleteOnEmpty(!0),i.endpoints[s]=h,!1===a.drawEndpoints&&h.setVisible(!1,!0,!0)}return h},replaceEndpoint:function(t,e){var n=this.endpoints[t],i=n.elementId,r=this._jsPlumb.instance.getEndpoints(i),o=r.indexOf(n),s=this.makeEndpoint(0===t,n.element,i,null,e);this.endpoints[t]=s,r.splice(o,1,s),this._jsPlumb.instance.deleteObject({endpoint:n,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:n,current:s}),this._jsPlumb.instance.anchorManager.updateOtherEndpoint(this.endpoints[0].elementId,this.endpoints[1].elementId,this.endpoints[1].elementId,this)}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbUtil,e=this.jsPlumb;e.AnchorManager=function(n){var i={},r={},o={},s={},a=this,l={},u=n.jsPlumbInstance,c={},h=function(t){return function(e,n){return 0==(t?e[0][0]<n[0][0]:e[0][0]>n[0][0])?-1:1}},d={top:function(t,e){return t[0]>e[0]?1:-1},right:h(!0),bottom:h(!0),left:function(t,e){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])?1:-1}},p=function(t,e){var n=u.getCachedData(t),i=n.s,s=n.o,a=function(e,n,i,s,a,l,u){if(s.length>0)for(var c=function(t,e,n,i,r,o,s){for(var a=[],l=e[r?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,h=o*e[r?1:0];s&&(c=e[r?0:1]-c);var d=r?c:h,p=r?h:c;a.push([n[0]+d,n[1]+p,d/e[0],p/e[1],i[u][1],i[u][2]])}return a}(0,n,i,s.sort(d[e]),a,l,"right"===e||"top"===e),h=function(t,e){r[t.id]=[e[0],e[1],e[2],e[3]],o[t.id]=u},p=0;p<c.length;p++){var f=c[p][4],m=f.endpoints[1].elementId===t;f.endpoints[0].elementId===t&&h(f.endpoints[0],c[p]),m&&h(f.endpoints[1],c[p])}};a("bottom",i,[s.left,s.top],e.bottom,!0,1,[0,1]),a("top",i,[s.left,s.top],e.top,!0,0,[0,-1]),a("left",i,[s.left,s.top],e.left,!1,0,[-1,0]),a("right",i,[s.left,s.top],e.right,!1,1,[1,0])};this.reset=function(){i={},s={},l={}},this.addFloatingConnection=function(t,e){c[t]=e},this.removeFloatingConnection=function(t){delete c[t]},this.newConnection=function(n){var i=n.sourceId,r=n.targetId,o=n.endpoints,a=!0,l=function(l,u,c,h,d){i===r&&c.isContinuous&&(n._jsPlumb.instance.removeElement(o[1].canvas),a=!1),t.addToList(s,h,[d,u,c.constructor===e.DynamicAnchor])};l(0,o[0],o[0].anchor,r,n),a&&l(0,o[1],o[1].anchor,i,n)};var f=function(e){!function(e,n){if(e){var i=function(t){return t[4]===n};t.removeWithFunction(e.top,i),t.removeWithFunction(e.left,i),t.removeWithFunction(e.bottom,i),t.removeWithFunction(e.right,i)}}(l[e.elementId],e.id)};this.connectionDetached=function(e,n){var i=e.connection||e,r=e.targetId,o=function(e,n,i,r,o){t.removeWithFunction(s[r],(function(t){return t[0].id===o.id}))};o(0,0,0,e.sourceId,i),o(0,0,0,r,i),i.floatingId&&(o(0,0,0,i.floatingId,i),f(i.floatingEndpoint)),f(i.endpoints[0]),f(i.endpoints[1]),n||(a.redraw(i.sourceId),i.targetId!==i.sourceId&&a.redraw(i.targetId))},this.add=function(e,n){t.addToList(i,n,e)},this.changeId=function(t,e){s[e]=s[t],i[e]=i[t],delete s[t],delete i[t]},this.getConnectionsFor=function(t){return s[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(e){t.removeWithFunction(i[e.elementId],(function(t){return t.id===e.id})),f(e)},this.clearFor=function(t){delete i[t],i[t]=[]};var m=function(e,i,r,o,s,a,l,u,c,h,d,p){var f,m,g=-1,v=o.endpoints[l],y=v.id,b=[1,0][l],_=[[i,r],o,s,a,y],w=e[c],C=v._continuousAnchorEdge?e[v._continuousAnchorEdge]:null;if(C){var x=t.findWithFunction(C,(function(t){return t[4]===y}));if(-1!==x)for(C.splice(x,1),f=0;f<C.length;f++)t.addWithFunction(d,m=C[f][1],(function(t){return t.id===m.id})),t.addWithFunction(p,C[f][1].endpoints[l],(function(t){return t.id===m.endpoints[l].id})),t.addWithFunction(p,C[f][1].endpoints[b],(function(t){return t.id===m.endpoints[b].id}))}for(f=0;f<w.length;f++)1===n.idx&&w[f][3]===a&&-1===g&&(g=f),t.addWithFunction(d,m=w[f][1],(function(t){return t.id===m.id})),t.addWithFunction(p,w[f][1].endpoints[l],(function(t){return t.id===m.endpoints[l].id})),t.addWithFunction(p,w[f][1].endpoints[b],(function(t){return t.id===m.endpoints[b].id}));w.splice(u?-1!==g?g:0:w.length,0,_),v._continuousAnchorEdge=c};this.updateOtherEndpoint=function(n,i,r,o){var a=t.findWithFunction(s[n],(function(t){return t[0].id===o.id})),l=t.findWithFunction(s[i],(function(t){return t[0].id===o.id}));-1!==a&&(s[n][a][0]=o,s[n][a][1]=o.endpoints[1],s[n][a][2]=o.endpoints[1].anchor.constructor===e.DynamicAnchor),l>-1&&(s[i].splice(l,1),t.addToList(s,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===e.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(n,i,r,o){if(n!==i){r.sourceId=i,r.source=o,t.removeWithFunction(s[n],(function(t){return t[0].id===r.id}));var a=t.findWithFunction(s[r.targetId],(function(t){return t[0].id===r.id}));a>-1&&(s[r.targetId][a][0]=r,s[r.targetId][a][1]=r.endpoints[0],s[r.targetId][a][2]=r.endpoints[0].anchor.constructor===e.DynamicAnchor),t.addToList(s,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor===e.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var r=i[e]||[],o=u.getId(n);if(o!==e){var s=r.indexOf(t);if(s>-1){var l=r.splice(s,1)[0];a.add(l,o)}}for(var c=0;c<t.connections.length;c++)t.connections[c].sourceId===e?a.sourceChanged(e,t.elementId,t.connections[c],t.element):t.connections[c].targetId===e&&(t.connections[c].targetId=t.elementId,t.connections[c].target=t.element,a.updateOtherEndpoint(t.connections[c].sourceId,e,t.elementId,t.connections[c]))},this.redraw=function(n,r,o,a,h,d){if(!u.isSuspendDrawing()){var f=i[n]||[],g=s[n]||[],v=[],y=[],b=[];o=o||u.timestamp(),a=a||{left:0,top:0},r&&(r={left:r.left+a.left,top:r.top+a.top});for(var _=u.updateOffset({elId:n,offset:r,recalc:!1,timestamp:o}),w={},C=0;C<g.length;C++){var x=g[C][0],E=x.sourceId,S=x.targetId,k=x.endpoints[0].anchor.isContinuous,P=x.endpoints[1].anchor.isContinuous;if(k||P){var D=E+"_"+S,A=w[D],T=x.sourceId===n?1:0;k&&!l[E]&&(l[E]={top:[],right:[],bottom:[],left:[]}),P&&!l[S]&&(l[S]={top:[],right:[],bottom:[],left:[]}),n!==S&&u.updateOffset({elId:S,timestamp:o}),n!==E&&u.updateOffset({elId:E,timestamp:o});var I=u.getCachedData(S),j=u.getCachedData(E);S===E&&(k||P)?(m(l[E],-Math.PI/2,0,x,!1,S,0,!1,"top",0,v,y),m(l[S],-Math.PI/2,0,x,!1,E,1,!1,"top",0,v,y)):(A||(A=this.calculateOrientation(E,S,j.o,I.o,x.endpoints[0].anchor,x.endpoints[1].anchor,x),w[D]=A),k&&m(l[E],A.theta,0,x,!1,S,0,!1,A.a[0],0,v,y),P&&m(l[S],A.theta2,-1,x,!0,E,1,!0,A.a[1],0,v,y)),k&&t.addWithFunction(b,E,(function(t){return t===E})),P&&t.addWithFunction(b,S,(function(t){return t===S})),t.addWithFunction(v,x,(function(t){return t.id===x.id})),(k&&0===T||P&&1===T)&&t.addWithFunction(y,x.endpoints[T],(function(t){return t.id===x.endpoints[T].id}))}}for(C=0;C<f.length;C++)0===f[C].connections.length&&f[C].anchor.isContinuous&&(l[n]||(l[n]={top:[],right:[],bottom:[],left:[]}),m(l[n],-Math.PI/2,0,{endpoints:[f[C],f[C]],paint:function(){}},!1,n,0,!1,f[C].anchor.getDefaultFace(),0,v,y),t.addWithFunction(b,n,(function(t){return t===n})));for(C=0;C<b.length;C++)p(b[C],l[b[C]]);for(C=0;C<f.length;C++)f[C].paint({timestamp:o,offset:_,dimensions:_.s,recalc:!0!==d});for(C=0;C<y.length;C++){var O=u.getCachedData(y[C].elementId);y[C].paint({timestamp:null,offset:O,dimensions:O.s})}for(C=0;C<g.length;C++){var M=g[C][1];if(M.anchor.constructor===e.DynamicAnchor){M.paint({elementWithPrecedence:n,timestamp:o}),t.addWithFunction(v,g[C][0],(function(t){return t.id===g[C][0].id}));for(var R=0;R<M.connections.length;R++)M.connections[R]!==g[C][0]&&t.addWithFunction(v,M.connections[R],(function(t){return t.id===M.connections[R].id}))}else t.addWithFunction(v,g[C][0],(function(t){return t.id===g[C][0].id}))}var N=c[n];for(N&&N.paint({timestamp:o,recalc:!1,elId:n}),C=0;C<v.length;C++)v[C].paint({elId:n,timestamp:null,recalc:!1,clearEdits:h})}};var g=function(e){t.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=e.faces||["top","right","bottom","left"],i=!(!1===e.clockwise),s={},a={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",bottom:"left"},u={top:"left",right:"top",left:"bottom",bottom:"right"},c=i?l:u,h=i?u:l,d=e.cssClass||"",p=null,f=null,m=["left","right"],g=["top","bottom"],v=null,y=0;y<n.length;y++)s[n[y]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return s[t]?t:s[a[t]]?a[t]:s[c[t]]?c[t]:s[h[t]]?h[t]:t},this.isEdgeSupported=function(t){return null==v?null==f?!0===s[t]:f===t:-1!==v.indexOf(t)},this.setCurrentFace=function(t,e){p=t,e&&null!=f&&(f=p)},this.getCurrentFace=function(){return p},this.getSupportedFaces=function(){var t=[];for(var e in s)s[e]&&t.push(e);return t},this.lock=function(){f=p},this.unlock=function(){f=null},this.isLocked=function(){return null!=f},this.lockCurrentAxis=function(){null!=p&&(v="left"===p||"right"===p?m:g)},this.unlockCurrentAxis=function(){v=null},this.compute=function(t){return r[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return r[t.element.id]||[0,0]},this.getOrientation=function(t){return o[t.id]||[0,0]},this.getCssClass=function(){return d}};u.continuousAnchorFactory={get:function(t){return new g(t)},clear:function(t){delete r[t]}}},e.AnchorManager.prototype.calculateOrientation=function(t,e,n,i,r,o){var s=["left","top","right","bottom"];if(t===e)return{orientation:"identity",a:["top","top"]};var a=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),l=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),u=[],c={};!function(t,e){for(var n=0;n<t.length;n++)c[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,i]);for(var h=0;h<s.length;h++)for(var d=0;d<s.length;d++)u.push({source:s[h],target:s[d],dist:Biltong.lineLength(c.source[s[h]],c.target[s[d]])});u.sort((function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0}));for(var p=u[0].source,f=u[0].target,m=0;m<u.length&&(p=!r.isContinuous||r.isEdgeSupported(u[m].source)?u[m].source:null,f=!o.isContinuous||o.isEdgeSupported(u[m].target)?u[m].target:null,null==p||null==f);m++);return r.isContinuous&&r.setCurrentFace(p),o.isContinuous&&o.setCurrentFace(f),{a:[p,f],theta:a,theta2:l}},e.Anchor=function(e){this.x=e.x||0,this.y=e.y||0,this.elementId=e.elementId,this.cssClass=e.cssClass||"",this.userDefinedLocation=null,this.orientation=e.orientation||[0,0],this.lastReturnValue=null,this.offsets=e.offsets||[0,0],this.timestamp=null;var n=!1!==e.relocatable;this.isRelocatable=function(){return n},this.setRelocatable=function(t){n=t};var i=!1!==e.snapOnRelocate;this.isSnapOnRelocate=function(){return i};var r=!1;this.lock=function(){r=!0},this.unlock=function(){r=!1},this.isLocked=function(){return r},t.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===this.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1],this.x,this.y],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue},this.setPosition=function(t,e,n,i,o){r&&!o||(this.x=t,this.y=e,this.orientation=[n,i],this.lastReturnValue=null)}},t.extend(e.Anchor,t.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&n[0]===e[0]&&n[1]===e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(t){e.Anchor.apply(this,arguments);var n=t.reference,i=t.referenceCanvas,r=e.getSize(i),o=0,s=0,a=null,l=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+r[0]/2,e[1]+r[1]/2];return l=n,n},this.getOrientation=function(t){if(a)return a;var e=n.getOrientation(t);return[Math.abs(e[0])*o*-1,Math.abs(e[1])*s*-1]},this.over=function(t,e){a=t.getOrientation(e)},this.out=function(){a=null},this.getCurrentLocation=function(t){return null==l?this.compute(t):l}},t.extend(e.FloatingAnchor,e.Anchor);var n=function(t,n,i){return t.constructor===e.Anchor?t:n.makeAnchor(t,i,n)};e.DynamicAnchor=function(t){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var i=0;i<t.anchors.length;i++)this.anchors[i]=n(t.anchors[i],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var r=this.anchors.length>0?this.anchors[0]:null,o=r,s=this,a=function(t,e,n,i,r){var o=i[0]+t.x*r[0],s=i[1]+t.y*r[1],a=i[0]+r[0]/2,l=i[1]+r[1]/2;return Math.sqrt(Math.pow(e-o,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2))},l=t.selector||function(t,e,n,i,r){for(var o=n[0]+i[0]/2,s=n[1]+i[1]/2,l=-1,u=1/0,c=0;c<r.length;c++){var h=a(r[c],o,s,t,e);h<u&&(l=c+0,u=h)}return r[l]};this.compute=function(t){var e=t.xy,n=t.wh,i=t.txy,a=t.twh;this.timestamp=t.timestamp;var u=s.getUserDefinedLocation();return null!=u?u:this.isLocked()||null==i||null==a?r.compute(t):(t.timestamp=null,r=l(e,n,i,a,this.anchors),this.x=r.x,this.y=r.y,r!==o&&this.fire("anchorChanged",r),o=r,r.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=r?r.getOrientation(t):[0,0]},this.over=function(t,e){null!=r&&r.over(t,e)},this.out=function(){null!=r&&r.out()},this.setAnchor=function(t){r=t},this.getCssClass=function(){return r&&r.getCssClass()||""},this.setAnchorCoordinates=function(t){var e=jsPlumbUtil.findWithFunction(this.anchors,(function(e){return e.x===t[0]&&e.y===t[1]}));return-1!==e&&(this.setAnchor(this.anchors[e]),!0)}},t.extend(e.DynamicAnchor,e.Anchor);var i=function(t,n,i,r,o,s){e.Anchors[o]=function(e){var a=e.jsPlumbInstance.makeAnchor([t,n,i,r,0,0],e.elementId,e.jsPlumbInstance);return a.type=o,s&&s(a,e),a}};i(.5,0,0,-1,"TopCenter"),i(.5,1,0,1,"BottomCenter"),i(0,.5,-1,0,"LeftMiddle"),i(1,.5,1,0,"RightMiddle"),i(.5,0,0,-1,"Top"),i(.5,1,0,1,"Bottom"),i(0,.5,-1,0,"Left"),i(1,.5,1,0,"Right"),i(.5,.5,0,0,"Center"),i(1,0,0,-1,"TopRight"),i(1,1,0,1,"BottomRight"),i(0,0,0,-1,"TopLeft"),i(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},e.Anchors.AutoDefault=function(t){var n=t.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(t));return n.type="AutoDefault",n};var r=function(t,n){e.Anchors[t]=function(e){var i=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],e.elementId,e.jsPlumbInstance);return i.type=t,i}};e.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},r("ContinuousLeft",["left"]),r("ContinuousTop",["top"]),r("ContinuousBottom",["bottom"]),r("ContinuousRight",["right"]),i(0,0,0,0,"Assign",(function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor===String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e})),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,i){var r=t.top-e.top,o=n[0]/i.grid[0],s=n[1]/i.grid[1],a=Math.floor((t.left-e.left)/o),l=Math.floor(r/s);return[(a*o+o/2)/n[0],(l*s+s/2)/n[1]]}},e.Anchors.Perimeter=function(t){var e=(t=t||{}).anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=2*Math.PI/e,n=0,i=[],r=0;r<e;r++){var o=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);i.push([o,s,0,0]),n+=t}return i},r=function(t){for(var n=e/t.length,i=[],r=function(t,r,o,s,a,l,u){for(var c=(o-t)/(n=e*a),h=(s-r)/n,d=0;d<n;d++)i.push([t+c*d,r+h*d,null==l?0:l,null==u?0:u])},o=0;o<t.length;o++)r.apply(null,t[o]);return i},o=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length,t[n][4],t[n][5]]);return r(e)},s=function(){return o([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],i=0,o=0;o<e.length-1;o++){var s=Math.sqrt(Math.pow(e[o][2]-e[o][0])+Math.pow(e[o][3]-e[o][1]));i+=s,n.push([e[o][0],e[o][1],e[o+1][0],e[o+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return r(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var l=a[n](t);t.rotation&&(l=function(t,e){for(var n=[],i=e/180*Math.PI,r=0;r<t.length;r++){var o=t[r][0]-.5,s=t[r][1]-.5;n.push([o*Math.cos(i)-s*Math.sin(i)+.5,o*Math.sin(i)+s*Math.cos(i)+.5,t[r][2],t[r][3]])}return n}(l,t.rotation));var u=t.jsPlumbInstance.makeDynamicAnchor(l);return u.type="Perimeter",u}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,e){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}},this.lineIntersection=function(t,e,n,i){return[]},this.boxIntersection=function(t,e,n,i){var r=[];return r.push.apply(r,this.lineIntersection(t,e,t+n,e)),r.push.apply(r,this.lineIntersection(t+n,e,t+n,e+i)),r.push.apply(r,this.lineIntersection(t+n,e+i,t,e+i)),r.push.apply(r,this.lineIntersection(t,e+i,t,e)),r},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.y)}},Straight:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n,r,o,s,a,l,u,c=function(){n=Math.sqrt(Math.pow(a-s,2)+Math.pow(u-l,2)),r=i.gradient({x:s,y:l},{x:a,y:u}),o=-1/r};this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:l,x2:a,y2:u}},this.setCoordinates=function(t){s=t.x1,l=t.y1,a=t.x2,u=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(l,u),maxX:Math.max(s,a),maxY:Math.max(l,u)}},this.pointOnPath=function(t,e){return 0!==t||e?1!==t||e?i.pointOnLine({x:s,y:l},{x:a,y:u},e?t>0?t:n+t:t*n):{x:a,y:u}:{x:s,y:l}},this.gradientAtPoint=function(t){return r},this.pointAlongPathFrom=function(t,e,n){var r=this.pointOnPath(t,n),o=e<=0?{x:s,y:l}:{x:a,y:u};return e<=0&&Math.abs(e)>1&&(e*=-1),i.pointOnLine(r,o,e)};var h=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},d=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var c={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:l,y2:u};if(0===r)c.y=l,c.x=h(s,a,t)?t:d(s,a,t);else if(r===1/0||r===-1/0)c.x=s,c.y=h(l,u,e)?e:d(l,u,e);else{var p=l-r*s,f=(e-o*t-p)/(r-o),m=r*f+p;c.x=h(s,a,f)?f:d(s,a,f),c.y=h(l,u,m)?m:d(l,u,m)}var g=i.lineLength([c.x,c.y],[s,l]);return c.d=i.lineLength([t,e],[c.x,c.y]),c.l=g/n,c};var p=function(t,e,n){return n>e?e<=t&&t<=n:e>=t&&t>=n},f=p;this.lineIntersection=function(t,e,n,o){var c=Math.abs(i.gradient({x:t,y:e},{x:n,y:o})),h=Math.abs(r),d=h===1/0?s:l-h*s,p=[],m=c===1/0?t:e-c*t;if(c!==h)if(c===1/0&&0===h)f(t,s,a)&&f(l,e,o)&&(p=[t,l]);else if(0===c&&h===1/0)f(e,l,u)&&f(s,t,n)&&(p=[s,e]);else{var g,v;c===1/0?f(g=t,s,a)&&f(v=h*t+d,e,o)&&(p=[g,v]):0===c?f(v=e,l,u)&&f(g=(e-d)/h,t,n)&&(p=[g,v]):(v=h*(g=(m-d)/(h-c))+d,f(g,s,a)&&f(v,l,u)&&(p=[g,v]))}return p},this.boxIntersection=function(t,e,n,i){var r=[];return r.push.apply(r,this.lineIntersection(t,e,t+n,e)),r.push.apply(r,this.lineIntersection(t+n,e,t+n,e+i)),r.push.apply(r,this.lineIntersection(t+n,e+i,t,e+i)),r.push.apply(r,this.lineIntersection(t,e+i,t,e)),r},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.h)}},Arc:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n=function(e,n){return i.theta([t.cx,t.cy],[e,n])},r=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var i=Math.abs((t.endAngle<t.startAngle?t.endAngle+o:t.endAngle)-t.startAngle);return t.startAngle+i*e},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var s=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(s-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,l=this.sweep/o,u=a*l;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=1e-10,h=function(t){var e=Math.floor(t),n=Math.ceil(t);return t-e<c?e:n-t<c?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=u);var i=r(this,e),o=t.cx+t.r*Math.cos(i),s=t.cy+t.r*Math.sin(i);return{x:h(o),y:h(s),theta:i}},this.gradientAtPoint=function(e,n){var r=this.pointOnPath(e,n),o=i.normal([t.cx,t.cy],[r.x,r.y]);return this.anticlockwise||o!==1/0&&o!==-1/0||(o*=-1),o},this.pointAlongPathFrom=function(e,n,i){var r=this.pointOnPath(e,i),o=n/a*2*Math.PI,s=r.theta+(this.anticlockwise?-1:1)*o;return{x:t.cx+this.radius*Math.cos(s),y:t.cy+this.radius*Math.sin(s)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],e.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var i=function(e,n,i){return i&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=i(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=i(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,r){return e=i(this.curve,e,r),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(e,n){var i=t.jsBezier.nearestPointOnCurve({x:e,y:n},this.curve);return{d:Math.sqrt(Math.pow(i.point.x-e,2)+Math.pow(i.point.y-n,2)),x:i.point.x,y:i.point.y,l:i.location,s:this}},this.lineIntersection=function(e,n,i,r){return t.jsBezier.lineIntersection(e,n,i,r,this.curve)}}},e.SegmentRenderer={getPath:function(t,e){return{Straight:function(e){var n=t.getCoordinates();return(e?"M "+n.x1+" "+n.y1+" ":"")+"L "+n.x2+" "+n.y2},Bezier:function(e){var n=t.params;return(e?"M "+n.x2+" "+n.y2+" ":"")+"C "+n.cp2x+" "+n.cp2y+" "+n.cp1x+" "+n.cp1y+" "+n.x1+" "+n.y1},Arc:function(e){var n=t.sweep>Math.PI?1:0;return(e?"M"+t.x1+" "+t.y1+" ":"")+"A "+t.radius+" "+t.params.r+" 0 "+n+","+(t.anticlockwise?0:1)+" "+t.x2+" "+t.y2}}[t.type](e)}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){r.apply(this,arguments);var o=[],s=0,a=[],l=[],u=t.stub||0,c=n.isArray(u)?u[0]:u,h=n.isArray(u)?u[1]:u,d=t.gap||0,p=n.isArray(d)?d[0]:d,f=n.isArray(d)?d[1]:d,m=null,g=null;this.getPathData=function(){for(var t="",n=0;n<o.length;n++)t+=e.SegmentRenderer.getPath(o[n],0===n),t+=" ";return t},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(t,e);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=o[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i)}return n},this.lineIntersection=function(t,e,n,i){for(var r=[],s=0;s<o.length;s++)r.push.apply(r,o[s].lineIntersection(t,e,n,i));return r},this.boxIntersection=function(t,e,n,i){for(var r=[],s=0;s<o.length;s++)r.push.apply(r,o[s].boxIntersection(t,e,n,i));return r},this.boundingBoxIntersection=function(t){for(var e=[],n=0;n<o.length;n++)e.push.apply(e,o[n].boundingBoxIntersection(t));return e};var v=function(){for(var t=0,e=0;e<o.length;e++){var n=o[e].getLength();l[e]=n/s,a[e]=[t,t+=n/s]}},y=function(t,e){e&&(t=t>0?t/s:(s+t)/s);for(var n=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=t){n=r,i=1===t?1:0===t?0:(t-a[r][0])/l[r];break}return{segment:o[n],proportion:i,index:n}},b=function(t,n,i){if(i.x1!==i.x2||i.y1!==i.y2){var r=new e.Segments[n](i);o.push(r),s+=r.getLength(),t.updateBounds(r)}},_=function(){s=o.length=a.length=l.length=0};this.setSegments=function(t){m=[],s=0;for(var e=0;e<t.length;e++)m.push(t[e]),s+=t[e].getLength()},this.getLength=function(){return s};var w=function(t){this.strokeWidth=t.strokeWidth;var e=i.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],r=t.targetPos[1]<t.sourcePos[1],o=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),l=n?t.targetPos[0]:t.sourcePos[0],u=r?t.targetPos[1]:t.sourcePos[1],d=Math.abs(t.targetPos[0]-t.sourcePos[0]),m=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var g=d>m?0:1,v=[1,0][g];a=[],(s=[])[g]=t.sourcePos[g]>t.targetPos[g]?-1:1,a[g]=t.sourcePos[g]>t.targetPos[g]?1:-1,s[v]=0,a[v]=0}var y=n?d+p*s[0]:p*s[0],b=r?m+p*s[1]:p*s[1],_=n?f*a[0]:d+f*a[0],w=r?f*a[1]:m+f*a[1],C=s[0]*a[0]+s[1]*a[1],x={sx:y,sy:b,tx:_,ty:w,lw:o,xSpan:Math.abs(_-y),ySpan:Math.abs(w-b),mx:(y+_)/2,my:(b+w)/2,so:s,to:a,x:l,y:u,w:d,h:m,segment:e,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:_+a[0]*h,endStubY:w+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>c+h,isYGreaterThanStubTimes2:Math.abs(b-w)>c+h,opposite:-1===C,perpendicular:0===C,orthogonal:1===C,sourceAxis:0===s[0]?"y":"x",points:[l,u,d,m,y,b,_,w],stubs:[c,h]};return x.anchorOrientation=x.opposite?"opposite":x.orthogonal?"orthogonal":"perpendicular",x};return this.getSegments=function(){return o},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)},this.pointOnPath=function(t,e){var n=y(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=y(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var i=y(t,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,e,!1)||[0,0]},this.compute=function(t){g=w.call(this,t),_(),this._compute(g,t),this.x=g.points[0],this.y=g.points[1],this.w=g.points[2],this.h=g.points[3],this.segment=g.segment,v()},{addSegment:b,prepareCompute:w,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:p,targetGap:f,maxGap:Math.max(p,f)}},n.extend(e.Connectors.AbstractConnector,r),e.Endpoints.AbstractEndpoint=function(t){r.apply(this,arguments);var e=this.compute=function(t,e,n,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r};return{compute:e,cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,r),e.Endpoints.Dot=function(t){this.type="Dot",e.Endpoints.AbstractEndpoint.apply(this,arguments),this.radius=(t=t||{}).radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n,i){this.radius=n.radius||this.radius;var r=t[0]-this.radius,o=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.stroke){var l=n.strokeWidth||1;r-=l,o-=l,s+=2*l,a+=2*l}return[r,o,s,a,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),this.width=(t=t||{}).width||20,this.height=t.height||20,this._compute=function(t,e,n,i){var r=n.width||this.width,o=n.height||this.height;return[t[0]-r/2,t[1]-o/2,r,o]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var o=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(o,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(i){this.type="Image",o.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,s=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=(function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}).bind(this),this._jsPlumb.endpoint.setImage=(function(t,e){var n=t.constructor===String?t:t.src;r=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}).bind(this),this._jsPlumb.endpoint.setImage(s,r),this._compute=function(t,e,n,i){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=e.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,e,i){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),n.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout((function(){this.paint(e,n)}).bind(this),200))}},n.extend(e.Endpoints.Image,[o,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",o.apply(this,arguments),this._compute=function(t,e,n,i){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=e.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,e){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,i,r){var o=i.width||n.width,s=i.height||n.height;return[t[0]-o/2,t[1]-s/2,o,s]}};var s=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,e){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1;var r=this;this.length=(t=t||{}).length||20,this.width=t.width||20,this.id=t.id,this.direction=(t.direction||1)<0?-1:1;var o=t.paintStyle||{"stroke-width":1},a=t.foldback||.623;this.computeMaxSize=function(){return 1.5*r.width},this.elementCreated=function(n,i){if(this.path=n,t.events)for(var r in t.events)e.on(n,r,t.events[r])},this.draw=function(t,e){var r,s,l,u;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var c=parseInt(this.loc,10),h=this.loc<0?1:0;r=t.pointAlongPathFrom(h,c,!1),s=t.pointAlongPathFrom(h,c-this.direction*this.length/2,!1),l=i.pointOnLine(r,s,this.length)}else if(1===this.loc){if(r=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),l=i.pointOnLine(r,s,this.length),-1===this.direction){var d=l;l=r,r=d}}else if(0===this.loc){if(l=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),r=i.pointOnLine(l,s,this.length),-1===this.direction){var p=l;l=r,r=p}}else r=t.pointAlongPathFrom(this.loc,this.direction*this.length/2),s=t.pointOnPath(this.loc),l=i.pointOnLine(r,s,this.length);return{component:t,d:{hxy:r,tail:u=i.perpendicularLineTo(r,l,this.width),cxy:i.pointOnLine(r,l,a*this.length)},"stroke-width":o.strokeWidth||e.strokeWidth,stroke:o.stroke||e.stroke,fill:o.fill||e.stroke,minX:Math.min(r.x,u[0].x,u[1].x),maxX:Math.max(r.x,u[0].x,u[1].x),minY:Math.min(r.y,u[0].y,u[1].y),maxY:Math.max(r.y,u[0].y,u[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),e.Overlays.PlainArrow=function(t){var n=e.extend(t=t||{},{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){var n=e.extend(t=t||{},{length:(t.length||40)/2,foldback:2});e.Overlays.Arrow.call(this,n),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var a=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},l=function(t){e.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=e.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",jsPlumb.addClass(n,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:"")),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var i="translate(-50%, -50%)";n.style.webkitTransform=i,n.style.mozTransform=i,n.style.msTransform=i,n.style.oTransform=i,n.style.transform=i,n._jsPlumb=this,!1===t.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,i){var r=a(this);if(null!=r&&2===r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var s=this.loc,l=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),l=!0),o=t.pointOnPath(s,l)}else{var u=this.loc.constructor===Array?this.loc:this.endpointLoc;o={x:u[0]*t.w,y:u[1]*t.h}}var c=o.x-r[0]/2,h=o.y-r[1]/2;return{component:t,d:{minx:c,miny:h,td:r,cxy:o},minX:c,maxX:c+r[0],minY:h,maxY:h+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(l,[e.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,e){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,e){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(t){this.type="Custom",l.apply(this,arguments)},n.extend(e.Overlays.Custom,l),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e,n){var r=e.pointAlongPathFrom(t.loc,t.length/2),o=e.pointOnPath(t.loc),s=i.pointOnLine(r,o,t.length),a=i.perpendicularLineTo(r,s,40),l=i.perpendicularLineTo(s,r,20);return{connector:e,head:r,tail:s,headLine:l,tailLine:a,minX:Math.min(r.x,s.x,l[0].x,l[1].x),minY:Math.min(r.y,s.y,l[0].y,l[1].y),maxX:Math.max(r.x,s.x,l[0].x,l[1].x),maxY:Math.max(r.y,s.y,l[0].y,l[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return e.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(i.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0&&(i.style.border=this.labelStyle.borderWidth+"px solid "+(this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black")),this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),l.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connectors.AbstractBezierConnector=function(e){var n,i=!1!==(e=e||{}).showLoopback,r=e.margin||5,o=e.orientation&&"clockwise"===e.orientation,s=e.loopbackRadius||25;return this._compute=function(t,e){var a=e.sourcePos,l=e.targetPos,u=Math.abs(a[0]-l[0]),c=Math.abs(a[1]-l[1]);if(i&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var h=e.sourcePos[0],d=e.sourcePos[1]-r,p=h,f=d-s,m=p-s,g=f-s;u=2*s,c=2*s,t.points[0]=m,t.points[1]=g,t.points[2]=u,t.points[3]=c,n.addSegment(this,"Arc",{loopback:!0,x1:h-m+4,y1:d-g,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:h-m-4,y2:d-g,cx:p-m,cy:f-g})}else this._computeBezier(t,e,a,l,u,c)},n=t.Connectors.AbstractConnector.apply(this,arguments)},e.extend(t.Connectors.AbstractBezierConnector,t.Connectors.AbstractConnector);var n=function(e){e=e||{},this.type="Bezier";var n=t.Connectors.AbstractBezierConnector.apply(this,arguments),i=e.curviness||150,r=10;this.getCurviness=function(){return i},this._findControlPoint=function(t,e,n,o,s,a,l){var u=[];return a[0]!==l[0]||a[1]===l[1]?(u.push(0===l[0]?n[0]<e[0]?t[0]+r:t[0]-r:t[0]+i*l[0]),u.push(0===l[1]?n[1]<e[1]?t[1]+r:t[1]-r:t[1]+i*a[1])):(u.push(0===a[0]?e[0]<n[0]?t[0]+r:t[0]-r:t[0]-i*a[0]),u.push(0===a[1]?e[1]<n[1]?t[1]+r:t[1]-r:t[1]+i*l[1])),u},this._computeBezier=function(t,e,i,r,o,s){var a,l,u=i[0]<r[0]?o:0,c=i[1]<r[1]?s:0,h=i[0]<r[0]?0:o,d=i[1]<r[1]?0:s;a=this._findControlPoint([u,c],i,r,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),l=this._findControlPoint([h,d],r,i,e.targetEndpoint,e.sourceEndpoint,t.to,t.so),n.addSegment(this,"Bezier",{x1:u,y1:c,x2:h,y2:d,cp1x:a[0],cp1y:a[1],cp2x:l[0],cp2y:l[1]})}};t.Connectors.Bezier=n,e.extend(n,t.Connectors.AbstractBezierConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(t,e,n,i){return t<=n&&i<=e?1:t<=n&&e<=i?2:n<=t&&i>=e?3:4},i=function(t,e,n,i,r,o,s,a,l){return a<=l?[t,e]:1===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:2===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:3===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:4===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:void 0},r=function(e){e=e||{},this.type="StateMachine";var r,o=t.Connectors.AbstractBezierConnector.apply(this,arguments),s=e.curviness||10,a=e.margin||5,l=e.proximityLimit||80;this._computeBezier=function(t,e,u,c,h,d){var p=e.sourcePos[0]<e.targetPos[0]?0:h,f=e.sourcePos[1]<e.targetPos[1]?0:d,m=e.sourcePos[0]<e.targetPos[0]?h:0,g=e.sourcePos[1]<e.targetPos[1]?d:0;0===e.sourcePos[2]&&(p-=a),1===e.sourcePos[2]&&(p+=a),0===e.sourcePos[3]&&(f-=a),1===e.sourcePos[3]&&(f+=a),0===e.targetPos[2]&&(m-=a),1===e.targetPos[2]&&(m+=a),0===e.targetPos[3]&&(g-=a),1===e.targetPos[3]&&(g+=a);var v=(p+m)/2,y=(f+g)/2,b=n(p,f,m,g),_=Math.sqrt(Math.pow(m-p,2)+Math.pow(g-f,2));r=i(v,y,b,e.sourcePos,e.targetPos,s,s,_,l),o.addSegment(this,"Bezier",{x1:m,y1:g,x2:p,y2:f,cp1x:r[0],cp1y:r[1],cp2x:r[0],cp2y:r[1]})}};t.Connectors.StateMachine=r,e.extend(r,t.Connectors.AbstractBezierConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connectors.Flowchart=function(e){this.type="Flowchart",(e=e||{}).stub=null==e.stub?30:e.stub;var n,i=t.Connectors.AbstractConnector.apply(this,arguments),r=null==e.midpoint?.5:e.midpoint,o=!0===e.alwaysRespectStubs,s=null,a=null,l=null!=e.cornerRadius?e.cornerRadius:0,u=function(t){return t<0?-1:0===t?0:1},c=function(t){return[u(t[2]-t[0]),u(t[3]-t[1])]},h=function(t,e,n,i){if(s!==e||a!==n){var r=null==s?i.sx:s,o=null==a?i.sy:a;s=e,a=n,t.push([r,o,e,n,r===e?"v":"h"])}},d=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},p=function(t){var e=[];return e.push.apply(e,t),e},f=function(t,e,n){for(var r,o,s,a=null,u=0;u<e.length-1;u++){if(a=a||p(e[u]),r=p(e[u+1]),o=c(a),s=c(r),l>0&&a[4]!==r[4]){var h=Math.min(d(a),d(r)),f=Math.min(l,h/2);a[2]-=o[0]*f,a[3]-=o[1]*f,r[0]+=s[0]*f,r[1]+=s[1]*f;var m=o[1]===s[0]&&1===s[0]||o[1]===s[0]&&0===s[0]&&o[0]!==s[1]||o[1]===s[0]&&-1===s[0],g=(r[1]>a[3]?1:-1)==(r[0]>a[2]?1:-1),v=g&&m||!g&&!m?r[0]:a[2],y=g&&m||!g&&!m?a[3]:r[1];i.addSegment(t,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),i.addSegment(t,"Arc",{r:f,x1:a[2],y1:a[3],x2:r[0],y2:r[1],cx:v,cy:y,ac:m})}else{var b=a[2]===a[0]?0:a[2]>a[0]?n.lw/2:-n.lw/2,_=a[3]===a[1]?0:a[3]>a[1]?n.lw/2:-n.lw/2;i.addSegment(t,"Straight",{x1:a[0]-b,y1:a[1]-_,x2:a[2]+b,y2:a[3]+_})}a=r}null!=r&&i.addSegment(t,"Straight",{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})};this._compute=function(t,e){n=[],s=null,a=null;var l=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},u={perpendicular:l,orthogonal:l,opposite:function(e){var n=t,i="x"===e?0:1;return!o&&{x:function(){return 1===n.so[i]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[i]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[i]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[i]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}}[t.anchorOrientation](t.sourceAxis),c="x"===t.sourceAxis?0:1,d="x"===t.sourceAxis?1:0,p=u[c],m=u[d],g=u[c+2],v=u[d+2];h(n,u[0],u[1],t);var y=t.startStubX+(t.endStubX-t.startStubX)*r,b=t.startStubY+(t.endStubY-t.startStubY)*r,_={x:[0,1],y:[1,0]},w={perpendicular:function(e){var n={x:[[t.startStubX,t.endStubX],null,[t.endStubX,t.startStubX]],y:[[t.startStubY,t.endStubY],null,[t.endStubY,t.startStubY]]},i={x:[t.startStubY,t.endStubY],y:[t.startStubX,t.endStubX]},r=_[e][1],o=t.so[_[e][0]]+1,s=-1===t.to[r]&&i[e][1]<i[e][0]||1===t.to[r]&&i[e][1]>i[e][0],a=n[e][o][0],l=n[e][o][1],u={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[e][o][t.to[r]+1];return t.segment===u[3]||t.segment===u[2]&&s?{x:[[y,t.startStubY],[y,t.endStubY]],y:[[t.startStubX,b],[t.endStubX,b]]}[e]:t.segment===u[2]&&l<a?{x:[[t.endStubX,t.startStubY]],y:[[t.startStubX,t.endStubY]]}[e]:t.segment===u[2]&&l>=a||t.segment===u[1]&&!s?{x:[[t.startStubX,b],[t.endStubX,b],[t.endStubX,t.endStubY]],y:[[y,t.startStubY],[y,t.endStubY],[t.endStubX,t.endStubY]]}[e]:t.segment===u[0]||t.segment===u[1]&&s?{x:[[t.startStubX,t.endStubY],[t.endStubX,t.endStubY]],y:[[t.endStubX,t.startStubY],[t.endStubX,t.endStubY]]}[e]:void 0},orthogonal:function(e,n,i,r,o){var s=t,a={x:-1===s.so[0]?Math.min(n,r):Math.max(n,r),y:-1===s.so[1]?Math.min(n,r):Math.max(n,r)}[e];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[e]},opposite:function(n,r,o,s){var a=t,l={x:"y",y:"x"}[n],u={x:"height",y:"width"}[n],h=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var d=o+(1-e.sourceEndpoint.anchor[l])*e.sourceInfo[u]+i.maxStub;return{x:[[r,d],[s,d]],y:[[d,r],[d,s]]}[n]}return!h||1===a.so[c]&&r>s||-1===a.so[c]&&r<s?{x:[[r,b],[s,b]],y:[[y,r],[y,s]]}[n]:1===a.so[c]&&r<s||-1===a.so[c]&&r>s?{x:[[y,a.sy],[y,a.ty]],y:[[a.sx,b],[a.tx,b]]}[n]:void 0}}[t.anchorOrientation](t.sourceAxis,p,m,g,v);if(w)for(var C=0;C<w.length;C++)h(n,w[C][0],w[C][1],t);h(n,u[2],u[3],t),h(n,t.tx,t.ty,t),f(this,n,t)}},e.extend(t.Connectors.Flowchart,t.Connectors.AbstractConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){this.type="Straight";var n=t.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,e){n.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),n.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),n.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};t.Connectors.Straight=n,e.extend(n,t.Connectors.AbstractConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},i="http://www.w3.org/2000/svg",r=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},o=function(e,n){return(n=n||{}).version="1.1",n.xmlns=i,t.createElementNS(i,e,null,null,n)},s=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},a=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},l=function(t,e,i,r,s){if(e.setAttribute("fill",i.fill?i.fill:"none"),e.setAttribute("stroke",i.stroke?i.stroke:"none"),i.gradient?function(t,e,n,i,r){var s,l="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();a(t),s=n.gradient.offset?o("radialGradient",{id:l}):o("linearGradient",{id:l,gradientUnits:"userSpaceOnUse"});var u=o("defs");t.appendChild(u),u.appendChild(s);for(var c=0;c<n.gradient.stops.length;c++){var h=n.gradient.stops[1===r.segment||2===r.segment?c:n.gradient.stops.length-1-c][1],d=o("stop",{offset:Math.floor(100*n.gradient.stops[c][0])+"%","stop-color":h});s.appendChild(d)}e.setAttribute(n.stroke?"stroke":"fill","url(#"+l+")")}(t,e,i,0,s):(a(t),e.setAttribute("style","")),i.strokeWidth&&e.setAttribute("stroke-width",i.strokeWidth),i.dashstyle&&i.strokeWidth&&!i["stroke-dasharray"]){var l=-1===i.dashstyle.indexOf(",")?" ":",",u=i.dashstyle.split(l),c="";u.forEach((function(t){c+=Math.floor(t*i.strokeWidth)+l})),e.setAttribute("stroke-dasharray",c)}else i["stroke-dasharray"]&&e.setAttribute("stroke-dasharray",i["stroke-dasharray"]);for(var h in n)i[h]&&e.setAttribute(n[h],i[h])},u=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};e.svg={node:o,attr:r,pos:s};var c=function(n){var i=n.pointerEventsSpec||"all",a={};t.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var l=n.cssClass+" "+(n.originalArgs[0].cssClass||"");this.svg=o("svg",{style:"",width:0,height:0,"pointer-events":i,position:"absolute"}),n.useDivWrapper?(this.canvas=t.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=l):(r(this.svg,{class:l}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var u=[this.canvas];return this.getDisplayElements=function(){return u},this.appendDisplayElement=function(t){u.push(t)},this.paint=function(t,i,o){if(null!=t){var l,u=[this.x,this.y],c=[this.w,this.h];null!=o&&(o.xmin<0&&(u[0]+=o.xmin),o.ymin<0&&(u[1]+=o.ymin),c[0]=o.xmax+(o.xmin<0?-o.xmin:0),c[1]=o.ymax+(o.ymin<0?-o.ymin:0)),n.useDivWrapper?(e.sizeElement(this.canvas,u[0],u[1],c[0],c[1]),u[0]=0,u[1]=0,l=s([0,0])):l=s([u[0],u[1]]),a.paint.apply(this,arguments),r(this.svg,{style:l,width:c[0]||0,height:c[1]||0})}},{renderer:a}};e.extend(c,t.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),t.ConnectorRenderers.svg=function(e){var n=this,i=c.apply(this,[{cssClass:e._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:e._jsPlumb}]);i.renderer.paint=function(i,s,a){var c=n.getSegments(),h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),c.length>0){var d={d:n.getPathData(),transform:"translate("+h[0]+","+h[1]+")","pointer-events":e["pointer-events"]||"visibleStroke"},p=null;if(i.outlineStroke){var f=i.strokeWidth+2*(i.outlineWidth||1);delete(p=t.extend({},i)).gradient,p.stroke=i.outlineStroke,p.strokeWidth=f,null==n.bgPath?(n.bgPath=o("path",d),t.addClass(n.bgPath,t.connectorOutlineClass),u(n.svg,n.bgPath,0)):r(n.bgPath,d),l(n.svg,n.bgPath,p,0,n)}null==n.path?(n.path=o("path",d),u(n.svg,n.path,i.outlineStroke?1:0)):r(n.path,d),l(n.svg,n.path,i,0,n)}}},e.extend(t.ConnectorRenderers.svg,c);var h=t.SvgEndpoint=function(e){var n=c.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]);n.renderer.paint=(function(e){var n=t.extend({},e);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),l(this.svg,this.node,n,0,this),s(this.node)}).bind(this)};e.extend(h,c),t.Endpoints.svg.Dot=function(){t.Endpoints.Dot.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return o("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){r(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(t.Endpoints.svg.Dot,[t.Endpoints.Dot,h]),t.Endpoints.svg.Rectangle=function(){t.Endpoints.Rectangle.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return o("rect",{width:this.w,height:this.h})},this.updateNode=function(t){r(t,{width:this.w,height:this.h})}},e.extend(t.Endpoints.svg.Rectangle,[t.Endpoints.Rectangle,h]),t.Endpoints.svg.Image=t.Endpoints.Image,t.Endpoints.svg.Blank=t.Endpoints.Blank,t.Overlays.svg.Label=t.Overlays.Label,t.Overlays.svg.Custom=t.Overlays.Custom;var d=function(e,n){e.apply(this,n),t.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=o("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var s=n&&1===n.length&&n[0].cssClass||"",a=[0,0];e.xmin<0&&(a[0]=-e.xmin),e.ymin<0&&(a[1]=-e.ymin),r(this.path,{d:i(t.d),class:s,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};e.extend(d,[t.jsPlumbUIComponent,t.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,e){this.path&&e.canvas&&e.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),t.Overlays.svg.Arrow=function(){d.apply(this,[t.Overlays.Arrow,arguments])},e.extend(t.Overlays.svg.Arrow,[t.Overlays.Arrow,d]),t.Overlays.svg.PlainArrow=function(){d.apply(this,[t.Overlays.PlainArrow,arguments])},e.extend(t.Overlays.svg.PlainArrow,[t.Overlays.PlainArrow,d]),t.Overlays.svg.Diamond=function(){d.apply(this,[t.Overlays.Diamond,arguments])},e.extend(t.Overlays.svg.Diamond,[t.Overlays.Diamond,d]),t.Overlays.svg.GuideLines=function(){var e,n,i=null,s=this;t.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,l){null==i&&(i=o("path"),t.connector.svg.appendChild(i),s.attachListeners(i,t.connector),s.attachListeners(i,s),e=o("path"),t.connector.svg.appendChild(e),s.attachListeners(e,t.connector),s.attachListeners(e,s),n=o("path"),t.connector.svg.appendChild(n),s.attachListeners(n,t.connector),s.attachListeners(n,s));var u=[0,0];l.xmin<0&&(u[0]=-l.xmin),l.ymin<0&&(u[1]=-l.ymin),r(i,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),r(e,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+u[0]+","+u[1]+")"}),r(n,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+u[0]+","+u[1]+")"})};var a=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},e.extend(t.Overlays.svg.GuideLines,t.Overlays.GuideLines)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t,e,n=this,i=n.jsPlumb,r=n.jsPlumbUtil,o=n.Katavorio,s=n.Biltong,a=function(t,e){var n="_katavorio_"+(e=e||"main"),r=t[n],a=t.getEventManager();return r||((r=new o({bind:a.on,unbind:a.off,getSize:i.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(e,n){var i=t.getOffset(e,n,e._katavorioDrag?e.offsetParent:null);return[i.left,i.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:i.addClass,removeClass:i.removeClass,intersects:s.intersects,indexOf:function(t,e){return t.indexOf(e)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(t.getZoom()),t[n]=r,t.bind("zoom",r.setZoom)),r},l=function(t){var e=t.el._jsPlumbDragOptions,n=!0;return e.canDrag&&(n=e.canDrag()),n&&(this.setHoverSuspended(!0),this.select({source:t.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),n},u=function(t){var e=this.getUIPosition(arguments,this.getZoom());if(null!=e){var n=t.el._jsPlumbDragOptions;this.draw(t.el,e,null,!0),n._dragging&&this.addClass(t.el,"jtk-dragged"),n._dragging=!0}},c=function(t){for(var e,n=t.selection,i=(function(t){null!=t[1]&&(e=this.getUIPosition([{el:t[2].el,pos:[t[1].left,t[1].top]}]),this.draw(t[2].el,e)),delete t[0]._jsPlumbDragOptions._dragging,this.removeClass(t[0],"jtk-dragged"),this.select({source:t[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:t[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.getDragManager().dragEnded(t[2].el)}).bind(this),r=0;r<n.length;r++)i(n[r]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)},h=function(t,e){if(null==e)return[0,0];var n=g(e),i=m(n,0);return[i[t+"X"],i[t+"Y"]]},d=h.bind(this,"page"),p=h.bind(this,"screen"),f=h.bind(this,"client"),m=function(t,e){return t.item?t.item(e):t[e]},g=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},v=function(t){var e={},n=[],i={},r={},o={};this.register=function(s){var a,l=t.getId(s);e[l]||(e[l]=s,n.push(s),i[l]={});var u=function(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!==e.childNodes[n].nodeType&&8!==e.childNodes[n].nodeType){var c=jsPlumb.getElement(e.childNodes[n]),h=t.getId(e.childNodes[n],null,!0);if(h&&r[h]&&r[h]>0){a||(a=t.getOffset(s));var d=t.getOffset(c);i[l][h]={id:h,offset:{left:d.left-a.left,top:d.top-a.top}},o[h]=l}u(e.childNodes[n])}};u(s)},this.updateOffsets=function(e,n){if(null!=e){n=n||{};var r,s=jsPlumb.getElement(e),a=t.getId(s),l=i[a];if(l)for(var u in l)if(l.hasOwnProperty(u)){var c=jsPlumb.getElement(u),h=n[u]||t.getOffset(c);if(null==c.offsetParent&&null!=i[a][u])continue;r||(r=t.getOffset(s)),i[a][u]={id:u,offset:{left:h.left-r.left,top:h.top-r.top}},o[u]=a}}},this.endpointAdded=function(n,s){s=s||t.getId(n);var a=document.body,l=n.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=l&&l!==a;){var u=t.getId(l,null,!0);if(u&&e[u]){var c=t.getOffset(l);if(null==i[u][s]){var h=t.getOffset(n);i[u][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},o[s]=u}break}l=l.parentNode}},this.endpointDeleted=function(t){if(r[t.elementId]&&(r[t.elementId]--,r[t.elementId]<=0))for(var e in i)i.hasOwnProperty(e)&&i[e]&&(delete i[e][t.elementId],delete o[t.elementId])},this.changeId=function(t,e){i[e]=i[t],i[t]={},o[e]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var e=o[t];e&&(delete i[e][t],delete o[t])},this.reset=function(){e={},n=[],i={},r={}},this.dragEnded=function(e){if(null!=e.offsetParent){var n=t.getId(e),i=o[n];i&&this.updateOffsets(i)}},this.setParent=function(e,n,r,s,a){var l=o[n];i[s]||(i[s]={});var u=t.getOffset(r),c=a||t.getOffset(e);l&&i[l]&&delete i[l][n],i[s][n]={id:n,offset:{left:c.left-u.left,top:c.top-u.top}},o[n]=s},this.clearParent=function(t,e){var n=o[e];n&&(delete i[n][e],delete o[e])},this.revalidateParent=function(e,n,i){var r=o[n];if(r){var s={};s[n]=i,this.updateOffsets(r,s),t.revalidate(r)}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),i=t.getId(n),r=o[i];return r?jsPlumb.getElement(r):null}},y=function(t,e,n){e=r.fastTrim(e),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e;try{var i=t.classList;if(null!=i){for(;i.length>0;)i.remove(i.item(0));for(var o=0;o<n.length;o++)n[o]&&i.add(n[o])}}catch(s){r.log("JSPLUMB: cannot set class list",s)}},b=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},_=function(t,e,n){e=null==e?[]:r.isArray(e)?e:e.split(/\s+/),n=null==n?[]:r.isArray(n)?n:n.split(/\s+/);var i=b(t).split(/\s+/),o=function(t,e){for(var n=0;n<e.length;n++)if(t)-1===i.indexOf(e[n])&&i.push(e[n]);else{var r=i.indexOf(e[n]);-1!==r&&i.splice(r,1)}};o(!0,e),o(!1,n),y(t,i.join(" "),i)};n.jsPlumb.extend(n.jsPlumbInstance.prototype,{headless:!1,pageLocation:d,screenLocation:p,clientLocation:f,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new v(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,i){return this.createElementNS(null,t,e,n,i)},createElementNS:function(t,e,n,i,r){var o,s=null==t?document.createElement(e):document.createElementNS(t,e);for(o in n=n||{})s.style[o]=n[o];for(o in i&&(s.className=i),r=r||{})s.setAttribute(o,""+r[o]);return s},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:b,addClass:function(t,e){jsPlumb.each(t,(function(t){_(t,e)}))},hasClass:function(t,e){return(t=jsPlumb.getElement(t)).classList?t.classList.contains(e):-1!==b(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,(function(t){_(t,null,e)}))},toggleClass:function(t,e){jsPlumb.hasClass(t,e)?jsPlumb.removeClass(t,e):jsPlumb.addClass(t,e)},updateClasses:function(t,e,n){jsPlumb.each(t,(function(t){_(t,e,n)}))},setClass:function(t,e){null!=e&&jsPlumb.each(t,(function(t){y(t,e,e.split(/\s+/))}))},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var i={left:t.offsetLeft,top:t.offsetTop},r=e||null!=n&&t!==n&&t.offsetParent!==n?t.offsetParent:null,o=(function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}).bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=e?r.offsetParent:r.offsetParent===n?null:r.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(t,e,n){var i=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=i.top+s-(o.clientTop||r.clientTop||0)+0*n,u=i.left+a-(o.clientLeft||r.clientLeft||0)+0*n,c=jsPlumb.pageLocation(t);return[(c[0]-u)/(i.width||e.offsetWidth*n),(c[1]-l)/(i.height||e.offsetHeight*n)]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];if(n)return parseFloat(n.substring(0,n.length-2))};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,i){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},i):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(t,e){var n;return t=r.isArray(t)||null!=t.length&&!r.isString(t)?t:[t],Array.prototype.slice.call(t).forEach((function(t){(n=this.info(t)).el&&this._initDraggableIfNecessary(n.el,!0,e,n.id,!0)}).bind(this)),this},snapToGrid:function(t,e,n){var i=[],r=(function(t){var r=this.info(t);if(null!=r.el&&r.el._katavorioDrag){var o=r.el._katavorioDrag.snap(e,n);this.revalidate(r.el),i.push([r.el,o])}}).bind(this);if(1===arguments.length||3===arguments.length)r(t,e,n);else{var o=this.getManagedElements();for(var s in o)r(s,arguments[0],arguments[1])}return i},initDraggable:function(t,e,n){a(this,n).draggable(t,e),t._jsPlumbDragOptions=e},destroyDraggable:function(t,e){a(this,e).destroyDraggable(t),delete t._jsPlumbDragOptions},unbindDraggable:function(t,e,n,i){a(this,i).destroyDraggable(t,e,n)},setDraggable:function(t,e){return jsPlumb.each(t,(function(t){this.isDragSupported(t)&&(this._draggableStates[this.getAttribute(t,"id")]=e,this.setElementDraggable(t,e))}).bind(this))},_draggableStates:{},toggleDraggable:function(t){var e;return jsPlumb.each(t,(function(t){var n=this.getAttribute(t,"id");return this._draggableStates[n]=e=!(e=null!=this._draggableStates[n]&&this._draggableStates[n]),this.setDraggable(t,e),e}).bind(this)),e},_initDraggableIfNecessary:function(t,e,n,i,o){if(!jsPlumb.headless&&null!=e&&e&&jsPlumb.isDragSupported(t,this)){var s=n||this.Defaults.DragOptions;if(s=jsPlumb.extend({},s),jsPlumb.isAlreadyDraggable(t,this))n.force&&this.initDraggable(t,s);else{var a=jsPlumb.dragEvents.drag,h=jsPlumb.dragEvents.stop,d=jsPlumb.dragEvents.start;this.manage(i,t),s[d]=r.wrap(s[d],l.bind(this)),s[a]=r.wrap(s[a],u.bind(this)),s[h]=r.wrap(s[h],c.bind(this));var p=this.getId(t);this._draggableStates[p]=!0;var f=this._draggableStates[p];s.disabled=null!=f&&!f,this.initDraggable(t,s),this.getDragManager().register(t),o&&this.fire("elementDraggable",{el:t,options:s})}}},animationSupported:!0,getElement:function(t){return null==t?null:"string"==typeof(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t)?document.getElementById(t):t},removeElement:function(t){a(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,n){n=n||{};var o=this.getOffset(t),s=function(t,e){var n=function(n){if(null!=e[n]){if(r.isString(e[n])){var i=e[n].match(/-=/)?-1:1,o=e[n].substring(2);return t[n]+i*o}return e[n]}return t[n]};return[n("left"),n("top")]}(o,e),a=n.duration||250,l=a/15,u=15/a*(s[0]-o.left),c=15/a*(s[1]-o.top),h=0,d=setInterval((function(){i.setPosition(t,{left:o.left+u*(h+1),top:o.top+c*(h+1)}),null!=n.step&&n.step(h,Math.ceil(l)),++h>=l&&(window.clearInterval(d),null!=n.complete&&n.complete())}),15)},destroyDroppable:function(t,e){a(this,e).destroyDroppable(t)},unbindDroppable:function(t,e,n,i){a(this,i).destroyDroppable(t,e,n)},droppable:function(t,e){var n;return t=r.isArray(t)||null!=t.length&&!r.isString(t)?t:[t],(e=e||{}).allowLoopback=!1,Array.prototype.slice.call(t).forEach((function(t){(n=this.info(t)).el&&this.initDroppable(n.el,e)}).bind(this)),this},initDroppable:function(t,e,n){a(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,e){return!0},isDropSupported:function(t,e){return!0},isElementDraggable:function(t){return(t=i.getElement(t))._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,e){var n=t[0].el;if(null==n.offsetParent)return null;var i=t[0].finalPos||t[0].pos,r={left:i[0],top:i[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var o=this.getOffset(n.offsetParent);r.left+=o.left,r.top+=o.top}return r},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){(t=i.getElement(t))._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),r=a(this);i.each(t,(function(t){(t=[i.getElement(t)]).push.apply(t,n),r.addToPosse.apply(r,t)}))},setPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),r=a(this);i.each(t,(function(t){(t=[i.getElement(t)]).push.apply(t,n),r.setPosse.apply(r,t)}))},removeFromPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),r=a(this);i.each(t,(function(t){(t=[i.getElement(t)]).push.apply(t,n),r.removeFromPosse.apply(r,t)}))},removeFromAllPosses:function(t){var e=a(this);i.each(t,(function(t){e.removeFromAllPosses(i.getElement(t))}))},setPosseState:function(t,e,n){var r=a(this);i.each(t,(function(t){r.setPosseState(i.getElement(t),e,n)}))},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){a(this).select(t)},removeFromDragSelection:function(t){a(this).deselect(t)},clearDragSelection:function(){a(this).deselectAll()},trigger:function(t,e,n,i){this.getEventManager().trigger(t,e,n,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()},getEventManager:function(){return(t=this._mottle)||(t=this._mottle=new n.Mottle),t;var t},on:function(t,e,n){return this.getEventManager().on.apply(this,arguments),this},off:function(t,e,n){return this.getEventManager().off.apply(this,arguments),this}}),t=i.init,(e=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?t():setTimeout(e,9)})()}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumbInstance,i="stop",r="revert",o="_jsPlumbGroup",s="show",a="hide",l=function(t){var n={},i={},r={},l=this;function u(e,n){for(var i=e.getMembers(),r=0;r<i.length;r++)t[n?s:a](i[r],!0)}t.bind("connection",(function(t){null!=t.source[o]&&null!=t.target[o]&&t.source[o]===t.target[o]?(i[t.connection.id]=t.source[o],r[t.connection.id]=t.source[o]):(null!=t.source[o]&&(e.suggest(t.source[o].connections.source,t.connection),i[t.connection.id]=t.source[o]),null!=t.target[o]&&(e.suggest(t.target[o].connections.target,t.connection),r[t.connection.id]=t.target[o]))})),t.bind("internal.connectionDetached",(function(t){!function(t){delete t.proxies;var n,o=i[t.id];null!=o&&(e.removeWithFunction(o.connections.source,n=function(e){return e.id===t.id}),e.removeWithFunction(o.connections.target,n),delete i[t.id]),null!=(o=r[t.id])&&(e.removeWithFunction(o.connections.source,n=function(e){return e.id===t.id}),e.removeWithFunction(o.connections.target,n),delete r[t.id])}(t.connection)})),t.bind("connectionMoved",(function(t){var e=(0===t.index?i:r)[t.connection.id];if(e){var n=e.connections[0===t.index?"source":"target"],o=n.indexOf(t.connection);-1!==o&&n.splice(o,1)}})),this.addGroup=function(e){t.addClass(e.getEl(),"jtk-group-expanded"),n[e.id]=e,e.manager=this,d(e),t.fire("group:add",{group:e})},this.addToGroup=function(e,n,i){if(e=this.getGroup(e)){var r=e.getEl();if(n._isJsPlumbGroup)return;var o=n._jsPlumbGroup;if(o!==e){var s=t.getOffset(n,!0),a=t.getOffset(e.collapsed?r:e.getDragArea(),!0);null!=o&&(o.remove(n,!1,i,!1,e),l.updateConnectionsForGroup(o)),e.add(n,i);var u=function(t,n){var i=0===n?1:0;t.each((function(t){t.setVisible(!1),t.endpoints[i].element._jsPlumbGroup===e?(t.endpoints[i].setVisible(!1),h(t,i,e)):(t.endpoints[n].setVisible(!1),c(t,n,e))}))};e.collapsed&&(u(t.select({source:n}),0),u(t.select({target:n}),1));var d=t.getId(n);t.dragManager.setParent(n,d,r,t.getId(r),s);var p={left:s.left-a.left,top:s.top-a.top};if(t.setPosition(n,p),t.dragManager.revalidateParent(n,d,s),l.updateConnectionsForGroup(e),t.revalidate(d),!i){var f={group:e,el:n,pos:p};o&&(f.sourceGroup=o),t.fire("group:addMember",f)}}}},this.removeFromGroup=function(t,e,n){(t=this.getGroup(t))&&t.remove(e,null,n)},this.getGroup=function(t){var i=t;if(e.isString(t)&&null==(i=n[t]))throw new TypeError("No such group ["+t+"]");return i},this.getGroups=function(){var t=[];for(var e in n)t.push(n[e]);return t},this.removeGroup=function(e,i,r,o){e=this.getGroup(e),this.expandGroup(e,!0);var s=e[i?"removeAll":"orphanAll"](r,o);return t.remove(e.getEl()),delete n[e.id],delete t._groups[e.id],t.fire("group:remove",{group:e}),s},this.removeAllGroups=function(t,e,i){for(var r in n)this.removeGroup(n[r],t,e,i)};var c=function(e,n,i){var r=e.endpoints[0===n?1:0].element;if(!r[o]||r[o].shouldProxy()||!r[o].collapsed){var s=i.getEl(),a=t.getId(s);t.proxyConnection(e,n,s,a,(function(t,e){return i.getEndpoint(t,e)}),(function(t,e){return i.getAnchor(t,e)}))}};this.collapseGroup=function(e){if(null!=(e=this.getGroup(e))&&!e.collapsed){var n=e.getEl();if(u(e,!1),e.shouldProxy()){var i=function(t,n){for(var i=0;i<t.length;i++)c(t[i],n,e)};i(e.connections.source,0),i(e.connections.target,1)}e.collapsed=!0,t.removeClass(n,"jtk-group-expanded"),t.addClass(n,"jtk-group-collapsed"),t.revalidate(n),t.fire("group:collapse",{group:e})}};var h=function(e,n,i){t.unproxyConnection(e,n,t.getId(i.getEl()))};function d(e){var n=e.getMembers(),o=t.getConnections({source:n,scope:"*"},!0),s=t.getConnections({target:n,scope:"*"},!0),a={};e.connections.source.length=0,e.connections.target.length=0;var l=function(t){for(var n=0;n<t.length;n++)a[t[n].id]||(a[t[n].id]=!0,t[n].source._jsPlumbGroup===e?(t[n].target._jsPlumbGroup!==e&&e.connections.source.push(t[n]),i[t[n].id]=e):t[n].target._jsPlumbGroup===e&&(e.connections.target.push(t[n]),r[t[n].id]=e))};l(o),l(s)}this.expandGroup=function(e,n){if(null!=(e=this.getGroup(e))&&e.collapsed){var i=e.getEl();if(u(e,!0),e.shouldProxy()){var r=function(t,n){for(var i=0;i<t.length;i++)h(t[i],n,e)};r(e.connections.source,0),r(e.connections.target,1)}e.collapsed=!1,t.addClass(i,"jtk-group-expanded"),t.removeClass(i,"jtk-group-collapsed"),t.revalidate(i),this.repaintGroup(e),n||t.fire("group:expand",{group:e})}},this.repaintGroup=function(e){for(var n=(e=this.getGroup(e)).getMembers(),i=0;i<n.length;i++)t.revalidate(n[i])},this.updateConnectionsForGroup=d,this.refreshAllGroups=function(){for(var e in n)d(n[e]),t.dragManager.updateOffsets(t.getId(n[e].getEl()))}},u=function(n,s){var a=this,l=s.el;this.getEl=function(){return l},this.id=s.id||e.uuid(),l._isJsPlumbGroup=!0;var u=this.getDragArea=function(){var t=n.getSelector(l,"[jtk-group-content]");return t&&t.length>0?t[0]:l},c=!0===s.ghost,h=c||!0===s.constrain,d=!1!==s.revert,p=!0===s.orphan,f=!0===s.prune,m=!0===s.dropOverride,g=!1!==s.proxied,v=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,e){return s.anchor||"Continuous"},this.getEndpoint=function(t,e){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var y={stop:function(t){n.fire("groupDragStop",jsPlumb.extend(t,{group:a}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&t.jsPlumb.extend(y,s.dragOptions),n.draggable(s.el,y)}!1!==s.droppable&&n.droppable(s.el,{drop:function(t){var e=t.drag.el;if(!e._isJsPlumbGroup){var i=e._jsPlumbGroup;if(i!==a){if(null!=i&&i.overrideDrop(e,a))return;n.getGroupManager().addToGroup(a,e,!1)}}}});var b=function(t,e){for(var n=null==t.nodeType?t:[t],i=0;i<n.length;i++)e(n[i])};function _(t,e){var i=function(t){return t.offsetParent}(t),r=n.getSize(i),o=n.getSize(t),s=e[0],a=e[1];return s+o[0]>0&&s<r[0]&&a+o[1]>0&&a<r[1]}function w(t){var e=n.getId(t),i=n.getOffset(t);return t.parentNode.removeChild(t),n.getContainer().appendChild(t),n.setPosition(t,i),delete t._jsPlumbGroup,E(t),n.dragManager.clearParent(t,e),[e,i]}function C(t){var e=null;if(!_(t.el,t.pos)){var i=t.el._jsPlumbGroup;f?n.remove(t.el):e=w(t.el),i.remove(t.el)}return e}function x(t){var e=n.getId(t);n.revalidate(t),n.dragManager.revalidateParent(t,e)}function E(t){t._katavorioDrag&&((f||p)&&t._katavorioDrag.off(i,C),f||p||!d||(t._katavorioDrag.off(r,x),t._katavorioDrag.setRevert(null)))}function S(t){t._katavorioDrag&&((f||p)&&t._katavorioDrag.on(i,C),h&&t._katavorioDrag.setConstrain(!0),c&&t._katavorioDrag.setUseGhostProxy(!0),f||p||!d||(t._katavorioDrag.on(r,x),t._katavorioDrag.setRevert((function(t,e){return!_(t,e)}))))}this.overrideDrop=function(t,e){return m&&(d||f||p)},this.add=function(t,e){var i=u();b(t,(function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===a)return;t._jsPlumbGroup.remove(t,!0,e,!1)}t._jsPlumbGroup=a,v.push(t),n.isAlreadyDraggable(t)&&S(t),t.parentNode!==i&&i.appendChild(t)})),n.getGroupManager().updateConnectionsForGroup(a)},this.remove=function(t,i,r,o,s){b(t,(function(t){if(delete t._jsPlumbGroup,e.removeWithFunction(v,(function(e){return e===t})),i)try{a.getDragArea().removeChild(t)}catch(l){jsPlumbUtil.log("Could not remove element from Group "+l)}if(E(t),!r){var o={group:a,el:t};s&&(o.targetGroup=s),n.fire("group:removeMember",o)}})),o||n.getGroupManager().updateConnectionsForGroup(a)},this.removeAll=function(t,e){for(var i=0,r=v.length;i<r;i++){var o=v[0];a.remove(o,t,e,!0),n.remove(o,!0)}v.length=0,n.getGroupManager().updateConnectionsForGroup(a)},this.orphanAll=function(){for(var t={},e=0;e<v.length;e++){var n=w(v[e]);t[n[0]]=n[1]}return v.length=0,t},this.getMembers=function(){return v},l[o]=this,n.bind("elementDraggable",(function(t){t.el._jsPlumbGroup===this&&S(t.el)}).bind(this)),this.shouldProxy=function(){return g},n.getGroupManager().addGroup(this)};n.prototype.addGroup=function(t){var e=this;if(e._groups=e._groups||{},null!=e._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[o])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var n=new u(e,t);return e._groups[n.id]=n,t.collapsed&&this.collapseGroup(n),n},n.prototype.addToGroup=function(t,e,n){var i=(function(e){var i=this.getId(e);this.manage(i,e),this.getGroupManager().addToGroup(t,e,n)}).bind(this);if(Array.isArray(e))for(var r=0;r<e.length;r++)i(e[r]);else i(e)},n.prototype.removeFromGroup=function(t,e,n){this.getGroupManager().removeFromGroup(t,e,n)},n.prototype.removeGroup=function(t,e,n,i){return this.getGroupManager().removeGroup(t,e,n,i)},n.prototype.removeAllGroups=function(t,e,n){this.getGroupManager().removeAllGroups(t,e,n)},n.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},n.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},n.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},n.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},n.prototype.getGroupManager=function(){var t=this._groupManager;return null==t&&(t=this._groupManager=new l(this)),t},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[o]}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.Farahey={};e.Farahey=t;var n=this.Biltong,i=function(t,e){var i=t,r={},o=function(t){if(!r[t[1]]){var n=e(t[2]);r[t[1]]={l:t[0][0],t:t[0][1],w:n[0],h:n[1],center:[t[0][0]+n[0]/2,t[0][1]+n[1]/2]}}return r[t[1]]};this.setOrigin=function(t){i=t,r={}},this.compare=function(t,e){var r=n.lineLength(i,o(t).center),s=n.lineLength(i,o(e).center);return r<s?-1:r===s?0:1}},r=[function(t,e){return t.x+t.w-e.x},function(t,e){return t.x-(e.x+e.w)}],o=[function(t,e){return t.y+t.h-e.y},function(t,e){return t.y-(e.y+e.h)}],s=[null,[r[0],o[1]],[r[0],o[0]],[r[1],o[0]],[r[1],o[1]]],a=t.calculateSpacingAdjustment=function(t,e){var i=t.center||[t.x+t.w/2,t.y+t.h/2],r=e.center||[e.x+e.w/2,e.y+e.h/2],o=n.gradient(i,r),a=n.quadrant(i,r);return function(t,e,n,i,r){isNaN(n)&&(n=0);var o,a,l,u,c=n==1/0||n==-1/0?e.x+e.w/2:(e.y+e.h-i)/n,h=Math.atan(n);return(l=e).x<=(u=c)&&u<=l.x+l.w?{left:a=(o=s[r][1](t,e))/Math.sin(h)*Math.cos(h),top:o}:{left:a=s[r][0](t,e),top:o=a/Math.cos(h)*Math.sin(h)}}(t,e,o,o==1/0||o==-1/0||isNaN(o)?0:i[1]-o*i[0],a)},l=t.paddedRectangle=function(t,e,n){return{x:t[0]-n[0],y:t[1]-n[1],w:e[0]+2*n[0],h:e[1]+2*n[1]}},u=function(t){if(null==t)return null;if("[object Array]"===Object.prototype.toString.call(t)){var e=[];return e.push.apply(e,t),e}var n=[];for(var i in t)n.push(t[i]);return n},c=function(t){var e,r,o=t.getPosition,s=t.getSize,c=t.getId,h=t.setPosition,d=t.padding||[20,20],p=t.constrain||function(t,e,n){return n},f=[],m={},g={},v=u(t.elements||[]),y=t.origin||[0,0],b=t.executeNow,_=(this.getOrigin=function(){return y},t.filter||function(t){return!0}),w=t.exclude||function(t){return!1},C=t.orderByDistanceFromOrigin,x=new i(y,s),E=t.updateOnStep,S=t.stepInterval||350,k=t.debug,P=function(t){C&&0!==f.length?function(t,e,n){var i=function(t,e,n){for(var i=0,r=t.length,o=-1,s=0;i<r;)if((s=n(t[o=parseInt((i+r)/2)],e))<0)i=o+1;else{if(!(s>0))return o;r=o}return i}(t,e,n);t.splice(i,0,e)}(f,t,x.compare):f.push(t)},D=function(){return x.setOrigin(y),f.length=0,m={},g={},function(t){var e,n,i,r;e=n=1/0,i=r=-1/0;for(var a=0;a<t.length;a++){var l=o(t[a]),u=s(t[a]),h=c(t[a]);m[h]=[l.left,l.top],P([[l.left,l.top],h,t[a]]),g[h]=u,e=Math.min(e,l.left),n=Math.min(n,l.top),i=Math.max(i,l.left+u[0]),r=Math.max(r,l.top+u[1])}return[e,i,n,r]}(v)},A=function(t){if(v.length>1){var e=(t=t||{}).filter||_,i=t.padding||d,r=t.iterations,o=t.exclude||w,s=t.excludeFocus;t.gather&&function(t,e,n,i,r,o,s,u,c,h,d,p,f){for(var m=l(o=o||[0,0],[1,1],i),g=0;g<t.length;g++)if(!p(t[g][1],t[g][2])){var v=e[t[g][1]],y=l(v,n[t[g][1]],i);if(s(t[g][1],t[g][2])){var b=a(m,y);v[0]+=b.left,v[1]+=b.top}}}(f,m,g,i,0,y,e,0,0,0,0,o);var u=function(t,e,i,r,o,s,u,c,h,d,p,f,m){d=d||function(){},p=p||2;var g,v,y=l(s=s||[0,0],[1,1],r),b=1,_=!0,w={},C=function(t,e,n,i){w[t]=!0,e[0]+=n,e[1]+=i},x=function(){for(var s=0;s<t.length;s++)if(!f(t[s][1],t[s][2])){var w=e[t[s][1]],E=t[s][1],S=i[t[s][1]],k=l(w,S,r);!m&&u(t[s][1],t[s][2])&&n.intersects(y,k)&&(g=a(y,k),v=o(t[s][1],w,g),C(E,w,v.left,v.top)),k=l(w,S,r);for(var P=0;P<t.length;P++)if(s!==P){if(f(t[P][1],t[P][2]))continue;if(u(t[P][1],t[P][2])){var D=e[t[P][1]],A=l(D,i[t[P][1]],r);n.intersects(k,A)&&(_=!0,g=a(k,A),v=o(t[P][1],D,g),C(t[P][1],D,v.left,v.top))}}}c&&d(),_&&b<p&&(_=!1,b++,c?window.setTimeout(x,h):x())};return x(),w}(f,m,g,i,p,y,e,E,S,T,r,o,s);T(u)}},T=function(t){for(var e=0;e<v.length;e++){var n=c(v[e]);t[n]&&h(v[e],{left:m[n][0],top:m[n][1]})}},I=function(t){null!=t&&(y=t,x.setOrigin(t))};return this.execute=function(t,e){I(t),D(),A(e)},this.executeAtCenter=function(t){var e=D();I([(e[0]+e[1])/2,(e[2]+e[3])/2]),A(t)},this.executeAtEvent=function(n,i){var r=t.container,o=t.getContainerPosition(r),s=n.pageX-o.left+r.scrollLeft,a=n.pageY-o.top+r.scrollTop;k&&(e.style.left=n.pageX+"px",e.style.top=n.pageY+"px"),this.execute([s,a],i)},this.setElements=function(t){return v=u(t),this},this.addElement=function(t,e){return null==t||!e&&-1!==v.indexOf(t)||v.push(t),this},this.addElements=function(t,e){if(e)Array.prototype.push.apply(v,t);else for(var n=0;n<t.length;n++)this.addElement(t[n]);return this},this.getElements=function(){return v},this.removeElement=function(t){for(var e=-1,n=0;n<v.length;n++)if(v[n]===t){e=n;break}return-1!==e&&v.splice(e,1),this},this.setPadding=function(t){d=t},this.setConstrain=function(t){p=t},this.setFilter=function(t){_=t},this.reset=function(){v.length=0},k&&((r=document.createElement("div")).style.position="absolute",r.style.width="10px",r.style.height="10px",r.style.backgroundColor="red",document.body.appendChild(r),e=r),b&&this.execute(),this};t.getInstance=function(t){return new c(t)}}).call("undefined"!=typeof window?window:this),function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function c(t){if(null==t)return null;for(var e=t.replace(/^\s\s*/,""),n=/\s/,i=e.length;n.test(e.charAt(--i)););return e.slice(0,i+1)}function h(t,e,n){if(null==t)return null;if("$data"===e||null==e)return t;var i=e.match(/^\{(.*)\}$/);if(i){for(var r={},o=i[1].split(","),s=0;s<o.length;s++){var a=o[s].split(":"),l=h(t,a[1]);r[c(a[0])]=l||a[1].replace(/'/g,"")}return r}e=e.replace(/\['([^']*)'\]/g,".$1");var u=t,d=null;return e.replace(/([^\.])+/g,(function(t,e,i,r){if(null==d){var o=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),s=function(){return u[o[1]]||(u[o[1]]=[],u[o[1]])};if(i+t.length>=r.length)if(o){var a=s(),l=o[3];null==n?d=a[l]:a[l]=n}else null==n?d=u[t]:u[t]=n;else if(o){var c=s();u=c[o[3]]||(c[o[3]]={},c[o[3]])}else u=u[t]||(u[t]={},u[t])}})),d}function d(t){return t.filter((function(t){return null!=t&&c(t).length>0}))}function p(t,e){for(var n=0;n<t.length;n++){var i=t[n];null!=i&&0!==i.length&&e(n,i)}}function f(t){var e=document.getElementById(t);return null!=e?e.innerHTML:null}function m(t,e){return null==t?t:d(t.replace("/>",">").split(/^<|>$/)[1].split(e))}function g(t){return t.length>0?t[t.length-1]:null}function v(t){if(null==t||0===t.length)return!1;for(var e=t.length-1;e>-1;e--)if("each"===t[e].type)return!0;return!1}function y(t,e,n,i,r){var o=u(),s={w:e,e:[],u:o};return r.bindings[o]=s,s.reapply=new Function("$data",(null!=i?"var out='';try { with($data) { if ("+i+") out = this.w; else return null; }}catch(_){return null;}":"var out = this.w;")+"for (var k = 0; k < this.e.length; k++) { with($data) { "+(null!=i?"try {  if("+i+") { out = out.replace(this.e[k][0], eval(this.e[k][1])); } else out=''; } catch(__) { out='';}":"try { out = out.replace(this.e[k][0], eval(this.e[k][1])); } catch(__) { out=out.replace(this.e[k][0], '');}")+" }} return out;"),n.bindings[t]=s,e.replace(/\$\{([^\}]*)\}/g,(function(t,e,n,i){return s.e.push([t,e]),""})),o}function b(t,e,n,i,r){n.atts[t]=e,y(t,e,n,i,r)}function _(t,e){for(var n=m(t,e.attributesRe),i={el:c(n[0]),atts:{},bindings:{}},r=function(t,n){var r=t.match(/([^=]+)=['"](.*)['"]/);return null==r&&null==n?i.atts[t]="":null==r?b(t,"",i,n,e):b(r[1],r[2],i,n,e),r},o=1;o<n.length;o++){var s=c(n[o]);if(null!=s&&s.length>0){var a=s.match(e.inlineIfRe);if(a)for(var l=a[2].split(e.attributesRe),u=0;u<l.length;u++){var h=c(l[u]);null!=h&&h.length>0&&r(h,a[1])}else r(s)}}return i}var w=function t(n){e(this,t),this.instance=n,r(this,"type",void 0),r(this,"tag",void 0),r(this,"remove",void 0),r(this,"uuid",void 0),r(this,"children",[]),r(this,"elements",[]),r(this,"bindings",void 0),r(this,"context",void 0),r(this,"functionBody",void 0),r(this,"precompile",void 0),r(this,"postcompile",void 0),this.uuid=u(),n.entries[this.uuid]=this},C=function(t){function n(t,i){var o;return e(this,n),r(a(o=l(this,s(n).call(this,i))),"type","text"),r(a(o),"value",void 0),r(a(o),"bindings",void 0),o.value=t.value,o.bindings={},o}return o(n,t),i(n,[{key:"_getBoundValue",value:function(){return"_rotors.bind(data[0], '"+this.bindings.__element.u+"', typeof $key !== 'undefined' ? $key : null, typeof $value !== 'undefined' ? $value : null)"}},{key:"compile",value:function(){return this.instance.getExecutionContent(this._getBoundValue(),this.uuid,!0)+";_rotors.pet(_eid, '"+this.uuid+"');"}},{key:"updateFrom",value:function(t,e,n){return t.el.nodeValue=e.el.nodeValue,{added:[],removed:[]}}}]),n}(w),x=function(t){function n(t,i){var o;return e(this,n),r(a(o=l(this,s(n).call(this,i))),"type","comment"),r(a(o),"comment",void 0),o.comment=t,o}return o(n,t),i(n,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:function(t,e,n){return{added:[],removed:[]}}}]),n}(w),E=function(t){function n(t,i,o,u,c){var h;e(this,n),(h=l(this,s(n).call(this,i))).templateResolver=o,h.stack=u,h.parseIdStack=c,r(a(h),"type","element"),r(a(h),"namespace",void 0),r(a(h),"atts",void 0),r(a(h),"custom",void 0);var d=t.el.split(":");return h.tag=t.el,2===d.length&&(h.namespace=d[0]),h.atts=t.atts,h.bindings=t.bindings,h.remove=!1,h}return o(n,t),i(n,[{key:"compile",value:function(){var t="/* element entry "+this.uuid+" */;";if(!0!==this.remove)for(var e in t+=this.instance.getExecutionContent(this.tag,this.uuid,!1,this.namespace),this.atts)this.atts.hasOwnProperty(e)&&(t+="__a="+(null!=this.bindings[e]?"_rotors.bind(data[0], '"+this.bindings[e].u+"');":"'"+this.atts[e]+"'")+";if(__a!=null) {_rotors.setAttribute(e,'"+e+"',__a || '');}");for(var n=0;n<this.children.length;n++){this.children[n].precompile&&(t+=this.children[n].precompile());var i=this.children[n].compile();t+=i,this.children[n].functionBody=i,this.children[n].postcompile&&(t+=this.children[n].postcompile())}return!0!==this.remove&&(t+="_le=_els.pop();",t+="_rotors.pet(_eid, '"+this.uuid+"');"),t}},{key:"_applyStyles",value:function(t,e){e.split(";").forEach((function(e){var n=e.indexOf(":"),i=e.substring(0,n);t.style[i]=e.substring(n+1)}))}},{key:"updateFrom",value:function(t,e,n){var i,r,o,s={added:[],removed:[]};for(i in this.atts)this.atts.hasOwnProperty(i)&&"class"!==i&&((r=e.el.getAttribute(i))?"style"===i&&null!=t.el.style?this._applyStyles(t.el,r):t.el.setAttribute(i,r):t.el.removeAttribute(i));for(var a=0;a<t.children.length;a++)o=this.instance.updateFrom(t.children[a],e.children[a],t),Array.prototype.push.apply(s.removed,o.removed),Array.prototype.push.apply(s.added,o.added);if(t.el._RotorsUpdate)for(var l=this.instance.updaters[t.el._RotorsUpdate],u=0;u<l.length;u++)l[u](t.el);return s}}]),n}(w),S={},k={construct:function(t,e,n,i,r,o){var s=S[t];if(s)return new s(e,n,i,r,o);throw{message:"Knockle: unknown element '"+t+"'"}},register:function(t,e){S[t]=e},exists:function(t){return null!=S[t]}},P=function(){function t(){e(this,t),r(this,"childNodes",void 0),this.childNodes=[]}return i(t,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"toString",value:function(){for(var t="",e=0;e<this.childNodes.length;e++)t+=this.childNodes[e].toString();return t}}]),t}(),D=function(t){function n(t){var i;return e(this,n),r(a(i=l(this,s(n).call(this))),"tag",void 0),r(a(i),"atts",void 0),i.tag=t,i.atts={},i}return o(n,t),i(n,[{key:"getAttribute",value:function(t){return this.atts[t]}},{key:"setAttributeNS",value:function(t,e,n){this.atts[t+":"+e]=n}},{key:"setAttribute",value:function(t,e){this.atts[t]=e}},{key:"toString",value:function(){var t="<"+this.tag,e="";for(var n in this.atts)e+=" "+n+'="'+this.atts[n]+'"';t=t+e+">";for(var i=0;i<this.childNodes.length;i++)t+=this.childNodes[i].toString();return t+"</"+this.tag+">"}},{key:"insertAdjacentElement",value:function(t,e){throw"FakeElement insertAdjacentElement - not implemented. Update failed."}}]),n}(P),A=function(){function t(n){e(this,t),r(this,"nodeValue",void 0),this.nodeValue=n}return i(t,[{key:"toString",value:function(){return this.nodeValue}}]),t}(),T=function(){function t(n){e(this,t),r(this,"templateResolver",void 0),r(this,"defaultTemplate",void 0),r(this,"entries",void 0),r(this,"bindings",void 0),r(this,"cache",new Map),r(this,"templateCache",new Map),r(this,"openRe",new RegExp("<([^/>]*?)>$|<([^/].*[^/])>$")),r(this,"closeRe",new RegExp("^</([^>]+)>")),r(this,"openCloseRe",new RegExp("<(.*)(/>$)")),r(this,"tokenizerRe",/(<[^\^>]+\/>)|(<!--[\s\S]*?-->)|(<[\/a-zA-Z0-9\-:]+(?:\s*[a-zA-Z\-]+=\"[^\"]*\"|\s*[a-zA-Z\-]+='[^']+'|\s*[a-zA-Z\-]|\s*\{\{.*\}\})*>)/),r(this,"commentRe",/<!--[\s\S]*?-->/),r(this,"attributesRe",/([a-zA-Z0-9\-_:]+="[^"]*")|(\{\{if [^(?:\}\})]+\}\}.*\{\{\/if\}\})/),r(this,"inlineIfRe",/\{\{if ([^\}]+)\}\}(.*)\{\{\/if\}\}/),r(this,"singleExpressionRe",/^[\s]*\$\{([^\}]*)\}[\s]*$/),r(this,"_fnPreamble","data=[data||{}];var frag=_rotors.cf(),_els=[],e,_le,__a,$value,$key,_eid = _rotors.nec();_els.push(frag);"),r(this,"_fnSuffix","return frag;"),r(this,"isBrowser",!0),r(this,"executions",void 0),r(this,"updaters",{}),r(this,"namespaceHandlers",{svg:function(t){return"e = document.createElementNS('http://www.w3.org/2000/svg', '"+t.split(":")[1]+"');e.setAttribute('version', '1.1');e.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');"}}),r(this,"namespaces",{xlink:"http://www.w3.org/1999/xlink"}),n=n||{},this.entries={},this.bindings={},this.executions={},this.defaultTemplate=n.defaultTemplate,this.templateResolver=n.templateResolver?n.templateResolver:n.templates?function(t){return n.templates[t]}:this.isBrowser?f:null}return i(t,[{key:"bind",value:function(t,e){var n=this.bindings[e];return null==n?"":n.reapply(t)}},{key:"setAttribute",value:function(t,e,n){var i=e.split(":");1===i.length||null==this.namespaces[i[0]]?t.setAttribute(i[0],n):t.setAttributeNS(this.namespaces[i[0]],i[1],n)}},{key:"clearCache",value:function(){this.cache.clear(),this.templateCache.clear()}},{key:"cf",value:function(){return this.isBrowser?document.createDocumentFragment():new P}},{key:"ctn",value:function(t){return this.isBrowser?document.createTextNode(t):new A(t)}},{key:"ce",value:function(t){return this.isBrowser?document.createElement(t):new D(t)}},{key:"nec",value:function(){var t=u();return this.executions[t]={current:[{children:[]}]},t}},{key:"te",value:function(t,e,n,i){var r={el:t,children:[],id:n,index:i};this.executions[e].current[0].children.push(r),this.executions[e][n+(null!=i?"-"+i:"")]=r,this.executions[e].current.unshift(r)}},{key:"pet",value:function(t){this.executions[t].current=this.executions[t].current.splice(1)}},{key:"parseAttributes",value:function(t){return m(t,this.attributesRe)}},{key:"getExecutionContent",value:function(t,e,n,i){return(null!=i?this.namespaceHandlers[i](t):n?"e=_rotors.ctn("+t+");":"e=_rotors.ce('"+t+"');")+"_rotors.peek(_els).appendChild(e);"+(n?"":"_els.push(e);")+"e._rotors=_rotors.entries['"+e+"'];e._rotorsEid=_eid;if(typeof _rotorsLoopId !== 'undefined') {e._rotorsLoopId=_rotorsLoopId;e._rotorsLoopContext=_rotorsLoopContext;e._rotorsKey=$key;}_rotors.te(e, _eid, '"+e+"', typeof $key != 'undefined' ? $key  : null);"}},{key:"_wrapCache",value:function(t,e){var n=this;return function(i){var r=e?null:n.cache.get(i);return null==r&&(r=t(i)),null==r&&(r=n.defaultTemplate),null!=r&&n.cache.set(i,r),r}}},{key:"constructElement",value:function(t,e,n,i,r){return k.construct(t,e,this,n,i,r)}},{key:"isCustomElement",value:function(t){return k.exists(t)}},{key:"parse",value:function(t,e,n,i){var r=this;i=i||[],e=this._wrapCache(e||this.templateResolver,null);var o=[],s=[],a=function(t,e){var n=t.match(e);return null==n?null:n},l=function(){return o.length>0?o[o.length-1]:null},u=function(t,e){o.length>0&&l().children.push(t),e?0===o.length&&s.push(t):o.push(t)},h=function(){var t=o.pop();if(0!==o.length||t.remove){if(t.remove){var e=l();e&&e.children.pop()}}else s.push(t);return t},d=function(t,e,n,s){var a=_(t,r);return r.isCustomElement(a.el)?r.constructElement(a.el,a,n,o,i):new E(a,r,n,o,i)},f=[{re:this.commentRe,handler:function(t,e,n,i,r){u(new x(t,i),!0)}},{re:this.openRe,handler:function(t,e,n,i,r){var o=d(t,0,n);u(o,o.remove)}},{re:this.closeRe,handler:function(t,e,n,i,r){if("r-tmpl"!==e[1]){if(o=e[1],null==(s=l())||s.tag!==o)throw new TypeError("Unbalanced closing tag '"+e[1]+"'; opening tag was '"+h().tag+"'");var o,s;h()}}},{re:this.openCloseRe,handler:function(t,e,n,i,r){var o=d(t,0,n);u(o,!0)}},{re:/.*/,handler:function(t,e,n,i,o){var s=new C({value:t},r);u(s,!0),y("__element",t,s,null,r)}}];if(p(c(t).split(this.tokenizerRe),(function(t,n){for(var o=c(n),s=0;s<f.length;s++){var l=a(o,f[s].re);if(l){f[s].handler(n,l,e,r,i);break}}})),s.length>0&&n)for(var m in n)s[0][m]=n[m];return s}},{key:"compile",value:function(t,e,n,i){for(var r,o=[],s=0;s<t.length;s++){var a="";t[s].precompile&&(a+=t[s].precompile(this)),a+=r=t[s].compile(this,i),t[s].functionBody=r,t[s].postcompile&&(a+=t[s].postcompile(this)),o.push(a)}var l=o.join("");if(n)return l;var u=this._compileSingle(l),c=this;if(e)return u;var h=function(t){return u.apply(this,[t,c])};return h.functionBody=l,h}},{key:"_compileSingle",value:function(t){return new Function("data,_rotors",this._fnPreamble+t+this._fnSuffix)}},{key:"_executeSingle",value:function(t,e){return this._compileSingle(t)(e,this)}},{key:"updateFrom",value:function(t,e,n){return this.entries[t.id].updateFrom(t,e,n)}},{key:"getTemplate",value:function(t){return this.templateCache.get(t)}},{key:"template",value:function(t,e,n,i){var r=i?null:this.templateCache.get(t);if(null!=r)return r(e);var o=(n=this._wrapCache(n||this.templateResolver,i))(t);if(null!=o){var s=this.parse(o,n,null,[t]),a=this.compile(s);return this.templateCache.set(t,a),a(e)}return this.cf()}},{key:"peek",value:function(t){return g(t)}},{key:"data",value:function(t,e,n){return h(t,e,n)}},{key:"each",value:function(t,e,n,i,r){var o;if(Array.isArray(t))for(o=0;o<t.length;o++)e(t[o],n,o,i,r);else for(o in t)t.hasOwnProperty(o)&&e({$key:o,$value:t[o]},n,o,i,r)}},{key:"update",value:function(t,e){var n,i,r,o=t._rotorsEid;if(null!=o&&null!=t._rotors){var s=t._rotorsKey;r=(i=t._rotors.instance).entries[(n=i.executions[o][t._rotors.uuid+(null!=s?"-"+s:"")]).id];var a=i._executeSingle(r.customParent?r.customParent.functionBody:r.functionBody,e).childNodes[0];return this.updateFrom(n,i.executions[a._rotorsEid][a._rotors.uuid],null)}}},{key:"onUpdate",value:function(t,e){if(null!=t._rotors){var n=t._rotors.instance;t._RotorsUpdate=t._RotorsUpdate||u(),n.updaters[t._RotorsUpdate]=n.updaters[t._RotorsUpdate]||[],n.updaters[t._RotorsUpdate].push(e)}}},{key:"copyChildNodes",value:function(t,e){for(var n=t.childNodes.length,i=0;i<n;i++)e.appendChild(t.childNodes[n-1-i])}},{key:"remove",value:function(t){t._RotorsUpdate&&this.updaters[t._RotorsUpdate]&&delete this.updaters[t._RotorsUpdate],t._rotorsEid&&this.executions[t._rotorsEid]&&delete this.executions[t._rotorsEid]}}]),t}();function I(t,e){for(var n=0;n<e.children.length;n++){var i=!0;for(var r in t)if(t[r]!==e.children[n][r]){i=!1;break}if(i)return e.children[n]}}function j(t,e){var n=t.children.findIndex((function(t){return t.id===e.id}));n>-1&&t.children.splice(n,1)}function O(t,e,n,i,r){for(var o,s,a,l={},u=[],c=[],h={added:[],removed:[]},d=function(t){for(var e="",n=0;n<i.length;n++)e+=t[i[n]];return e},p=0;p<e.children.length;p++){s=e.children[p];for(var f={},m=0;m<i.length;m++)f[i[m]]=s[i[m]];null==(o=I(f,n))?u.push(s):(l[d(s)]=!0,a=t.updateFrom(s,o,null),Array.prototype.push.apply(h.added,a.added),Array.prototype.push.apply(h.removed,a.removed))}for(var g=0;g<u.length;g++)u[g].el.parentNode.removeChild(u[g].el),j(e,u[g]);for(var v=e.children.length>0?e.children[e.children.length-1].el:null,y=0;y<n.children.length;y++)l[d(s=n.children[y])]||(e.children.push(s),c.push(s));if(c.length>0)for(var b=0;b<c.length;b++)null!=v?v.parentNode.insertBefore(c[b].el,v.nextSibling):null!=r?r.el.appendChild(c[b].el):console.log("couldnt insert child, nothing to insert after"),v=c[b].el;return Array.prototype.push.apply(h.added,c),Array.prototype.push.apply(h.removed,u),h}var M=function(t){function n(t,i,o,u,c){var h;return e(this,n),r(a(h=l(this,s(n).call(this,t,i,o,u,c))),"context",void 0),r(a(h),"key",void 0),r(a(h),"type","each"),h.context=t.atts.in,h.key=t.atts.key,h.tag="r-each",h}return o(n,t),i(n,[{key:"compile",value:function(){var t=this;return";_rotors.te(null, _eid, '"+this.uuid+"');"+(this.context?';data.unshift(_rotors.data(data[0], "'+this.context+'"));':"")+"_rotors.each(data[0], "+function(){var e="function(item, _rotorsLoopId, _rotorsLoopIndex, _rotorsLoopContext, _key) { ";e+="data.unshift(item);$value=item;",e+="$key=_key ? _rotors.data($value, _key) : _rotorsLoopIndex;";for(var n=0;n<t.children.length;n++){var i=t.children[n].compile();t.children[n].functionBody=i,e+=i}return(e+="data.splice(0,1);")+"}"}()+",'"+this.uuid+"', '"+this.context.replace(/'/g,"\\'")+"',"+(void 0===this.key?"null);":"'"+this.key+"');")+(this.context?";data.splice(0, 1);":"")+";_rotors.pet(_eid, '"+this.uuid+"');"}},{key:"updateFrom",value:function(t,e,n){for(var i,r=O(this.instance,t,e,["id","index"],n),o=null,s=0;s<e.children.length;s++)(i=I({index:e.children[s].index,id:e.children[s].id},t))&&i.el&&(null!=o&&o.parentNode.insertBefore(i.el,o.nextSibling),o=i.el);return r}}]),n}(E);k.register("r-each",M);var R=function(t){function n(t,i,o,u,c){var h;return e(this,n),r(a(h=l(this,s(n).call(this,t,i,o,u,c))),"type","if"),r(a(h),"test",void 0),r(a(h),"happyFlowChildren",void 0),h.test=t.atts.test,h.tag="r-if",h}return o(n,t),i(n,[{key:"compile",value:function(){var t,e="",n="",i=this.happyFlowChildren||this.children;for(t=0;t<i.length;t++)e+=i[t].compile()+";";if(null!=this.happyFlowChildren){for(n="else {",t=0;t<this.children.length;t++)n+=this.children[t].compile()+";";n+="}"}return";_rotors.te(null, _eid, '"+this.uuid+"');with (data[0]) { if("+this.test+") { "+e+" }"+n+"}"}},{key:"updateFrom",value:function(t,e,n){return O(this.instance,t,e,["id"],n)}}]),n}(E);k.register("r-if",R);var N=function(t){function n(t,i,r,o,a){var u;e(this,n),u=l(this,s(n).call(this,t,i,r,o,a));var c=g(o);return null!=c&&c instanceof R&&(c.happyFlowChildren=c.children,c.children=[]),u.remove=!0,u.tag="r-else",u}return o(n,t),i(n,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:function(t,e,n){return{added:[],removed:[]}}}]),n}(E);k.register("r-else",N);var F=function(t){function n(t,i,o,u,c){var h;if(e(this,n),r(a(h=l(this,s(n).call(this,t,i,o,u,c))),"templateId",void 0),r(a(h),"lookup",void 0),r(a(h),"default",void 0),h.context=t.atts.context,h.type="template",h.remove=!0,t.atts.lookup)h.lookup=t.atts.lookup,h.default=t.atts.default||"",h.compile=function(){return';with(data[0]){var tlid=eval("'+h.lookup.replace(/[\$\{\}]/g,"")+'");}if (_rotors.templateCache[tlid] == null){var ___t = _rotors.templateResolver(tlid) || _rotors.templateResolver("'+h.default+'");_rotors.templateCache[tlid]=_rotors.compile(_rotors.parse(___t));} eval(_rotors.templateCache[tlid].functionBody);'};else{h.templateId=t.atts.id;var d=v(u);if(-1!==c.indexOf(h.templateId)){if(!d)throw new TypeError("recursive template call ["+h.templateId+"]");h.compile=function(){return";eval(_rotors.getTemplate('"+h.templateId+"').functionBody);"}}else{var p=o(h.templateId);c.push(h.templateId);var f=h.instance.parse(p,o,null,c);null==h.instance.templateCache.get(h.templateId)&&h.instance.templateCache.set(h.templateId,h.instance.compile(f));for(var m=0;m<f.length;m++)f[m].context=h.context;h.children=f,c.pop()}}return h.precompile=function(){return h.context?';data.unshift(_rotors.data(data[0], "'+h.context+'"));':""},h.postcompile=function(){return h.context?";data.splice(0, 1);":""},h}return o(n,t),i(n,[{key:"updateFrom",value:function(t,e,n){return{added:[],removed:[]}}}]),n}(E);k.register("r-tmpl",F);var L=function(t){function n(t,i,r,o,a){return e(this,n),l(this,s(n).call(this,t,i,r,o,a))}return o(n,t),i(n,[{key:"compile",value:function(){try{return";var __hp=_rotors.parse(data[0]."+this.children[0].bindings.__element.e[0][1]+"),__hc=_rotors.compile(__hp,true);var __f=__hc(data[0], _rotors);_rotors.copyChildNodes(__f, _rotors.peek(_els));"}catch(t){return""}}},{key:"updateFrom",value:function(t,e,n){return{added:[],removed:[]}}}]),n}(E);k.register("r-html",L),"undefined"!=typeof window&&(window.Knockle={newInstance:function(t){return new T(t)},data:function(t,e,n){return h(t,e,n)},filterEmpty:function(t){return d(t)}}),t.AbstractEntry=w,t.CommentEntry=x,t.EachEntry=M,t.ElementEntry=E,t.Elements=k,t.ElseEntry=N,t.HtmlEntry=L,t.IfEntry=R,t.InBrowserTemplateResolver=f,t.Knockle=T,t.TextEntry=C,t.TmplEntry=F,t._addBinding=y,t.data=h,t.eachNotEmpty=p,t.fastTrim=c,t.filterEmpty=d,t.isLoopPresent=v,t.parseAttributes=m,t.parseAtts=_,t.peek=g,t.uuid=u,Object.defineProperty(t,"__esModule",{value:!0})}(e),(function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var t=this.jsPlumbUtil;e.jsPlumbUtil=t,function(e){e.setNodeText=function(t,e){t.text=e;try{t.textContent=e}catch(n){}},e.getNodeText=function(t){return null!=t?t.text||t.textContent:""},e.getChild=function(t,e){for(var n=null,i=0;i<t.childNodes.length;i++)if(1===t.childNodes[i].nodeType&&t.childNodes[i].nodeName===e){n=t.childNodes[i];break}return n},e.getChildren=function(t,e){for(var n=[],i=0;i<t.childNodes.length;i++)1===t.childNodes[i].nodeType&&t.childNodes[i].nodeName===e&&n.push(t.childNodes[i]);return n},e.xmlToString=function(t){try{return(new XMLSerializer).serializeToString(t).replace(/\s*xmlns=\"http\:\/\/www.w3.org\/1999\/xhtml\"/g,"")}catch(e){try{return t.xml}catch(n){throw new Error("Cannot serialize XML "+n)}}},e.createElement=function(e,n,i){var r;try{r=new ActiveXObject("Microsoft.XMLDOM").createNode(1,e,"")}catch(s){r=document.createElement(e)}if(i&&t.xml.setNodeText(r,i),n)for(var o in n)r.setAttribute(o,n[o]);return r}}(t.xml||(t.xml={})),t.debounce=function(t,e){e=e||150;var n=null;return function(){window.clearTimeout(n),n=window.setTimeout(t,e)}},t.ajax=function(t){var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(e){var n="json"===t.dataType?function(t){return JSON.parse(t)}:function(t){return t};e.open(t.type||"GET",t.url,!0);var i=t.headers||{};for(var r in i)e.setRequestHeader(r,i[r]);e.onreadystatechange=function(){4===e.readyState&&("2"===(""+e.status)[0]?t.success(n(e.responseText)):t.error&&t.error(e.responseText,e.status))},e.send(t.data?JSON.stringify(t.data):null)}else t.error&&t.error("ajax not supported")}}).call("undefined"!=typeof window?window:this),(function(){jsPlumbUtil.FilterableDataset=function(t){this.filter=function(e,n){var i="function"==typeof e?e:function(t){var i=t.data,r=!1;for(var o in e){var s=e[o]===i[o];if(!s&&!n)return!1;r=r||s}return r},r=new jsPlumbUtil.Selection({toolkit:t,onClear:function(){}});return this.eachNode((function(t,e){i(e)&&r.append(e);for(var n=e.getPorts(),o=0;o<n.length;o++)i(n[o])&&r.append(n[o])})),this.eachEdge((function(t,e){i(e)&&r.append(e)})),this.eachGroup((function(t,e){i(e)&&r.append(e)})),r}}}).call("undefined"==typeof window?this:window),(function(){var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connection.prototype.animateOverlay=function(n,i){var r=this,o=new e.EventGenerator,s=r.getConnector().getLength();i=i||{};var a,l,u,c=e.uuid(),h=!1!==i.forwards,d=i.rate||30,p=i.dwell||250,f=1/(s/(i.speed||100)*1e3/d)*(h?1:-1),m=!1!==i.isFinal,g=h?0:1,v=g,y=h?r.source:r.target,b=h?r.target:r.source;if("string"==typeof n)u=[n,{location:g,id:c}];else{var _=t.extend({},n[1]);_.location=g,_.id=c,u=[n[0],_]}var w=function(){v+=f,(h?v>=1:v<=0)?(r.removeOverlay(c),window.clearInterval(a),m?(t.addClass(b,"jtk-animate-node-traversing"),window.setTimeout((function(){t.removeClass(b,"jtk-animate-node-traversing"),r.removeClass("jtk-animate-edge-traversing"),o.fire("endOverlayAnimation",r)}),p)):(r.removeClass("jtk-animate-edge-traversing"),r.addClass("jtk-animate-edge-traversed"),o.fire("endOverlayAnimation",r))):(l.loc=v,r.repaint())},C=function(){o.fire("startNodeTraversal",{connection:r,element:y}),t.addClass(y,"jtk-animate-node-traversing"),r.addClass("jtk-animate-edge-traversing"),window.setTimeout((function(){t.removeClass(y,"jtk-animate-node-traversing"),o.fire("endNodeTraversal",{connection:r,element:y}),o.fire("startOverlayAnimation",r),l=r.addOverlay(u),a=window.setInterval(w,d)}),p)};return i.previous?i.previous.bind("endOverlayAnimation",C):C(),o}}).call("undefined"==typeof window?this:window),(function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var t=this.jsPlumbUtil;e.jsPlumbUtil=t;var n=["node","port","edge","group"],i=["Added","Removed","Updated","Moved"],r=["edge"],o=["Source","Target"];function s(t,e,n,i){for(var r=0;r<t.length;r++)for(var o=0;o<e.length;o++)n.bind(t[r]+e[o],i)}t.AutoSaver=function(t,e,a,l,u,c,h){function d(t){return function(){t&&t.apply(t,arguments),h&&h()}}var p=!1,f=function(){if(!p){try{c&&c()}catch(n){}t.save({url:e,success:d(l),error:d(u),headers:a})}};t.bind("dataLoadStart",(function(){p=!0})),t.bind("dataLoadEnd",(function(){p=!1})),t.bind("graphClearStart",(function(){p=!0})),t.bind("graphCleared",(function(){p=!1})),s(n,i,t,f),s(r,o,t,f)},t.CatchAllEventHandler=function(t){var e=function(){t.fire("dataUpdated")};s(n,i,t,e),s(r,o,t,e)}}).call("undefined"!=typeof window?window:this),(function(){var t=this.jsPlumbUtil;t.Selection=function(e){e=e||{},t.EventGenerator.apply(this,arguments),t.FilterableDataset.apply(this,[e.toolkit]);var n,i=e.toolkit,r=[],o=[],s=[],a=Math.Infinity,l=Math.Infinity,u=Math.Infinity,c=e.generator,h={},d=this,p=e.onClear||function(){},f=function(t){return"Edge"===t.objectType?s:"Node"===t.objectType?r:o},m=function(e){var i=[],r=f(e);if(r.length>=("Edge"===e.objectType?l:"Node"===e.objectType?a:u)){if(n===t.Selection.DISCARD_NEW)return!1;i=r.splice(0,1),g(i[0],"Removed"),delete h[i[0].getFullId()]}return r.push(e),g(e,"Added"),i},g=function(t,e){var n=t.objectType.toLowerCase()+e;d.fire(n,{Group:{data:t.data,group:t},Node:{data:t.data,node:t},Port:{data:t.data,node:t.node,port:t},Edge:{data:t.data,edge:t}}[t.objectType])};this.getModel=i.getModel,this.setSuspendGraph=i.setSuspendGraph,this.getNodeId=i.getNodeId,this.getGroupId=i.getNodeId,this.getEdgeId=i.getEdgeId,this.getPortId=i.getPortId,this.getNodeType=i.getNodeType,this.getGroupType=i.getNodeType,this.getEdgeType=i.getEdgeType,this.getPortType=i.getPortType,this.getObjectInfo=i.getObjectInfo,this.isDebugEnabled=i.isDebugEnabled,this.beforeStartConnect=i.beforeStartConnect,this.beforeConnect=i.beforeConnect,this.getEdgeFactory=i.getEdgeFactory,this.addPort=i.addPort,this.addEdge=i.addEdge,this.edgeMoved=i.edgeMoved,this.removeEdge=i.removeEdge,this.setEdgeGeometry=i.setEdgeGeometry,this.removeFromGroup=i.removeFromGroup,this.batch=i.batch,this.getGraph=i.getGraph;var v=function(t,e){if(!h[t.getFullId()]){var n=m(t);return!1===n?[[],[]]:(h[t.getFullId()]=t,e&&e(t,!0),[[t],n])}return[[],[]]},y=function(e,n){return t.removeWithFunction(f(e),(function(t){return t.id==e.id}))&&g(e,"Removed"),delete h[e.getFullId()],n&&n(e,!1),[[],[]]},b=function(t,e){return h[t.getFullId()]?y(t,e):v(t,e)},_=(function(e,n,r){var o,s=[],a=[];if(null==e)return s;var l=function(e){var u;if(t.isString(e))null!=(u=i.getNode(e)||i.getEdge(e)||i.getGroup(e))&&(o=n(u,r),s.push.apply(s,o[0]),a.push.apply(a,o[1]));else if(e.eachNode&&e.eachEdge)e.eachNode((function(t,e){l(e)})),e.eachEdge((function(t,e){l(e)})),e.eachGroup&&e.eachGroup((function(t,e){l(e)}));else if(e.each)e.each((function(t,e){l(e.vertex||e)}));else if(null!=e.length)for(var c=0;c<e.length;c++)l(e[c],r);else o=n(e,r),s.push.apply(s,o[0]),a.push.apply(a,o[1])};return l(e),[s,a]}).bind(this);i.bind("nodeRemoved",(function(t){y(t.node)})),i.bind("groupRemoved",(function(t){y(t.group)})),i.bind("portRemoved",(function(t){y(t.port)})),i.bind("edgeRemoved",(function(t){y(t.edge)})),i.bind("edgeTarget",(function(t){h[t.edge.getFullId()]&&d.fire("edgeTarget",t)})),i.bind("edgeSource",(function(t){h[t.edge.getFullId()]&&d.fire("edgeSource",t)})),i.bind("nodeUpdated",(function(t){h[t.node.getFullId()]&&d.fire("nodeUpdated",t)})),i.bind("groupUpdated",(function(t){h[t.group.getFullId()]&&d.fire("groupUpdated",t)})),i.bind("edgeUpdated",(function(t){h[t.edge.getFullId()]&&d.fire("edgeUpdated",t)})),i.bind("portUpdated",(function(t){h[t.port.getFullId()]&&d.fire("portUpdated",t)})),this.remove=function(t,e){return _(t,y,e)},this.append=function(t,e){return _(t,v,e)},this.toggle=function(t,e){return _(t,b,e)},this.setMaxNodes=function(t){a=t},this.setMaxEdges=function(t){l=t},this.setCapacityPolicy=function(t){n=t},this.clear=function(t){r.length=0,s.length=0,o.length=0,h={},d.fire("graphClearStart"),t||p(this)},i.bind("graphCleared",(function(){this.clear()}).bind(this)),i.bind("dataLoadEnd",(function(){this.reload()}).bind(this)),this.reload=function(){null!=c&&(this.clear(),this.fire("dataLoadStart"),c(this,i),this.fire("dataLoadEnd"))},this.each=function(e,n){for(var i="Edge"===n?s:"Group"===n?o:r,a=0;a<i.length;a++)try{e(a,i[a])}catch(l){t.log("Selection iterator function failed",l)}},this.eachNode=this.each,this.eachGroup=function(t){this.each(t,"Group")},this.eachNodeOrGroup=function(t){this.each(t,"Node"),this.each(t,"Group")},this.eachEdge=function(t){this.each(t,"Edge")},this.getNodeCount=function(){return r.length},this.getNodeAt=function(t){return r[t]},this.getNodes=function(){return r},this.getNode=i.getNode,this.getGroupAt=function(t){return o[t]},this.getGroups=function(){return o},this.getGroup=i.getGroup,this.getGroupCount=function(){return o.length},this.getAll=function(){var t=[];return Array.prototype.push.apply(t,r),Array.prototype.push.apply(t,s),Array.prototype.push.apply(t,o),t};var w=function(t){for(var e=[],n=0;n<t.length;n++)null!=h[t[n].getId()]&&e.push(t[n]);return e};this.getAllEdgesFor=function(t,e){return w(t.getAllEdges({filter:e}))},this.getSourceEdgesFor=function(t){return w(t.getSourceEdges())},this.getEdgeCount=function(){return s.length},this.get=this.getNodeAt=function(t){return r[t]},this.getEdge=this.getEdgeAt=function(t){return s[t]},this.getEdges=function(){return s},this.setCapacityPolicy(t.Selection.DISCARD_EXISTING),!0!==e.lazy&&this.reload()},t.Selection.DISCARD_EXISTING="discardExisting",t.Selection.DISCARD_NEW="discardNew"}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbGraph={};t.version="0.1",t.name="jsPlumbGraph";var e=function(t,e){var n={};this.setAttribute=function(t,e){n[t]=e},this.getAttribute=function(t){return n[t]};var i=e.getType(t||{});this.getType=function(){return i},this.setType=function(t){i=t},this.graph=e},n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},i=function(t,e,i){return null==t?n():"string"==typeof t?t:(e||i.getIdFunction())(t)||n()},r=t.Vertex=t.Node=function(n,r,s){e.apply(this,[n,s]),this.objectType="Node",this.id=i(n,r,s),this.data=function(t){return"string"==typeof t?{id:t}:t}(n),this.getFullId=function(){return this.id};var a=[],l=0,u=0,c=[],h=[],d={};this.getEdges=function(t){if(null==t||null==t.filter)return a;for(var e=[],n=0;n<a.length;n++)t.filter(a[n])&&e.push(a[n]);return e},this.getSourceEdges=function(){return this.getEdges({filter:(function(t){return t.source==this}).bind(this)})},this.getTargetEdges=function(){return this.getEdges({filter:(function(t){return t.target==this}).bind(this)})},this.addEdge=function(t){a.push(t),t.source!==this&&t.isDirected()||u++,t.target!==this&&t.isDirected()||l++},this.deleteEdge=function(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].getId()===t.getId()){e=n;break}return e>-1&&(a.splice(e,1),t.source!==this&&t.isDirected()||u--,t.target!==this&&t.isDirected()||l--,!0)},this.getAllEdges=function(t){for(var e=this.getEdges(t).slice(0),n=0;n<c.length;n++)e.push.apply(e,c[n].getEdges(t));return e},this.addGraph=function(e){return e="string"==typeof e?new t.Graph({id:e}):e,h.push(e),e.id||(e.id=""+h.length),e},this.getGraph=function(t){for(var e=0;e<h.length;e++)if(h[e].id===t)return h[e]},this.getIndegreeCentrality=function(){for(var t=0,e=0;e<c.length;e++)t+=c[e].getIndegreeCentrality();return l+t},this.getOutdegreeCentrality=function(){for(var t=0,e=0;e<c.length;e++)t+=c[e].getOutdegreeCentrality();return u+t},this.getPorts=function(){return c},this.addPort=function(t,e){var n=i(t,e,s),r=this.getPort(n);return null==r&&(r=new o(t,e,this),c.push(r),d[r.id]=r),r},this.setPort=function(t,e){var n=this.getPort(t);return n||(n=this.addPort({id:t})),n.data=e,n.setType(this.graph.getType(e)),n},this.getPort=function(t){return d[t]};var p=function(e){return e.constructor==t.Port?e.id:e};this.renamePort=function(t,e){return!!d[t.id]&&(d[e]=d[t.id],delete d[t.id],!0)},this.removePort=function(t){if(t){for(var e=p(t),n=-1,i=!1,r=0;r<c.length;r++)if(c[r].id===e){n=r;break}-1!=n&&(s.deleteVertex(c[n]),c.splice(n,1),i=!0),delete d[e]}return i};var f=0,m={};this.setDefaultInternalCost=function(t){f=t},this.getInternalEdge=function(t,e){var n=p(t),i=p(e),r={source:d[n],target:d[i],cost:1/0};if(r.source&&r.target){var o=m[n+"-"+i]||{cost:f,directed:!1};for(var s in o)r[s]=o[s]}return r},this.setInternalEdge=function(t,e,n,i){var r=p(t),o=p(e);return m[r+"-"+o]={cost:n||f,directed:i},this.getInternalEdge(t,e)},this.inspect=function(){for(var t="{ id:"+this.id+", edges:[\n",e=0;e<a.length;e++)t+=a[e].inspect()+"\n";return t+"]}"}},o=t.Port=function(t,e,n){r.apply(this,[t,e,n.graph]),this.objectType="Port",this.getNode=function(){return n},this.getFullId=function(){return n.id+this.graph.getPortSeparator()+this.id},this.isChildOf=function(t){return n==t},this.getPorts=this.addPort=this.deletePort=this.getPort=null},s=t.Edge=function(t){e.call(this,t.data,t.graph),this.source=t.source,this.target=t.target,this.objectType="Edge";var n=t.cost||1,i=!(!1===t.directed),r=t.id;this.data=t.data||{},this.getCost=function(){return n},this.setCost=function(t){n=t},this.getId=this.getFullId=function(){return null===r?this.source.id+"_"+this.target.id:r},this.setId=function(t){r=t},this.isDirected=function(){return i},this.setDirected=function(t){i=t},this.inspect=function(){if(null!=r)return"{ id:"+r+", connectionId:null, cost:"+n+", directed:"+i+", source:"+this.source.id+", target:"+this.target.id+"}"}},a=t.Group=function(t,e,n){r.apply(this,arguments),this.objectType="Group";var i=[],o={};this.addVertex=this.addNode=function(t){return null==o[t.id]&&(i.push(t),o[t.id]=t,t.group=this,!0)},this.getVertexCount=this.getNodeCount=function(){return i.length},this.getVertices=this.getNodes=function(){return i},this.deleteVertex=this.deleteNode=function(t){if(t="string"==typeof t?o[t]:t){var e=i.indexOf(t);-1!=e&&(i.splice(e,1),delete o[t.id]),delete t.group}},this.cleanup=function(t){var e,r=this.getAllDirectEdges(),o=r.length;for(e=0;e<o;e++)n.deleteEdge(r[0]);var s=i.length;for(e=0;e<s;e++)t?n.deleteVertex(i[0]):delete i[0].group;i.length=0},this.getAllDirectEdges=function(t){var e,n=[];n.push.apply(n,this.getEdges(t).slice(0));var i=this.getPorts();for(e=0;e<i.length;e++)n.push.apply(n,i[e].getEdges(t));return n},this.getAllEdges=function(t){for(var e=[],n={},r=0;r<i.length;r++)Array.prototype.push.apply(e,i[r].getAllEdges(t).filter((function(t){var e=t.getId(),i=null==n[e];return n[e]=!0,i})));return e.push.apply(e,this.getAllDirectEdges(t)),e}},l=t.Cluster=function(t){this.vertices=[t],this.addVertex=function(t){this.vertices.push(t)}},u=(t.Graph=function(e){e=e||{},this.vertices=[],this.edges=[],this.groups=[],this.id=e.id;var n={},o=0,u={},c=0,h={},f=0,m=!(!1===e.defaultDirected),g=e.defaultCost||1,v=e.idFunction||function(t){return t.id},y=e.typeFunction||function(t){return t.type||"default"},b=!0===e.enableSubgraphs,_=e.portSeparator||".",w={},C=function(t){delete w[t.id]},x=function(t){w[t.id]=t};this.setIdFunction=function(t){v=t},this.getIdFunction=function(){return v},this.setTypeFunction=function(t){y=t},this.getType=function(t){return y(t)},this.getTopLevelElements=function(){return w},this.setEnableSubgraphs=function(t){b=t},this.setPortSeparator=function(t){_=t},this.getPortSeparator=function(){return _},this.splitPortId=function(t){return null!=t?t.split(_):[]},this.getVertexByPortId=function(t){var e=this.splitPortId(t);if(2===e.length)return n[e[0]]};var E=function(e,i){if(null==e)return null;if("string"!=typeof e){if(e.constructor==t.Port||e.constructor==t.Node||e.constructor==t.Group)return e;var r=e;if("string"!=typeof(e=v(e)))return r}var o=b?e.split("/"):[e],s=function(t){if(n[t])return n[t];if(h[t])return h[t];var e=t.split(_),r=e[0],o=n[r]||h[r];if(2===e.length&&null!=o){var s=o.getPort(e[1]);return null==s&&i&&(s=o.addPort(e[1])),s}return o};if(1==o.length)return s(o[0]);if(o.length>1&&o%2==0)throw"Subgraph path format error.";for(var a=null,l=0;l<o.length-1;l+=2)a=s(o[l]).getGraph(o[l+1]);return a.getVertex(o[o.length-1])};this.clear=function(){this.vertices.length=0,this.groups.length=0,o=0,c=0,n={},u={},h={},w={}},this.getVertices=this.getNodes=function(){return this.vertices},this.getVertexCount=this.getNodeCount=function(){return this.vertices.length},this.getVertexAt=this.getNodeAt=function(t){return this.vertices[t]},this.getEdgeCount=function(){return c},this.addEdge=function(t,e,n){var r=null==t.directed?!0===m:!(!1===t.directed),o=t.cost||g,a=i(t.data,e,this),l=E(t.source,!0),h=E(t.target,!0);if(null==l||null==l.objectType)throw new TypeError("Unknown source node ["+t.source+"]");if(null==h||null==h.objectType)throw new TypeError("Unknown target node ["+t.target+"]");if(n&&!n(l,h))return null;var d=new s({source:l,target:h,cost:o,directed:r,data:t.data||{},id:a,graph:this});return d.source.addEdge(d),d.source!==d.target&&d.target.addEdge(d),u[a]=d,c++,null!=t.geometry&&(d.geometry=t.geometry),d},this.addVertex=this.addNode=function(t,e){var i=new r(t,e||v,this);return n[i.id]?null:(this.vertices.push(i),n[i.id]=i,i._id=o++,x(i),i)},this.addVertices=this.addNodes=function(t,e){for(var n=0;n<t.length;n++)this.addVertex(t[n],e||v)},this.addGroup=function(t,e){var n=new a(t,e||v,this);return h[n.id]?h[n.id]:(this.groups.push(n),h[n.id]=n,n._id=f++,x(n),n)},this.getGroupCount=function(){return this.groups.length},this.getGroupAt=function(t){return this.groups[t]},this.getGroups=function(){return this.groups},this.addVertexToGroup=function(t,e){e="string"==typeof e?h[e]:e,(t=E(t))&&e&&(e.addVertex(t),C(t))},this.addVerticesToGroup=function(t,e){for(var n=0;n<t.length;n++)this.addVertexToGroup(t[n],e)},this.deleteVertexFromGroup=function(t){(t=E(t))&&t.group&&(t.group.deleteVertex(t),x(t))},this.deleteVerticesFromGroup=function(t,e){for(var n=0;n<t.length;n++)this.deleteVertexFromGroup(t[n],e)},this.deleteGroup=function(t,e){if(t="string"==typeof t?h[t]:t){t.cleanup(e),delete h[t.id];for(var n=-1,i=0;i<this.groups.length;i++)if(this.groups[i].id===t.id){n=i;break}return n>-1&&this.groups.splice(n,1),C(t),t}},this.getGroup=function(t){return"string"==typeof t?h[t]:t},this.deleteVertex=this.deleteNode=function(t){var e=E(t);if(e){for(var i=-1,r=0;r<this.vertices.length;r++)if(this.vertices[r].id===e.id){i=r;break}i>-1&&(this.vertices.splice(i,1),null!=e.group&&e.group.deleteVertex(e));for(var s=e.getEdges(),a=0;a<s.length;a++)this.deleteEdge(s[a]);if(c-=s.length,e.getPorts)for(var l=e.getPorts(),u=0;u<l.length;u++)this.deleteVertex(l[u]);delete n[e.id],o--,C(e)}},this.deleteEdge=function(t){if(null!=(t=this.getEdge(t))){var e=E(t.source);e&&e.deleteEdge(t)&&c--;var n=E(t.target);n&&n.deleteEdge(t),delete u[t.getId()]}},this.getEdge=function(e){if(null!=e){if("string"!=typeof e){if(e.constructor==t.Edge)return e;var n=e;if("string"!=typeof(e=v(e)))return n}return u[e]}},this.getEdges=function(t){var e,n=(t=t||{}).source,i=t.target,r=t.filter||function(){return!0},o=[],s=function(t){r(t)&&function(t){return!(null!=n&&t.source==a!==n||null!=i&&t.target==a!==i)}(t)&&o.push(t)};if(t.node){var a=E(t.node),l=a.getAllEdges();for(e=0;e<l.length;e++)s(l[e])}else for(e in u)s(u[e]);return o},this.getAllEdges=function(){var t=[];for(var e in u)t.push(u[e]);return t},this.renamePort=function(t,e){return!!t.getNode().renamePort(t,e)&&(t.id=e,!0)},this.findPath=function(t,e,n,i,r){return t=E(t),e=E(e),p.compute({graph:this,source:t,target:e,strict:!(!1===n),nodeFilter:i,edgeFilter:r})},this.getDistance=function(t,e,n){return this.findPath(t,e,n).pathDistance},this.getVertex=this.getNode=E,this.setTarget=function(t,e){if(null==(e=E(e)))return{success:!1};var n=t.target;return t.target.deleteEdge(t),t.target=e,e.addEdge(t),{old:n,edge:t,new:e,success:!0}},this.setSource=function(t,e){if(null==(e=E(e)))return{success:!1};var n=t.source;return t.source.deleteEdge(t),t.source=e,e.addEdge(t),{old:n,edge:t,new:e,success:!0}},this.printPath=function(t,e){t=E(t),e=E(e);for(var n=this.findPath(t,e).path,i="["+t.id+" - "+e.id+"] : ",r=0;r<n.length;r++)i=i+"{ vertex:"+n[r].vertex.id+", cost:"+n[r].cost+", edge: "+(n[r].edge&&n[r].edge.getId())+" } ";return i},this.getDiameter=function(t){for(var e=0,n=0;n<this.vertices.length;n++)for(var i=0;i<this.vertices.length;i++)if(i!=n){var r=p.compute({graph:this,source:this.vertices[n],target:this.vertices[i]});if(null==r.path||0==r.path.length){if(!t)return 1/0}else e=Math.max(e,r.pathDistance)}return e},this.diameter=this.getDiameter,this.getCentrality=function(t){return((t=E(t)).getIndegreeCentrality()+t.getOutdegreeCentrality())/(this.getVertexCount()-1)},this.getDegreeCentrality=this.getCentrality,this.getIndegreeCentrality=function(t){return(t=E(t)).getIndegreeCentrality()/(this.getVertexCount()-1)},this.getOutdegreeCentrality=function(t){return(t=E(t)).getOutdegreeCentrality()/(this.getVertexCount()-1)},this.getCloseness=function(t){return 1/this.getFarness(t)},this.getFarness=function(t){t=E(t);var e=p.compute({graph:this,source:t,target:t,processAll:!0}),n=0;for(var i in e.dist)n+=e.dist[i];return n/(this.getVertexCount()-1)},this.getBetweenness=function(t){var e=this.getVertexCount(),n=(e-1)*(e-2)/2,i=0,r=function(t,e,n,i,o){var s=n.parents[t][e];if(0==s.length)(l=i.slice()).unshift(t),o.push(l);else for(var a=0;a<s.length;a++){var l;-1==i.indexOf(s[a][0].id)&&((l=i.slice()).unshift(s[a][0].id),r(t,s[a][0].id,n,l,o))}};t=E(t);var o=d.compute({graph:this,focus:t});for(var s in o.paths)for(var a in o.paths[s])if(s!=a){var l=[],u=0;r(s,a,o,[a],l);for(var c=0;c<l.length;c++){var h=l[c].indexOf(t.id);h>0&&h<l[c].length-1&&u++}i+=u/l.length}return i/n},this.inspect=function(){for(var t="",e=0;e<this.vertices.length;e++)t+=this.vertices[e].inspect()+"\n";return t},this.serialize=function(){for(var t,e,n,i,r={nodes:[],edges:[],ports:[],groups:[]},o=0;o<this.vertices.length;o++){r.nodes.push((t=this.vertices[o]).data),e=t.getAllEdges(),n=t.getPorts();for(var s=0;s<e.length;s++)if(e[s].source==t||"Port"===e[s].source.objectType&&e[s].source.getNode()==t){var a={source:e[s].source.getFullId(),target:e[s].target.getFullId()};e[s].data&&(a.data=e[s].data),e[s].geometry&&(a.geometry=e[s].geometry),r.edges.push(a)}for(var l=0;l<n.length;l++){var u={};for(var c in n[l].data)u[c]=n[l].data[c];u.id=n[l].getFullId(),r.ports.push(u)}}for(o=0;o<this.groups.length;o++)for(r.groups.push((i=this.groups[o]).data),e=i.getEdges(),s=0;s<e.length;s++)e[s].source===i&&(a={source:i.getFullId(),target:e[s].target.getFullId()},e[s].data&&(a.data=e[s].data),r.edges.push(a));return r},this.getClusters=function(){var t,e=[],n={},i=function(t,r){if(null!=t&&!n[t.id]){null==r?(r=new l(t),e.push(r)):r.addVertex(t),n[t.id]=!0;for(var o=t.getAllEdges(),s=0;s<o.length;s++)i(o[s].source===t?o[s].target:o[s].source,r)}};for(t=0;t<this.vertices.length;t++)i(this.vertices[t]);for(t=0;t<this.groups.length;t++)i(this.groups[t]);return e}},function(t,e,n,i,r){for(var o=-1,s=null,a=1/0,l=0;l<t.length;l++)if(!e[l]){var u=r(t[l]);u<a&&(a=u,o=l,s=t[l])}return{node:s,index:o}}),c=function(t,e){var n=e.getFullId(),i=t[n];return null==i&&(i=t[n=e.getNode?e.getNode().id:e.id]),null==i?null:{p:i,id:n}},h=function(t,e,n,i,r,o){for(var s=[],a=i,l=c(e,a);null!=l;)s.splice(0,0,{vertex:a,cost:t[l.id],edge:n[l.id]}),l=c(e,a=l.p);return s.splice(0,0,{vertex:a,cost:0,edge:null}),s},d={getPath:function(t,e,n,i){if(t[n.id][i.id]==1/0)return null;var r=e[n.id][i.id];return null==r?" ":d.getPath(t,e,n,r)+" "+r.id+" "+d.getPath(t,e,r,i)},getPaths:function(t,e,n,i,r){if(t[n.id][i.id]==1/0)return null;var o=e[n.id][i.id];return 0==o.length?" ":d.getPaths(t,e,n,o[0])+" "+o[0].id+" "+d.getPaths(t,e,o[0],i)},compute:function(t){var e,n,i,r=t.graph,o=r.getVertexCount(),s={},a={};for(e=0;e<o;e++){var l=r.getVertexAt(e);for(s[l.id]||(s[l.id]={}),a[l.id]||(a[l.id]={}),s[l.id][l.id]=0,n=0;n<o;n++)if(e!=n){var u=r.getVertexAt(n);s[l.id][u.id]||(s[l.id][u.id]=1/0),a[l.id][u.id]||(a[l.id][u.id]=[])}var c=l.getEdges();for(i=0;i<c.length;i++)c[i].source==l?s[l.id][c[i].target.id]=c[i].getCost():(s[c[i].source.id]||(s[c[i].source.id]={},a[c[i].source.id]={}),s[l.id][c[i].source.id]=c[i].getCost())}for(i=0;i<o;i++)for(e=0;e<o;e++)for(n=0;n<o;n++)if(e!=n&&n!=i&&e!=i){var h=r.getVertexAt(e).id,d=r.getVertexAt(n).id,p=r.getVertexAt(i).id;s[h][p]+s[p][d]<=s[h][d]&&s[h][p]+s[p][d]!=1/0&&(s[h][d]=s[h][p]+s[p][d],a[h][d]||(a[h][d]=[]),a[h][d].unshift([r.getVertexAt(i),s[h][d]]))}return{paths:s,parents:a}}},p={compute:function(t){for(var e=t.graph,n=t.source,i=t.target,r=t.nodeFilter,o=t.edgeFilter,s={},a={},l={},c={dist:s,previous:a,edges:l,path:[]},d=t.processAll,p={},f={},m=!(!1===t.strict),g=function(t){return t.getFullId?t.getFullId():t.id},v=[],y=function(t){var e=f[t.getFullId()];return p[e.v.id]},b=function(t,e){var n,i;if("Port"===t.objectType){for(s[t.getFullId()]=e,n=y(t),i=0;i<n.length;i++)n[i].p!=t&&(s[n[i].p.getFullId()]=e+t.getNode().getInternalEdge(t,n[i].p).cost);m||(s[t.getNode().id]=e)}else for(s[t.id]=e,n=p[t.id],i=0;i<n.length;i++)s[n[i].p.getFullId()]=e},_=function(t){return r&&!r(t)?1/0:s[g(t)]},w=function(t,e,n){if("Port"===t.objectType){for(var i=y(t),r=0;r<i.length;r++)a[i[r].p.getFullId()]=n.node;m||(a[t.getNode().id]=n.node)}a[e]=n.node},C=function(t,e,n){if("Port"===t.objectType){for(var i=y(t),r=0;r<i.length;r++)l[i[r].p.getFullId()]=n;m||(l[t.getNode().id]=n)}l[e]=n},x=0;x<e.vertices.length;x++){var E=e.vertices[x],S=E.getPorts();v.push(E);var k={v:E,i:v.length-1};p[E.id]=[],b(E,1/0);for(var P=0;P<S.length;P++)v.push(S[P]),f[S[P].getFullId()]=k,p[E.id].push({p:S[P],i:v.length-1}),b(S[P],1/0)}if(null==n&&(n=e.getVertex(t.sourceId)),null==i&&(i=e.getVertex(t.targetId)),null==n||null==i)return c;n.getNode&&n.getNode(),i.getNode&&i.getNode(),b(n,0);for(var D=new Array(e.vertices.length),A=0,T=function(t,e,n,i){for(var r=0;r<e.length;r++){var o=e[r];if(n(o)){var s=i(o),a=s.tp||s.tn,l=g(a),u=_(t.node)+o.getCost();u<_(a)&&(b(a,u),w(a,l,t),C(a,l,o))}}};A<v.length;){var I=u(v,D,0,0,_),j=I.node?g(I.node):null;if(!I.node||_(I.node)==1/0)break;if(i&&(j==g(i)||!m&&I.node.isChildOf&&I.node.isChildOf(i))&&(c.path=h(s,a,l,i),c.pathDistance=c.path[c.path.length-1].cost,!d))break;D[I.index]=!0,A+=1,T(I,I.node.getAllEdges(),(function(t){return!(o&&!o(t))&&(!t.isDirected()||I.node==t.source||!m&&t.source.isChildOf&&t.source.isChildOf(I.node))}),(function(t){var e=t.source.getNode?t.source.getNode():t.source,n=t.source.getNode?t.source:null,i=t.target.getNode?t.target.getNode():t.target,r=t.target.getNode?t.target:null;return t.source==I.node||!m&&t.source.isChildOf&&t.source.isChildOf(I.node)?{tn:i,tp:r}:{tn:e,tp:n}}))}return c}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,n=t.jsPlumbUtil,i=t.jsPlumb,r=t.jsPlumbGraph,o=function(t){return t.id};t.jsPlumbToolkitInstance=function(e){var s=(e=e||{}).idFunction||o,a=e.typeProperty||"type",l=e.edgeTypeProperty||"type",u=e.portTypeProperty||"type",c=e.typeFunction||function(t){return t[a]||"default"},h=e.edgeIdFunction||s,d=e.edgeTypeFunction||function(t){return t[l]||"default"},p=e.portIdFunction||s,f=e.portTypeFunction||function(t){return t[u]||"default"},m=e.portExtractor,g=e.portUpdater,v=e.portDataProperty,y=e.portOrderProperty,b=this,_=!1,w=!1,C=e.model||{},x=function(t,e,i){e=null!=e&&n.isObject(e)?e:{},(e=n.clone(e)).id=e.id||n.uuid(),e.type=e.type||(null==t?null:t.type||t),i(e)},E=e.nodeFactory||x,S=e.edgeFactory||x,k=e.portFactory||x,P=e.groupFactory||x,D=e.autoSave&&e.saveUrl,A=e.saveUrl,T=e.saveHeaders,I=e.onAutoSaveSuccess||function(){},j=e.onAutoSaveError||function(){},O=!0===e.doNotUpdateOriginalData,M=e.onBeforeAutoSave||function(){},R=e.onAfterAutoSave||function(){},N={portSeparator:e.portSeparator,defaultCost:e.defaultCost,defaultDirected:e.defaultDirected,enableSubgraphs:e.enableSubgraphs},F=!0===e.createMissingGroups;null!=v&&null==m&&(m=function(t){var e=t[v]||[];return null!=y&&e.sort((function(t,e){var n=t[y],i=e[y];return(null==n?1/0:n)-(null==i?1/0:i)})),e}),null!=v&&null==g&&(g=function(t,e,n){var i={};return null!=y&&n.sort((function(t,e){var n=t.data[y],i=e.data[y];return(null==n?1/0:n)-(null==i?1/0:i)})),i[v]=jsPlumbUtil.map(n,(function(t){return t.data})),jsPlumb.extend(t,i)}),n.EventGenerator.apply(this,arguments),n.FilterableDataset.apply(this,[this]);var L=new r.Graph(N);D&&new n.AutoSaver(this,A,T,I,j,M,R),new n.CatchAllEventHandler(this),this.getNodeFactory=function(){return E},this.getGroupFactory=function(){return P},this.getEdgeFactory=function(){return S},this.getPortFactory=function(){return k},this.setNodeFactory=function(t){E=t},this.setGroupFactory=function(t){P=t},this.setEdgeFactory=function(t){S=t},this.setPortFactory=function(t){k=t},this.setDebugEnabled=function(t){w=t},this.isDebugEnabled=function(){return w},this.getModel=function(){return C||{}};var V,z=function(){return null==V&&(V=new t.jsPlumbToolkit.Model(C||{})),V},U=(function(t,e){if(null==C)return!0;var n=this.getType(t),i=this.getType(e),r=z(),o=t.getNode?t.getNode():t,s=e.getNode?e.getNode():e,a="Node"===t.objectType?r.getNodeDefinition(n):r.getPortDefinition(n),l="Node"===e.objectType?r.getNodeDefinition(i):r.getPortDefinition(i),u=this.getNodeType(o),c=this.getNodeType(s),h=r.getNodeDefinition(u),d=r.getNodeDefinition(c);return!(null!=a.maxConnections&&t.getEdges().length>=a.maxConnections||null!=l.maxConnections&&e.getEdges().length>=l.maxConnections||(t==e?!1===h.allowLoopback||!1===a.allowLoopback||!1===l.allowLoopback||!1===d.allowLoopback:o==s&&(!1===h.allowNodeLoopback||!1===a.allowNodeLoopback||!1===l.allowNodeLoopback||!1===d.allowNodeLoopback)))}).bind(this);this.beforeConnect=e.beforeConnect||U,this.beforeMoveConnection=e.beforeMoveConnection||U,this.beforeStartConnect=e.beforeStartConnect||function(t,e){return{}},this.beforeDetach=e.beforeDetach||function(t,e,n){return!0},this.beforeStartDetach=e.beforeStartDetach||function(t,e){return!0},this.setSuspendGraph=function(t){_=t},this.setDoNotUpdateOriginalData=function(t){O=t},this.getTypeFunction=function(){return c},this.connect=function(t){var e;if(t=t||{},!_){var n=L.getVertex(t.source),r=L.getVertex(t.target),o=t.cost,s=t.directed;if(!n){if(t.doNotCreateMissingNodes)return;n=L.addVertex(t.source),b.fire("nodeAdded",{data:{},node:n})}if(!r){if(t.doNotCreateMissingNodes)return;r=L.addVertex(t.target),b.fire("nodeAdded",{data:{},node:r})}var a=t.data||{},l=this.beforeStartConnect(n,d(a));l&&("object"==typeof l&&(a=i.extend(l,a)),!1!==this.beforeConnect(n,r,a)&&(e=L.addEdge({source:n,target:r,cost:o,directed:s,data:a}),b.fire("edgeAdded",{edge:e})))}return e},this.clear=function(){return this.fire("graphClearStart"),L.clear(),this.fire("graphCleared"),this},this.getGraph=function(){return L},this.getNodeCount=function(){return L.getVertexCount()},this.getNodeAt=function(t){return L.getVertexAt(t)},this.getNodes=function(){return L.getVertices()},this.eachNode=function(t){for(var e=0,n=L.getVertexCount();e<n;e++)t(e,L.getVertexAt(e))},this.eachGroup=function(t){for(var e=0,n=L.getGroupCount();e<n;e++)t(e,L.getGroupAt(e))},this.eachEdge=function(t){for(var e=L.getEdges(),n=0,i=e.length;n<i;n++)t(n,e[n])},this.getEdgeCount=function(){return L.getEdgeCount()},this.getGroupCount=function(){return L.getGroupCount()},this.getGroupAt=function(t){return L.getGroupAt(t)},this.getGroups=function(){return L.getGroups()},this.getClusters=function(){return L.getClusters()},this.getNodeId=function(t){return n.isObject(t)?s(t):t},this.getNodeType=function(t){return c(t)||"default"},this.getEdgeId=function(t){return n.isObject(t)?h(t):t},this.getEdgeType=function(t){return d(t)||"default"},this.getPortId=function(t){return n.isObject(t)?p(t):t},this.getPortType=function(t){return f(t)||"default"},this.getType=function(t){return("Node"===t.objectType?c:"Port"===t.objectType?f:d)(t.data)||"default"},this.setType=function(t,e){var n=this.getType(t);if(n!==e){var i="Node"===t.objectType?a:"Port"===t.objectType?u:l,r=t.objectType.charAt(0).toLowerCase()+t.objectType.substring(1)+"TypeChanged";t.data[i]=e,this.fire(r,{obj:t,previousType:n,newType:e})}},this.addNode=function(e,i,r){var o=s(e);null==o&&"string"!=typeof e&&(e.id=n.uuid());var a=L.addNode(e,s);if(null!=a){if(null!=m){var l=m(a.data,a);if(null!=l)for(var u=0;u<l.length;u++)a.addPort(l[u],p)}if("string"!=typeof e&&null!=e.group){var c=this.getGroup(e.group);null==c&&F&&(c=L.addGroup(e.group)),null!=c&&(c.addVertex(a),b.fire("group:addMember",{node:a,group:c}))}return q||O||t.jsPlumbToolkitIO.manage("addNode",$,W,a,s||L.getIdFunction(),b),r||b.fire("nodeAdded",{data:e,node:a,eventInfo:i}),a}return L.getNode(o)},this.addFactoryNode=function(t,e,n){arguments.length<3&&(2===arguments.length?(e="object"==typeof arguments[1]?arguments[1]:{},n="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(e={})),e.type=e.type||t,E(t,e,(function(t){var e=this.addNode(t);n&&n(e)}).bind(this))},this.addNodes=function(t){for(var e=0;e<t.length;e++)b.addNode.apply(b,[t[e]]);return b},this.addFactoryGroup=function(t,e,n){arguments.length<3&&(2===arguments.length?(e="object"==typeof arguments[1]?arguments[1]:{},n="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(e={})),e.type=e.type||t,P(t,e,(function(t){var e=this.addGroup(t);n&&n(e)}).bind(this))},this.addGroup=function(e,i,r){null==s(e)&&"string"!=typeof e&&(e.id=n.uuid());var o=L.addGroup(e,s);return q||O||t.jsPlumbToolkitIO.manage("addGroup",$,W,o,s||L.getIdFunction(),b),r||b.fire("groupAdded",{data:e,group:o,eventInfo:i}),o},this.addToGroup=function(t,e,n,i){var r=!1;if(t=b.getNode(t),e=b.getGroup(e),t&&e&&(r=e.addVertex(t))){t.data.group=e.id;var o={node:t,group:this.getGroup(e),pos:i};n&&(o.sourceGroup=n),b.fire("group:addMember",o),b.fire("dataUpdated")}return r},this.removeFromGroup=function(t,e,n){var i;if((t=b.getNode(t))&&t.group){if((i=t.group).deleteVertex(t),delete t.data.group,!e){var r={node:t,group:i};n&&(r.targetGroup=n),b.fire("group:removeMember",r)}b.fire("dataUpdated")}return i},this.removeGroup=function(e,n,i){var r=b.getObjectInfo(e);if(r&&r.obj){e=r.obj;var o=[];Array.prototype.push.apply(o,e.getNodes());var a=L.deleteGroup(e,n);return a&&(q||O||t.jsPlumbToolkitIO.manage("removeGroup",$,W,a,s||L.getIdFunction(),b),i||b.fire("groupRemoved",{group:a,removeChildNodes:n,nodes:o})),b}},this.getNode=function(t){return L.getVertex(t)},this.getEdge=function(t){return L.getEdge(t)},this.getGroup=function(t){return L.getGroup(t)},this.getPort=function(t){var e=L.getVertexByPortId(t);if(e)return e.getPort(L.splitPortId(t)[1])},this.exists=function(t){for(var e=0;e<arguments.length;e++)if(null==L.getVertex(arguments[e]))return!1;return!0},this.removeNode=function(e,n){for(var i=(e=e.constructor===r.Vertex||e.constructor===r.Port?e:L.getVertex(e)).getAllEdges()||[],o=0;o<i.length;o++)b.removeEdge(i[o]);return L.deleteVertex(e.id),q||O||t.jsPlumbToolkitIO.manage("removeNode",$,W,e,s||L.getIdFunction(),b),n||b.fire("nodeRemoved",{node:e,nodeId:e.id,edges:i}),b},this.addEdge=function(e,n,i){var r=L.addEdge(e,h,this.beforeConnect);return null!=r?(q||O||t.jsPlumbToolkitIO.manage("addEdge",$,W,r,h||L.getIdFunction(),b),i||b.fire("edgeAdded",{edge:r,source:n,geometry:e.geometry,addedByMouse:e.addedByMouse},null)):this.isDebugEnabled()&&console.log("JSPLUMB: could not add edge",e,n),r},this.removeEdge=function(e,n){return null!=(e=L.getEdge(e))&&(L.deleteEdge(e),q||O||t.jsPlumbToolkitIO.manage("removeEdge",$,W,e,h||L.getIdFunction(),b),b.fire("edgeRemoved",{edge:e,source:n},null)),b},this.edgeMoved=function(t,e,n){return this[0===n?"setSource":"setTarget"](t,e)},this.setTarget=function(t,e,n){var i=L.setTarget.apply(L,arguments);return!1===i.success||n||b.fire("edgeTarget",i),i},this.setSource=function(t,e,n){var i=L.setSource.apply(L,arguments);return!1===i.success||n||b.fire("edgeSource",i),i},this.addNewPort=function(e,n,i,r){e=L.getVertex(e),k({node:e,type:n},i,(function(n){var i=p(n),o=e.addPort(i);o.data=n,H(e),q||O||t.jsPlumbToolkitIO.manage("addPort",$,W,{node:e,port:o},p||L.getIdFunction(),b),r||b.fire("portAdded",{node:e,data:n,port:o},null)}))},this.addPort=function(e,n,i){var r=e.addPort(n,p);return H(e),q||O||t.jsPlumbToolkitIO.manage("addPort",$,W,{node:e,port:r},p||L.getIdFunction(),b),i||b.fire("portAdded",{node:e,data:n,port:r},null),r},this.removePort=function(t,e,n){var i=!1,o=(t=t.constructor===r.Vertex||t.constructor===r.Port?t:L.getVertex(t)).getPort(e);if(o){var s=o.getAllEdges();if((i=t.removePort(o))&&!n){H(t);for(var a=0;a<s.length;a++)b.removeEdge(s[a]);b.fire("portRemoved",{node:t,port:o,edges:s},null)}}return i},this.remove=function(t){if(null!=t){var e=b.getObjectInfo(t);b.setSuspendRendering(!0);try{if(!e.obj||"Node"!==e.type&&"Edge"!==e.type&&"Group"!==e.type){for(;t.getNodeCount()>0;)b.removeNode(t.getNodeAt(0));for(;t.getEdgeCount()>0;)b.removeEdge(t.getEdgeAt(0));for(;t.getGroupCount()>0;)b.removeGroup(t.getGroupAt(0))}else b["remove"+e.type](e.obj)}finally{b.setSuspendRendering(!1,!0)}}},this.setSuspendRendering=function(t,e){for(var n in nt)nt[n].setSuspendRendering(t,e)},this.batch=function(t){b.setSuspendRendering(!0);try{t()}catch(e){jsPlumbUtil.log("Error in transaction "+e)}finally{b.setSuspendRendering(!1,!0)}};var B=(function(t,e,r,o,s){var a=L.getNode(t);if(a&&a.objectType){var l,u=i.extend({},a.data),c="Port"===a.objectType?a.getFullId():a.id,h="Port"===a.objectType?p(u):null;if(e){for(var d in e)n.replace(a.data,d,e[d]);"Port"===a.objectType&&((l=p(a.data))!==a.id&&L.renamePort(a,l),H(a.getNode()))}var f=o(a,u);f.originalId=c,null!=h&&(f.originalPortId=h),b.fire(r,f,null)}}).bind(this),H=function(t){if(null!=g){var e=g(t.data,t,t.getPorts());null!=e&&(t.data=e)}};this.updateGroup=function(t,e){B(t,e,"groupUpdated",(function(t,n){return{group:t,updates:e||{},originalData:n}}))},this.updateNode=function(t,e){B(t,e,"nodeUpdated",(function(t,n){return{node:t,updates:e||{},originalData:n}}))},this.updatePort=function(t,e){B(t,e,"portUpdated",(function(t,n){return{port:t,node:t.getNode(),updates:e||{},originalData:n}}))},this.updateEdge=function(t,e){var r=L.getEdge(t);if(r){var o=i.extend({},r.data);if(e)for(var s in e)null==r.data[s]?r.data[s]=e[s]:n.replace(r.data,s,e[s]);b.fire("edgeUpdated",{edge:r,updates:e||{},originalData:o},null)}},this.update=function(t,e){return n.isString(t)&&(t=this.getNode(t)),t&&t.objectType&&this["update"+t.objectType](t,e),t},this.setEdgeGeometry=function(t,e){t.geometry=e,b.fire("edgePathEdited",{edge:t,geometry:e}),b.fire("dataUpdated")},this.getPath=function(e){return new t.jsPlumbToolkit.Path(this,e)};var G=function(t){return null==t?null:"*"===t?L:t.constructor===r.Vertex||t.constructor===r.Port?t:n.isString(t)||n.isObject(t)?L.getVertex(t):null};this.findGraphObject=G;var $,W,q,Y=function(t,e,n){var i=[],o={},s=function(s,a,l,u){if(null!=s)for(var c=s[e]({filter:t.filter}),h=0;h<c.length;h++){var d=a&&s===L||c[h].source===s||n&&c[h].source.constructor===r.Port&&c[h].source.getNode()===s,p=l&&s===L||c[h].target===s||n&&c[h].target.constructor===r.Port&&c[h].target.getNode()===s;(a&&d||l&&p||u&&(d||p))&&(o[(f=c[h]).getId()]||(i.push(f),o[f.getId()]=!0))}var f};return s(G((t=t||{}).source),!0,!1,!1),s(G(t.target),!1,!0,!1),s(G(t.element),!1,!1,!0),i};this.getEdges=function(t){return Y(t,"getEdges",!1)},this.getAllEdges=function(){return L.getAllEdges()},this.getAllEdgesFor=function(t,e){return t.getAllEdges({filter:e})},this.getSourceEdgesFor=function(t,e){return t.getSourceEdges({filter:e})},this.selectAllEdges=function(){return this.filter((function(t){return"Edge"===t.objectType}))},this.addAllEdgesToSelection=function(){this.addToSelection(this.getAllEdges())};var Z=function(e,i,r){var o=(e=e||{}).type||"json",s=e.data,a=e.url,l=e.jsonp,u=e.onload,c=e.parameters||{},h=e.error||function(){};if(null==s&&null==a)throw new TypeError("You must supply either data or url to load.");var d=function(e){$=e,W=o,q=!0,b.fire(i),t.jsPlumbToolkitIO.parse(o,e,b,c),et(r),u&&u(b,e),b.fire("graphChanged")};if(s)d(s);else if(a){if(l){var p=-1===a.indexOf("?")?"?":"&";a=a+p+"callback=?"}n.ajax({url:a,success:d,dataType:"json"===o?o:e.dataType,error:h,headers:e.headers||{Accept:"application/json"}})}return b};this.load=function(t){return Z(t,"dataLoadStart","dataLoadEnd")},this.append=function(t){return Z(t,"dataAppendStart","dataAppendEnd")},this.save=function(t){var e=this.exportData(t=t||{}),r={"Content-Type":"application/json"};return i.extend(r,t.headers||{}),n.ajax({url:t.url,type:"POST",data:e,success:t.success||function(){},error:t.error||function(){},headers:r}),b},this.exportData=function(e){return t.jsPlumbToolkitIO.exportData((e=e||{}).type||"json",b,e.parameters)};var X=function(t){return new n.Selection({toolkit:b,onClear:t||function(){}})},K=X((function(t){b.fire("selectionCleared",{selection:t})}));e.maxSelectedNodes&&K.setMaxNodes(e.maxSelectedNodes),e.maxSelectedEdges&&K.setMaxEdges(e.maxSelectedEdges),e.selectionCapacityPolicy&&K.setCapacityPolicy(e.selectionCapacityPolicy);var Q=function(t,e,n,i){return e||n.clear(!0),n.append(t,(function(t){i&&b.fire("select",{append:e,obj:t,selection:n})}))};this.setSelection=function(t){Q(t,!1,K,!0)},this.select=function(t,e){var n=X(),i=Q(t,!0,n);if(e)for(var r=0;r<i[0].length;r++){var o=i[0][r];if("Node"===o.objectType||"Port"===o.objectType)for(var s=o.getAllEdges(),a=0;a<s.length;a++)n.append(s[a])}return n};var J=function(t,e,n,i){for(var r=t.getAllEdges(),o=0,s=r.length;o<s;o++)if(r[o].source===t||r[o].getNode&&r[o].getNode()===t){var a=r[o].target,l=a.getFullId();i[l]||(e.append(a),n&&e.append(r[o]),i[l]=!0,J(a,e,n,i))}};this.selectDescendants=function(t,e,n){var i=b.getObjectInfo(t),r=X();if(i.obj&&"Node"===i.obj.objectType){e&&Q(i.obj,!0,r);var o={};o[i.obj.getFullId()]=!0,J(i.obj,r,n,o)}return r},this.addToSelection=function(t){var e=this.getObjectInfo(t);if(e){var n=Q(e.obj,!0,K,!0);tt("deselect",n[1]),tt("select",n[0])}};var tt=function(t,e){for(var n=0;n<e.length;n++)b.fire(t,{obj:e[n],selection:K})};this.toggleSelection=function(t){var e=this.getObjectInfo(t);if(e){var n=[],i=K.toggle(e.obj,(function(t,e){e||n.push(t)}));tt("deselect",i[1]),tt("deselect",n),tt("select",i[0])}},this.removeFromSelection=function(t){var e=this.getObjectInfo(t);e&&K.remove(e.obj,(function(t){b.fire("deselect",{obj:t,selection:K})}))},this.addPathToSelection=function(t){this.addToSelection(this.getPath(t))},this.selectAll=function(){throw new TypeError("not implemented")},this.clearSelection=K.clear,this.getSelection=function(){return K},this.setMaxSelectedNodes=function(t){K.setMaxNodes(t)},this.setMaxSelectedEdges=function(t){K.setMaxEdges(t)},this.setSelectionCapacityPolicy=function(t){K.setCapacityPolicy(t)};var et=function(t){b.setSuspendGraph(!0),b.fire(t),b.setSuspendGraph(!1),q=!1},nt={};if(this.render=function(e,r){var o=i.extend({},r||{});if(i.extend(o,e),o.toolkit=b,null==o.container)throw new Error("jsPlumbToolkit: You must specify a `container` into which to render");null!=e.selection&&(o.toolkit=e.selection.constructor===n.Selection?e.selection:new n.Selection({generator:e.selection,toolkit:b})),o.toolkitInstance=b;var s=new t.jsPlumbToolkit.Renderers[o.type||t.jsPlumbToolkit.DefaultRendererType](o),a=o.id||n.uuid();return nt[a]=s,s.id=a,null!=e.selection&&(s.reload=o.toolkit.reload.bind(o.toolkit)),s._onDestroy=function(t){delete nt[t.id]},s},this.getRenderer=function(t){return nt[t]},this.getRenderers=function(){return nt},this.getObjectInfo=function(t,e){var r={els:{},obj:null,type:null,id:null,el:null},o=function(t){if(null!=t)return t.jtk?t:o(t.parentNode)};if(null!=t){if(t.eachNode&&t.eachEdge)return{obj:t};if(n.isArray(t))return{obj:t};var a=i.getElement(t);if(null!=a&&a.jtk)r.el=a,r.obj=a.jtk.port||a.jtk.node||a.jtk.group;else if(null!=t.tagName){var l=o(a);null!=l&&(r.el=l,r.obj=l.jtk.port||l.jtk.node||l.jtk.group)}else{if("string"==typeof t?t=this.getNode(t)||this.getGroup(t)||this.getPort(t):"object"==typeof t&&void 0===t.objectType&&(t=this.getNode(s(t))),null==t)return r;r.obj=t,null!=e&&(r.el=e(t))}null==e&&(r.els=function(t){var e={};for(var n in nt)e[n]=[nt[n],nt[n].getRenderedElement(t)];return e}(r.obj)),null!=r.obj&&(r.id=r.obj.id,r.type=r.obj.objectType)}return r},e.data){var it=e.dataType||"json";b.load({data:e.data,type:it})}},n.extend(t.jsPlumbToolkitInstance,[n.FilterableDataset,n.EventGenerator]),t.jsPlumbToolkit=new t.jsPlumbToolkitInstance({}),t.jsPlumbToolkit.DefaultRendererType=null,t.jsPlumbToolkit.ready=i.ready,t.jsPlumbToolkit.Renderers={},t.jsPlumbToolkit.Widgets={};var s=function(e){return new t.jsPlumbToolkitInstance(e)};t.jsPlumbToolkit.newInstance=s,e.jsPlumbToolkit=t.jsPlumbToolkit,e.newInstance=s}).call("undefined"!=typeof window?window:this),(function(){var t=this.jsPlumbToolkit,e=this.jsPlumbUtil;t.Model=function(n,i){(n=n||{}).nodes=n.nodes||{},n.edges=n.edges||{},n.ports=n.ports||{},n.groups=n.groups||{};var r,o,s={},a={nodes:{},edges:{},groups:{},ports:{}},l=function(t){if(a.edges[t])return a.edges[t];var i=e.mergeWithParents([t,"default"],n.edges);return delete i.parent,a.edges[t]=i,i},u=function(t,i){if(a.ports[t])return a.ports[t];var r=e.mergeWithParents([t,"default"],i&&i.ports?i.ports:n.ports);return delete r.parent,a.ports[t]=r,r};if(void 0!==i){for(var c in n.edges){if((r=l(c)).overlays)for(o=0;o<r.overlays.length;o++)if(e.isArray(r.overlays[o])&&r.overlays[o][1].events)for(var h in r.overlays[o][1].events)r.overlays[o][1].events[h]=function(t,e){return function(n,i){t.call(e,{overlay:n,e:i,component:n.component,edge:n.component.edge})}}(r.overlays[o][1].events[h],r.overlays[o]);i.registerConnectionType(c,r)}for(o in n.ports)r=u(o),i.registerEndpointType(o,r);if(n.states)for(var d in n.states)s[d]=new t.UIState(d,n.states[d],i)}return{getNodeDefinition:function(t){if(a.nodes[t])return a.nodes[t];var i=e.mergeWithParents([t,"default"],n.nodes);return delete i.parent,a.nodes[t]=i,i},getEdgeDefinition:l,getPortDefinition:u,getGroupDefinition:function(t){if(a.groups[t])return a.groups[t];var i=e.mergeWithParents([t,"default"],n.groups);return delete i.parent,a.groups[t]=i,i},getState:function(t){return s[t]}}}}).call("undefined"!=typeof window?window:this),(function(){var t=jsPlumbToolkit.ready,e=function(t){var e=0,n=function(){--e<=0&&r()};this.add=function(i){e++,jsPlumbUtil.ajax({url:i,success:function(e){var i=t.innerHTML;t.innerHTML=i+=e,n()},error:function(t){n()}})},this.ensureNotEmpty=function(){e<=0&&r()}},n=[],i=!1,r=function(){i=!0;for(var e=0;e<n.length;e++)t.call(t,n[e])};jsPlumbToolkit.ready=function(e){i?t.call(t,e):n.push(e)},jsPlumb.ready((function(){var t=document.getElementById("jsPlumbToolkitTemplates");if(t)r();else{(t=document.createElement("div")).style.display="none",t.id="jsPlumbToolkitTemplates",document.body.appendChild(t);for(var n=new e(t),i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var s=i[o].getAttribute("type"),a=i[o].getAttribute("src");"text/x-jtk-templates"==s&&n.add(a)}n.ensureNotEmpty()}}))}).call("undefined"!=typeof window?window:this),(function(){"use strict";this.jsPlumbToolkit.Classes={LASSO:"jtk-lasso",LASSO_SELECT_DEFEAT:"jtk-lasso-select-defeat",MINIVIEW:"jtk-miniview",MINIVIEW_CANVAS:"jtk-miniview-canvas",MINIVIEW_PANNER:"jtk-miniview-panner",MINIVIEW_ELEMENT:"jtk-miniview-element",MINIVIEW_GROUP_ELEMENT:"jtk-miniview-group-element",MINIVIEW_PANNING:"jtk-miniview-panning",MINIVIEW_COLLAPSE:"jtk-miniview-collapse",MINIVIEW_COLLAPSED:"jtk-miniview-collapsed",MOST_RECENTLY_DRAGGED:"jtk-most-recently-dragged",NODE:"jtk-node",PORT:"jtk-port",GROUP:"jtk-group",SELECT_DEFEAT:"jtk-drag-select-defeat",SURFACE:"jtk-surface",SURFACE_DIRECT:"jtk-surface-direct-render",SURFACE_NO_PAN:"jtk-surface-nopan",SURFACE_CANVAS:"jtk-surface-canvas",SURFACE_PAN:"jtk-surface-pan",SURFACE_PAN_LEFT:"jtk-surface-pan-left",SURFACE_PAN_TOP:"jtk-surface-pan-top",SURFACE_PAN_RIGHT:"jtk-surface-pan-right",SURFACE_PAN_BOTTOM:"jtk-surface-pan-bottom",SURFACE_PAN_ACTIVE:"jtk-surface-pan-active",SURFACE_SELECTED_ELEMENT:"jtk-surface-selected-element",SURFACE_SELECTED_CONNECTION:"jtk-surface-selected-connection",SURFACE_PANNING:"jtk-surface-panning",SURFACE_ELEMENT_DRAGGING:"jtk-surface-element-dragging",SURFACE_DROPPABLE_NODE:"jtk-surface-droppable-node",TOOLBAR:"jtk-toolbar",TOOLBAR_TOOL:"jtk-tool",TOOLBAR_TOOL_SELECTED:"jtk-tool-selected",TOOLBAR_TOOL_ICON:"jtk-tool-icon"},this.jsPlumbToolkit.Constants={click:"click",start:"start",stop:"stop",drop:"drop",disabled:"disabled",pan:"pan",select:"select",drag:"drag",left:"left",right:"right",top:"top",bottom:"bottom",width:"width",height:"height",leftmin:"leftmin",leftmax:"leftmax",topmin:"topmin",topmax:"topmax",min:"min",max:"max",nominalSize:"50px",px:"px",onepx:"1px",nopx:"0px",em:"em",absolute:"absolute",relative:"relative",none:"none",block:"block",hidden:"hidden",div:"div",id:"id",plusEquals:"+=",minusEquals:"-=",dot:".",transform:"transform",transformOrigin:"transform-origin",nodeType:"Node",portType:"Port",edgeType:"Edge",groupType:"Group",surfaceNodeDragScope:"surfaceNodeDrag",mistletoeLayoutType:"Mistletoe",surfaceType:"Surface",jtkStatePrefix:"jtk-state-",msgCannotSaveState:"Cannot save state",msgCannotRestoreState:"Cannot restore state"},this.jsPlumbToolkit.Attributes={jtkNodeId:"jtk-node-id",relatedNodeId:"related-node-id"},this.jsPlumbToolkit.Methods={addClass:"addClass",removeClass:"removeClass"},this.jsPlumbToolkit.Events={beforeDrop:"beforeDrop",beforeDetach:"beforeDetach",click:"click",canvasClick:"canvasClick",canvasDblClick:"canvasDblClick",connection:"connection",connectionAborted:"connectionAborted",connectionDetached:"connectionDetached",connectionMoved:"connectionMoved",connectionDragStop:"connectionDragStop",connectionEdit:"connectionEdit",contentDimensions:"contentDimensions",contextmenu:"contextmenu",dataLoadStart:"dataLoadStart",dataAppendStart:"dataAppendStart",dataLoadEnd:"dataLoadEnd",dataAppendEnd:"dataAppendEnd",dblclick:"dblclick",drag:"drag",drop:"drop",dragover:"dragover",dragend:"dragend",edgeAdded:"edgeAdded",edgePathEdited:"edgePathEdited",edgeRemoved:"edgeRemoved",edgeTypeChanged:"edgeTypeChanged",elementDragged:"elementDragged",elementAdded:"elementAdded",elementRemoved:"elementRemoved",endOverlayAnimation:"endOverlayAnimation",graphClearStart:"graphClearStart",graphCleared:"graphCleared",groupAdded:"groupAdded",groupDragStop:"groupDragStop",groupExpand:"group:expand",groupCollapse:"group:collapse",groupRelayout:"group:relayout",groupRemoved:"groupRemoved",groupMemberAdded:"group:addMember",groupMemberRemoved:"group:removeMember",groupMoveEnd:"groupMoveEnd",groupUpdated:"groupUpdated",lassoEnd:"lasso:end",modeChanged:"modeChanged",mousedown:"mousedown",mousemove:"mousemove",mouseout:"mouseout",mouseup:"mouseup",mouseenter:"mouseenter",mouseleave:"mouseleave",mouseover:"mouseover",nodeAdded:"nodeAdded",nodeDropped:"nodeDropped",nodeMoveStart:"nodeMoveStart",nodeMoveEnd:"nodeMoveEnd",nodeRemoved:"nodeRemoved",nodeVisibility:"nodeVisibility",edgeTarget:"edgeTarget",nodeTypeChanged:"nodeTypeChanged",edgeSource:"edgeSource",objectRepainted:"objectRepainted",pan:"pan",portAdded:"portAdded",portRemoved:"portRemoved",portTypeChanged:"portTypeChanged",redraw:"redraw",start:"start",startOverlayAnimation:"startOverlayAnimation",stateRestored:"stateRestored",stop:"stop",tap:"tap",touchend:"touchend",touchmove:"touchmove",touchstart:"touchstart",unload:"unload",nodeRendered:"nodeRendered",nodeUpdated:"nodeUpdated",portUpdated:"portUpdated",edgeUpdated:"edgeUpdated",portRenamed:"portRenamed",zoom:"zoom",relayout:"relayout",deselect:"deselect",selectionCleared:"selectionCleared",resize:"resize",anchorChanged:"anchorChanged"}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this;t.jsPlumbToolkit.util={Cookies:{get:function(t){return document.cookie.match(new RegExp(t+"=[a-zA-Z0-9.()=|%/_]+($|;)","g")),val&&0!=val.length&&unescape(val[0].substring(t.length+1,val[0].length).replace(";",""))||null},set:function(t,e,n,i){var r=[t+"="+escape(e),"/",window.location.host];return i&&r.push(function(){if("NaN"==parseInt(i))return"";var t=new Date;return t.setTime(t.getTime()+60*parseInt(i)*60*1e3),t.toGMTString()}()),document.cookie=r.join("; ")},unset:function(e,n,i){n=n&&"string"==typeof n?n:"",i=i&&"string"==typeof i?i:"",t.jsPlumbToolkit.util.Cookies.get(e)&&t.jsPlumbToolkit.util.Cookies.set(e,"","Thu, 01-Jan-70 00:00:01 GMT",n,i)}},Storage:{set:function(e,n){"undefined"==typeof localStorage?t.jsPlumbToolkit.util.Cookies.set(e,n):localStorage.setItem(e,n)},get:function(e){return"undefined"==typeof localStorage?t.jsPlumbToolkit.util.Cookies.read(e):localStorage.getItem(e)},clear:function(e){"undefined"==typeof localStorage?t.jsPlumbToolkit.util.Cookies.unset(e):localStorage.removeItem(e)},clearAll:function(){if("undefined"==typeof localStorage);else for(;localStorage.length>0;){var t=localStorage.key(0);localStorage.removeItem(t)}},setJSON:function(e,n){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot store value.");t.jsPlumbToolkit.util.Storage.set(e,JSON.stringify(n))},getJSON:function(e){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot retrieve value.");return JSON.parse(t.jsPlumbToolkit.util.Storage.get(e))}}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbUtil;this.jsPlumbToolkit.Path=function(e,n){this.bind=e.bind,this.getModel=e.getModel,this.setSuspendGraph=e.setSuspendGraph,this.getNodeId=e.getNodeId,this.getEdgeId=e.getEdgeId,this.getPortId=e.getPortId,this.getNodeType=e.getNodeType,this.getEdgeType=e.getEdgeType,this.getPortType=e.getPortType;for(var i=e.getGraph().findPath(n.source,n.target,n.strict,n.nodeFilter,n.edgeFilter),r=(function(){for(var t=0;t<i.path.length;t++)i.path[t].edge&&e.removeEdge(i.path[t].edge);return this}).bind(this),o=(function(){for(var t=0;t<i.path.length;t++)e.removeNode(i.path[t].vertex);return this}).bind(this),s=[],a={},l=0;l<i.path.length;l++)s.push(i.path[l].vertex),a[e.getNodeId(i.path[l].vertex)]=[i.path[l].vertex,l];this.getNodes=function(){return s},this.getNode=function(t){return a["string"==typeof t?t:t.id][0]},this.getAllEdgesFor=function(t){var e=a[t.id][1];return e<i.path.length-1?[i.path[e+1].edge]:[]};var u=function(e,n){for(var r=n||0;r<i.path.length;r++)try{e(r,i.path[r])}catch(o){t.log("Path iterator function failed",o)}};this.each=function(t){u((function(e,n){t(e,n)}))},this.eachNode=function(t){u((function(e,n){t(e,n.vertex)}))},this.eachEdge=function(t){u((function(e,n){t(e,n.edge)}),1)},this.getNodeCount=function(){return i.path.length},this.getNodeAt=function(t){return i.path[t].vertex},this.getEdgeCount=function(){return 0==i.path.length?0:i.path.length-1},this.getEdgeAt=function(t){return t<0&&(t=i.path.length-1+t),i.path.length>t+1?i.path[t+1].edge:null},this.path=i,this.deleteEdges=r,this.deleteNodes=o,this.deleteAll=o,this.isEmpty=function(){return 0==i.path.length},this.getCost=function(){return i.pathDistance},this.contains=function(t,n){var r=e.findGraphObject(t),o=!1;if(r)for(var s=0;s<i.path.length;s++)if(i.path[s].vertex==r||i.path[s].edge==r||!n&&"Port"==i.path[s].vertex.objectType&&i.path[s].vertex.isChildOf(r)){o=!0;break}return o},this.exists=function(){return null!=i.pathDistance},this.selectEdges=function(t){return _selectEdges(t,"getEdges",!1)},this.selectAllEdges=function(t){return _selectEdges(t,"getAllEdges",!0)}}}).call("undefined"!=typeof window?window:this),(function(){this.jsPlumbToolkitIO=this.jsPlumbToolkitIO||{};var t=this.jsPlumbToolkitIO;e.jsPlumbToolkitIO=t,t.JSONGraphParser=function(t,e,n){for(var i=t.nodes||[],r=t.edges||[],o=t.ports||[],s=t.groups||[],a=0;a<s.length;a++)e.addGroup(s[a]);for(var l=0;l<i.length;l++)e.addNode(i[l]);for(var u=0;u<o.length;u++)if(o[u].nodeId){var c=e.getNode(o[u].nodeId);if(null==c)throw new Error("Unknown node ["+o[u].nodeId+"]");c.addPort(o[u])}else if(o[u].id){var h=e.getGraph().getVertexByPortId(o[u].id);if(h){var d=jsPlumb.extend(o[u],{});d.id=e.getGraph().splitPortId(o[u].id)[1],h.addPort(d)}}else jsPlumbUtil.log("could not add port with definition "+o[u]+"; no nodeId or id found");for(var p=0;p<r.length;p++){var f={source:r[p].source,target:r[p].target,cost:r[p].cost||1,directed:r[p].directed,data:r[p].data};r[p].geometry&&(f.geometry=r[p].geometry),e.addEdge(f)}},t.JSONGraphExporter=function(t,e){return t.getGraph().serialize()},t.hierarchicalJsonParser=function(t,e,n){var i=function(t){var n=e.addNode(t);if(t.children)for(var r=0;r<t.children.length;r++){var o=e.addNode(t.children[r]);e.addEdge({source:n,target:o}),i(t.children[r])}};i(t)},t.exporters={json:t.JSONGraphExporter},t.parsers={json:t.JSONGraphParser,"hierarchical-json":t.hierarchicalJsonParser},t.managers={json:{removeNode:function(t,e,n){var i=n(e.data);jsPlumbUtil.removeWithFunction(t.nodes,(function(t){return t.id===i}))},removeEdge:function(t,e,n){var i=n(e.data);jsPlumbUtil.removeWithFunction(t.edges,(function(t){return t.data&&t.data.id===i}))},addNode:function(t,e,n){t.nodes=t.nodes||[],t.nodes.push(e.data)},addEdge:function(t,e,n){var i={source:e.source.getFullId(),target:e.target.getFullId(),data:e.data||{}};t.edges=t.edges||[],t.edges.push(i)},addPort:function(t,e,n){t.ports=t.ports||[];var i=jsPlumb.extend({},e.port.data||{});i.id=e.port.getFullId(),t.ports.push(i)},removePort:function(t,e,n){var i=e.port.getFullId();jsPlumbUtil.removeWithFunction(t.ports,(function(t){return t.id===i}))}}},t.parse=function(e,n,i,r){var o=t.parsers[e];if(null==o)throw new Error("jsPlumb Toolkit - parse - ["+e+"] is an unsupported type");return o(n,i,r)},t.exportData=function(e,n,i){var r=t.exporters[e];if(null===r)throw new Error("jsPlumb Toolkit - exportData - ["+e+"]  is an unsupported type");return r(n,i)},t.manage=function(e,n,i,r,o,s){t.managers[i]&&t.managers[i][e]&&t.managers[i][e](n,r,o)}}).call("undefined"!=typeof window?window:this),(function(){var t=this,e=t.jsPlumbToolkit;e.Support={ingest:function(n){var i=n.jsPlumb||t.jsPlumb;if(!i.getContainer())throw new TypeError("No Container set on jsPlumb instance. Cannot continue.");var r=e.newInstance(),o=i.select(),s={},a=function(){return"default"},l=n.idFunction||function(t){return i.getId(t)},u=n.typeFunction||a,c=n.idFunction||function(t){return t.id},h=n.edgeTypeFunction||a,d=!1!==n.render,p=function(t,e){var n=l(t),o=u(t),a=i.getId(t),c=[];if(e=e||{},null==s[a]){var h=i.getOffset(t);s[a]=r.addNode(jsPlumb.extend({id:n,type:o,left:h.left,top:h.top},e),null,!0),t.jtk={node:s[a]};var d=i.getEndpoints(t);if(d.length>0)for(var p=0;p<d.length;p++){var f=r.addPort(s[a],{id:""+p},!0);c.push([f,d[p]]),d[p].setParameter("portId",""+p),d[p].setParameter("nodeId",a)}}return c},f=[];if(n.nodeSelector)for(var m=i.getContainer().querySelectorAll(n.nodeSelector),g=0;g<m.length;g++){var v=i.getId(m[g]);f.push.apply(f,p(m[g],v)),i.manage(v,m[g])}var y=i.getManagedElements();for(var v in y)f.push.apply(f,p(y[v].el,v));if(o.each((function(t){!function(t){var e=s[t.sourceId],n=s[t.targetId],i=c(t),o=h(t),a=t.endpoints[0].getParameter("portId"),l=t.endpoints[1].getParameter("portId");null!=a&&(e=e.getPort(a)),null!=l&&(n=n.getPort(l)),t.edge=r.addEdge({source:e,target:n,data:{id:i,type:o}},null,!0)}(t)})),d){var b=t.jsPlumb.extend({},n.renderParams||{});b.jsPlumbInstance=i,b.container=i.getContainer(),b.layout=b.layout||{type:"Absolute"};var _=r.render(b);for(g=0;g<f.length;g++)_.ingestEndpoint.apply(_,f[g]);return _.ingest=function(t,e){i.getContainer().appendChild(t);var n=p(t,e);_.importNode(t,l(t));for(var r=0;r<n.length;r++)_.ingestEndpoint.apply(_,n[r])},_}return r}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumbToolkit.Layouts={Decorators:{}},n=t.jsPlumbUtil;e.AbstractLayout=function(i){var r=this,o=(i=i||{}).adapter,s=i.parameters||{},a=i.getElementForNode,l=t.Farahey.getInstance({getPosition:function(t){var e=f[t.id];return{left:e[0],top:e[1]}},getSize:function(t){return C[t.id]},getId:function(t){return t.id},setPosition:function(t,e){z(t.id,e.left,e.top)},padding:s.padding,filter:function(t){return(!_[t]||!_[t].group)&&(!r.canMagnetize||r.canMagnetize(t))}}),u=!1!==i.magnetized&&(r.defaultMagnetized||!0===i.magnetize),c=s.magnetizer&&s.magnetizer.iterations||10,h=!1!==i.negativeValuesAllowed;this.decorators=function(t,i,r){if(null==t)return[];for(var o=[],s=function(t){var o="string"==typeof t?t:t[0],s=e.Decorators[o];return s?new s("string"==typeof t?{}:t[1],i,r):(n.log("Decorator ["+o+"] nor registered on jsPlumbToolkit.Layouts.Decorators. Not fatal."),null)},a=0;a<t.length;a++){var l=s(t[a]);l&&o.push(l)}return o}(i.decorators,i.adapter,i.container),this.adapter=i.adapter;var d=i.jsPlumb||t.jsPlumb,p=i.jsPlumbToolkit,f={},m=[],g=1/0,v=1/0,y=-1/0,b=-1/0,_={},w={},C={},x={},E=[],S=[],k=[],P=[],D=d.getSize(i.container),A=i.width||D[0],T=i.height||D[1],I=!1,j=function(){I=!1,g=1/0,y=-1/0,v=1/0,b=-1/0;for(var t=0;t<r.decorators.length;t++)r.decorators[t].reset({remove:d.remove});f={},m.splice(0),x={},k.length=0,P.length=0,E.length=0,S.length=0,C={},l.reset(),r.reset&&r.reset()};function O(t,e){if(!x[t]){var n=e||[0,0];x[t]={id:t,size:N(t),position:n,xmax:n[0],ymax:n[1],xmin:n[0],ymin:n[1]}}return x[t]}function M(t){delete x[t]}function R(){for(var t in E.length=0,k.length=0,S.length=0,P.length=0,x)F(E,x[t],"xmax"),F(S,x[t],"ymax"),F(k,x[t],"xmin"),F(P,x[t],"ymin");if(g=k.length>0?k[0].xmin:0,y=E.length>0?E[E.length-1].xmax:0,v=P.length>0?P[0].ymin:0,b=S.length>0?S[S.length-1].ymax:0,!h&&(g<0||v<0)){var e=g<0?g:0,n=v<0?v:0;if(e<0||n<0){for(var i in f)f[i][0]-=e,f[i][1]-=n;for(var r in x)x[r].position[0]-=e,x[r].xmin-=e,x[r].xmax-=e,x[r].position[1]-=n,x[r].ymin-=n,x[r].ymax-=n;g-=e,v-=n,y-=e,b-=n}}}this.getMagnetizedElements=function(){return l.getElements()},this.magnetize=function(t){(t=t||{}).options=t.options||{},t.options.iterations=t.options.iterations||c;var e=t.event?"executeAtEvent":t.origin?"execute":"executeAtCenter",n=t.event?[t.event,t.options]:t.origin?[t.origin,t.options]:[t.options];t.force&&this.forceMagnetize&&this.forceMagnetize(),l[e].apply(l,n),B(d.repaintEverything)},this.nodeAdded=function(t,e){if(r.adapter.filter(t.node)){var n=e&&e.position?e.position:t.node.data&&t.node.data.left&&t.node.data.top?t.node.data:r.adapter.getOffset(t.el);if(this._nodeAdded){var i=this._nodeAdded(t,e);i&&(n.left=i[0],n.top=i[1])}_[t.node.id]=t.node,z(t.node.id,n.left,n.top),N(t.node.id,t.el),l.addElement(t.node)}},this.nodeRemoved=function(t){delete f[t.node.id],delete C[t.node.id],delete _[t.node.id],M(t.node.id),this._nodeRemoved&&this._nodeRemoved(t.node),l.removeElement(t.node)},this.groupAdded=function(t,e){if(r.adapter.filter(t.group)){var n=e&&e.position?e.position:t.group.data&&t.group.data.left&&t.group.data.top?t.group.data:r.adapter.getOffset(t.el);if(this._groupAdded){var i=this._groupAdded(t,e);i&&(n.left=i[0],n.top=i[1])}w[t.group.id]=t.group,z(t.group.id,n.left,n.top),N(t.group.id,t.el),l.addElement(t.group)}},this.groupRemoved=function(t){delete f[t.group.id],delete C[t.group.id],delete w[t.group.id],M(t.group.id),this._groupRemoved&&this._groupRemoved(t.group),l.removeElement(t.group)};var N=function(t,e){var n=C[t];return n||(null!=(e=e||a(t))?(n=d.getSize(e),C[t]=n):n=[0,0]),n},F=function(t,e,n){t.push(e);for(var i=t.length-1,r=t[i];i>0&&r[n]<t[i-1][n];)t[i]=t[i-1],i-=1;return t[i]=r,i},L=function(t,e,n){if(null!=t){e=parseFloat(e),n=parseFloat(n);var i=f[t];i||(i=f[t]=[0,0],m.push([i,t]));var r=O(t,[e,n]);r.position[0]=e,r.position[1]=n,$(r),f[t]=[e,n]}},V=function(t,e,n){_[t]&&r._nodeMoved?r._nodeMoved(t,e,n):w[t]&&r._groupMoved&&r._groupMoved(t,e,n)},z=(this.setMagnetizedPosition=function(t,e,n,i){L(t,e,n),this.magnetize({options:{filter:function(e){return e===t},padding:[5,5],exclude:function(t,e){return null!=e.group},excludeFocus:!0}});var r=this.getPosition(t);return i&&V(t,r[0],r[1]),r},function(t,e,n,i){L(t,e,n),i&&V(t,e,n)}),U=(function(t){var e=a(t);if(null!=e){var n=O(t).position;return r.adapter.setElementPosition(e,n[0],n[1]),n.concat(N(t))}return null}).bind(this),B=this.draw=function(t){for(var e in x)U(e);for(var n=0;n<r.decorators.length;n++)r.decorators[n].decorate({adapter:r.adapter,layout:r,append:function(t,e,n){r.adapter.append(t,e,n,!0)},setAbsolutePosition:r.adapter.setAbsolutePosition,toolkit:p,jsPlumb:d,bounds:[g,v,y,b],floatElement:r.adapter.floatElement,fixElement:r.adapter.fixElement});t&&t()};this.setPosition=function(t,e,n){z(t,e,n,!0),R()},this.bb=function(t){console.log(t);var e=function(t){var e=1/0,n=1/0,i=-1/0,r=-1/0;for(var o in t)e=Math.min(e,t[o][0]),i=Math.max(i,t[o][0]),n=Math.min(n,t[o][1]),r=Math.max(r,t[o][1]);return[[e,n],[i,r],Math.abs(e-i),Math.abs(n-r)]}(f);!function(){for(var t in f)console.log(t,f[t][0],f[t][1])}(),console.log(e[0],e[1],e[2],e[3])};var H=this.getPositions=function(){return f},G=(this.getPosition=function(t){return f[t]},this.getExtents=function(){return[g,v,y,b]});function $(t,e){t.xmax=t.position[0]+t.size[0],t.ymax=t.position[1]+t.size[1],t.xmin=t.position[0],t.ymin=t.position[1],e&&R()}this.getSize=function(t){return C[t]};var W=function(t,e){C[t]=e;var n=O(t);n.size=e,$(n,!0)};this.setSize=W,this.begin=function(t,e){},this.end=function(t,e){};var q=(function(e){if(null!=p){var n;for(n=t.jsPlumb.extend({padding:[0,0]},r.defaultParameters||{}),t.jsPlumb.extend(n,s||{}),s=n,l.setElements(o.getElements()),this.begin&&this.begin(p,s);!I;)this.step(p,s);R(),B((function(){u&&r.magnetize(),r.end&&r.end(p,s),e&&e()}))}}).bind(this);return this.relayout=function(t,e){j(),null!=t&&(s=t),q(e)},this.layout=function(t){I=!1,q(t)},this.clear=function(){j()},{adapter:i.adapter,jsPlumb:d,toolkit:p,getPosition:function(t,e,n,i){var r=f[t];if(!r){if(null!=e&&null!=n)r=[e,n];else{if(i)return null;r=[Math.floor(Math.random()*(A+1)),Math.floor(Math.random()*(T+1))]}z(t,r[0],r[1])}return r},setPosition:z,getRandomPosition:function(t,e,n,i){e=e||10,n=n||10;var r=Math.floor(Math.random()*e),o=Math.floor(Math.random()*n),s=O(t,[r,o]);return s.position=[r,o],$(s,!0!==i),f[t]=[r,o],[r,o]},getSize:N,setSize:W,getPositions:H,setPositions:function(t){f=t},getExtents:G,width:A,height:T,reset:j,draw:B,setDone:function(t){I=t}}},e.EmptyLayout=function(t){var e={},n={};this.refresh=this.relayout=this.layout=function(){this.clear();var n,i=t.getElements();for(n=0;n<i.length;n++)e[i[n].id]=[0,0]},this.nodeRemoved=this.groupRemoved=function(t){delete e[t.id]},this.nodeAdded=this.groupAdded=function(t){e[t.id]=!1},this.getPositions=function(){return e},this.getPosition=function(t){return e[t]},this.setPosition=function(t,n,i){e[t]=[n,i]},this.getExtents=function(){return[0,0,0,0]},this.clear=function(){},this.getMagnetizedElements=function(){return[]},this.setSize=function(t,e){n[t]=e},this.getSize=function(t){return n[t]}},e.Mistletoe=function(i){if(!i.parameters.layout)throw"No layout specified for MistletoeLayout";var r={},o=t.jsPlumb.extend({},i);o.getElementForNode=function(t){return r[t]};var s,a,l,u=e.AbstractLayout.apply(this,[o]),c=i.parameters.layout,h=(function(){u.setPositions(c.getPositions()),u.draw(),this.fire("redraw")}).bind(this);n.EventGenerator.apply(this,arguments),this.map=function(t,e){r[t]=e};var d=function(){r={},s=c.layout,a=c.relayout,l=c.clear,c.layout=function(){s.apply(c,arguments),h()},c.relayout=function(){u.reset(),a.apply(c,arguments),h()},c.clear=function(){l.apply(c,arguments),u.reset()}};d(),this.setHostLayout=function(t){c=t,d()}};var i=function(t){t=t||{};var n=e.AbstractLayout.apply(this,arguments),i=function(t){return[t.data.left,t.data.top]},r=function(e,n){return(t.locationFunction||i)(e)},o=(function(t,e,i){for(var o=n.adapter[t](),s=o.length,a=0;a<s;a++){var l=o[a],u=l.getFullId(),c=n.getPosition(u,null,null,!0);null==c&&(c=r(l,i)),this.setPosition(u,c[0],c[1],!0)}}).bind(this);return this.begin=function(t,e){o("getElements",t,e)},this._nodeAdded=function(e,n){return r(e.node,t.parameters||{})},this._groupAdded=function(e,n){return r(e.group,t.parameters||{})},this.getAbsolutePosition=function(t,e){return r(t,e)},this.step=function(){n.setDone(!0)},n};n.extend(i,e.AbstractLayout),e.AbsoluteBackedLayout=i,e.Absolute=function(t){e.AbsoluteBackedLayout.apply(this,arguments)},n.extend(e.Absolute,e.AbsoluteBackedLayout);var r=function(t){var n=this,i=e.AbstractLayout.apply(this,arguments),r=t.adapter,o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].target!==e||t[n].source!==e)return!1;return!0};return n.begin=function(e,n){n.ignoreLoops=!(!1===t.ignoreLoops),n.getRootNode=n.getRootNode||function(e){if(!1!==t.multipleRoots)return e.filter((function(t){if("Node"===t.objectType||"Group"===t.objectType){var e=t.getTargetEdges();return(0===e.length||o(e,t))&&r.filter(t)}return!1})).getAll();var n=i.adapter.getElements();return n.length>0?n[0]:null},n.getChildEdges=n.getChildEdges||function(e,n){return i.toolkit.getAllEdgesFor(e,(function(n){var i=n.target.getNode?n.target.getNode():n.target;return(n.source===e||!0!==t.ignorePorts&&n.source.getNode&&n.source.getNode()===e)&&r.filter(i)}))},n.rootNode=n.getRootNode(e),n.rootNode||i.setDone(!0)},i};n.extend(r,e.AbstractLayout),e.AbstractHierarchicalLayout=r}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit.Layouts,e=this.Farahey;t.Circular=function(n){n=n||{};var i=t.AbstractLayout.apply(this,arguments),r=!!n.parameters&&!0===n.parameters.centerRootNode;this.defaultParameters={padding:30,locationFunction:n.locationFunction},this.step=function(t,n){var o,s=i.adapter.getElements(),a=10;if(r){var l=i.getSize(s[0].id);a=Math.max(l[0],l[1])+80,i.setPosition(s[0].id,0,0),s=s.slice(1)}if(0!==s.length){var u=2*Math.PI/s.length,c=-Math.PI/2;for(o=0;o<s.length;o++)if(i.setPosition(s[o].id,0+Math.sin(c)*a,0+Math.cos(c)*a,!0),c+=u,o>0){var h=s[o-1],d=i.getSize(h.id),p=i.getPosition(h.id),f={x:p[0]-n.padding,y:p[1]-n.padding,w:d[0]+2*n.padding,h:d[1]+2*n.padding},m=s[o],g=i.getSize(m.id),v=i.getPosition(m.id),y=e.calculateSpacingAdjustment(f,{x:v[0]-n.padding,y:v[1]-n.padding,w:g[0]+2*n.padding,h:g[1]+2*n.padding}),b=[p[0]+d[0]/2,p[1]+d[1]/2],_=[v[0]+y.left+g[0]/2,v[1]+y.top+ +g[1]/2],w=Math.sqrt(Math.pow(b[0]-_[0],2)+Math.pow(b[1]-_[1],2));a=Math.max(a,w/2/Math.sin(u/2))}for(o=0;o<s.length;o++)i.setPosition(s[o].id,0+Math.sin(c)*a,0+Math.cos(c)*a,!0),c+=u;i.setDone(!0)}else i.setDone(!0)}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit.Layouts,e=this.jsPlumbUtil;t.Hierarchical=function(n){var i,r,o,s,a,l=t.AbstractHierarchicalLayout.apply(this,arguments),u=[],c=null!=n.parameters?n.parameters.spacing:"auto",h=null!=n.parameters&&null!=n.parameters.compress?!0===n.parameters.compress:"compress"===c,d=null!=n.parameters&&!0===n.parameters.invert,p=null!=n.parameters&&n.parameters.align||"center",f=[],m=[],g=l.toolkit.getNodeId,v=function(t){var e=f[t];return e||(f[t]=e={entries:[],pointer:0}),e},y=function(t,e,n,i,s){var a=v(n),l={node:t,parents:null==i?[]:[i],childGroup:s,loc:a.pointer,index:a.entries.length,dimensions:e,size:e[r],children:[]},c=e[0==r?1:0];return u[n]=null==u[n]?c:Math.max(u[n],c),a.pointer+=e[r]+o[r],a.entries.push(l),i&&i.children.push(l),l},b=function(t,e){var n=m[e];n||(m[e]=n=[]),t.index=n.length,n.push(t)},_=function(t){return t.parents.length>0?t.parents[0].loc:null},w=function(t,e){if(t.parents.length>0){for(var n=e-t.parents[0].loc,i=0;i<t.parents.length;i++)t.parents[i].loc+=n;var s=t.parents[t.parents.length-1],a=v(t.depth-1);a.pointer=Math.max(a.pointer,s.loc+s.size+o[r])}},C=function(t,e){if(0===t.parents.length)return null;for(var n=t.parents[0].size,i=1;i<t.parents.length;i++)n+=e+t.parents[i].size;return n},x=function(t){return t.parents.length>0&&!0===t.parents[0].root},E=function(t){return t.parents.length>0?t.parents[0].childGroup:null},S=function(t){return t.parents.length>0?t.parents[t.parents.length-1].childGroupIndex:null},k=function(t,e){var n=jsPlumbUtil.map(t.parents,(function(t){return t.dimensions[e]}));return Math.max.apply(null,n)},P={center:function(t){return _(t)+C(t,o[r])/2-(t.size-o[r])/2},start:function(t){return _(t)},end:function(t){return _(t)+C(t,0)-(t.size-o[r])}},D=function(t){if(t.size>0){var e=P[p](t),n=m[t.depth],i="end"===p?1/0:-1/0,s=0;if(null!=n&&n.length>0){var a=n[n.length-1],l=a.nodes[a.nodes.length-1];i="end"===p?l.loc-t.size:l.loc+l.size+o[r]}"end"!==p&&e>=i||"end"===p&&e<=i?t.loc=e:(s=i-e,t.loc=i);for(var u=t.loc,c="end"===p?-1:t.nodes.length,h="end"===p?-1:1,d="end"===p?t.nodes.length-1:0;d!==c;d+=h)t.nodes[d].loc=u,u+=t.nodes[d].size,u+=o[r];0!==s&&I(t),b(t,t.depth)}},A={center:function(t,e,n){return(e+n)/2-C(t)/2},start:function(t,e,n){return e},end:function(t,e,n){return e}},T=function(t){var e=A[p](t,t.nodes[0].loc,t.nodes[t.nodes.length-1].loc+t.nodes[t.nodes.length-1].size),n=e-_(t);if(w(t,e),!x(t))for(var i=E(t),r=S(t)+1;r<i.nodes.length;r++)i.nodes[r].loc+=n},I=function(t){for(var e=t;null!=e;)T(e),e=E(e)},j=function(t,e){return e.source===t||e.source.getNode&&e.source.getNode()===t},O=function(t,e){if(!s[t.node.id]){s[t.node.id]=!0;var n,i=[],u={nodes:[],loc:0,size:0,parents:[t],depth:e+1,children:[]},c=[],h={},d=v(e+1);for(Array.prototype.push.apply(i,a(t.node,l.toolkit)),n=0;n<i.length;n++){var p=j(t.node,i[n])?i[n].target:i[n].source;if(p.getNode&&(p=p.getNode()),null!=(p=l.toolkit.getNode(p))&&p!==t.node&&!h[p.id]){var f=l.getSize(g(p)),m=d.entries.find((function(t){return g(t.node)===g(p)}));if(null!=m){m.parents.push(t);var b=_(m)+C(m,o[r])/2-m.size/2-m.loc,w=function(t){for(var e=t.childGroupIndex;e<t.childGroup.nodes.length;e++)t.childGroup.nodes[e].loc+=b,t.children.forEach(w),t.childGroup.size+=b};w(m)}else{var x=y(p,f,e+1,t,u);x.childGroupIndex=u.nodes.length,u.nodes.push(x),u.size+=f[r]+o[r],c.push(x)}h[p.id]=!0}}for(D(u),n=0;n<c.length;n++)O(c[n],e+1)}};this.defaultParameters={padding:[60,60],orientation:"horizontal",border:0,locationFunction:n.locationFunction,align:"center"};var M=this.begin;this.begin=function(t,e){M.apply(this,arguments),r="horizontal"===(i=e.orientation)?0:1,o=e.padding,f.length=0,m.length=0,s={},a=e.getChildEdges},this.step=function(t,n){for(var i,s,a,c=e.isArray(n.rootNode)?n.rootNode:[n.rootNode],p=0;p<c.length;p++){var m=l.getSize((i=c[p]).id),v=y(i,m,0,null,null);v.root=!0,O(v,0,null);var b,_,w=0,C=function(t,e){var n=0===r?1:0;return h&&t.parents&&t.parents.length>0?l.getPosition(g(t.parents[0].node))[n]+k(t,n)+o[n]:e};for(s=0;s<f.length;s++){for(f[s].otherAxis=w,a=0;a<f[s].entries.length;a++)b=0===r?f[s].entries[a].loc:C(f[s].entries[a],w),_=1===r?f[s].entries[a].loc:C(f[s].entries[a],w),l.setPosition(g(f[s].entries[a].node),b,_,!0);d?s<f.length-1&&(f[s].otherAxisSize=u[s+1]+o[0===r?1:0],w-=f[s].otherAxisSize):(f[s].otherAxisSize=u[s]+o[0===r?1:0],w+=f[s].otherAxisSize)}}l.setDone(!0)},this.getHierarchy=function(){return f},this.getOrientation=function(){return i};var R=this.nodeRemoved;this.nodeRemoved=function(){f=[],R.apply(this,arguments)},this.getPadding=function(){return o}},e.extend(t.Hierarchical,t.AbstractHierarchicalLayout)}).call("undefined"!=typeof window?window:this),(function(){this.jsPlumbToolkit.Layouts.Decorators.Hierarchy=function(t){var e,n=[];this.reset=function(t){for(var e=0;e<n.length;e++)t.remove(n[e]);n.length=0},this.decorate=function(t){if(t.bounds[0]!=1/0){var n=t.layout.getHierarchy();e=(t.layout.getPadding()||[60,60])["horizontal"===i?0:1];for(var i=t.layout.getOrientation(),r="horizontal"===i?["width","height",t.bounds[2]-t.bounds[0]]:["height","width",t.bounds[3]-t.bounds[1]],o=0;o<n.length;o++){var s=document.createElement("div");t.append(s),s.className="level "+(o%2?"odd":"even"),s.style[r[0]]=r[2]+2*e+"px",s.style[r[1]]=n[o].otherAxisSize+"px",t.setAbsolutePosition(s,"horizontal"===i?[t.bounds[0]-e,n[o].otherAxis-e/2]:[n[o].otherAxis-e/2,t.bounds[1]-e])}}}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit.Layouts,e=this.jsPlumbUtil;t.Spring=function(e){this.defaultMagnetized=!0;var n=t.AbsoluteBackedLayout.apply(this,arguments);this.defaultParameters={padding:[50,50],iterations:500,maxRepulsiveForceDistance:6,k:2,c:.01,maxVertexMovement:.5,locationFunction:(e=e||{}).locationFunction};var i,r=jsPlumbUtil.merge(this.defaultParameters,e.parameters||{}),o={},s=!1!==e.absoluteBacked,a=0,l=1/0,u=-1/0,c=1/0,h=-1/0,d=1,p=1,f=0,m=function(t){t.getNode&&(t=t.getNode());var e=o[t.id];if(!e){var i=n.getRandomPosition(t.id,.5,.5,!0);e=o[t.id]={id:t.id,n:t,sp:i,p:[i[0],i[1]],f:[0,0]}}return e},g=function(t,e,n){l=Math.min(l,e),c=Math.min(c,n),u=Math.max(u,e),h=Math.max(h,n),t.p[0]=e,t.p[1]=n},v=function(t,e){if(!t.locked||!e.locked){var n=e.p[0]-t.p[0],i=e.p[1]-t.p[1],o=n*n+i*i;o<.01&&(o=(n=.1*Math.random()+.1)*n+(i=.1*Math.random()+.1)*i);var s=Math.sqrt(o);if(s<r.maxRepulsiveForceDistance){f++;var a=r.k*r.k/s,l=a*n/s,u=a*i/s;e.f[0]+=e.locked?0:(t.locked?2:1)*l,e.f[1]+=e.locked?0:(t.locked?2:1)*u,t.f[0]-=t.locked?0:(e.locked?2:1)*l,t.f[1]-=t.locked?0:(e.locked?2:1)*u}}},y=function(t,e){var n=m(e.target);if(!t.locked||!n.locked){f++;var i=n.p[0]-t.p[0],o=n.p[1]-t.p[1],s=i*i+o*o;s<.01&&(s=(i=.1*Math.random()+.1)*i+(o=.1*Math.random()+.1)*o);var a=Math.sqrt(s);a>r.maxRepulsiveForceDistance&&(s=(a=r.maxRepulsiveForceDistance)*a);var l=(s-r.k*r.k)/r.k;(null==e.weight||e.weight<1)&&(e.weight=1);var u=(l*=.5*Math.log(e.weight)+1)*i/a,c=l*o/a;n.f[0]-=n.locked?0:(t.locked?2:1)*u,n.f[1]-=n.locked?0:(t.locked?2:1)*c,t.f[0]+=t.locked?0:(n.locked?2:1)*u,t.f[1]+=t.locked?0:(n.locked?2:1)*c}},b=function(){for(var t in d=n.width/(u-l)*.62,p=n.height/(h-c)*.62,o){var e=o[t];e.locked||(e.sp=w(e.p),n.setPosition(e.id,e.sp[0],e.sp[1],!0))}},_=function(t){return[l+(t[0]-.19*n.width)/d,c+(t[1]-.19*n.height)/p]},w=function(t){return[.19*n.width+(t[0]-l)*d,.19*n.height+(t[1]-c)*p]};this._nodeMoved=this._groupMoved=function(t,e,n){var i=o[t];i&&(i.sp=[e,n],i.p=_(i.sp))},this.forceMagnetize=function(){for(var t in o)o[t].locked=!1},this.canMagnetize=function(t){return o[t]&&!0!==o[t].locked},this.reset=function(){o={},a=0,l=c=1/0,u=h=-1/0},this._nodeRemoved=this._groupRemoved=function(t){delete o[t.id]},this._nodeAdded=this._groupAdded=function(t,e){if(e&&e.position){var i=m(t.node||t.group);i&&(i.locked=!0,n.setPosition(i.id,e.position.left,e.position.top,!0))}},this.begin=function(t,e){a=0,i=[],Array.prototype.push.apply(i,n.adapter.getElements())},this.step=function(t,e){var o,l=[],u=function(t){return l[t]?l[t]:(l[t]=m(i[t]),l[t])};for(f=0,o=0;o<i.length;o++){var c=u(o);if(s&&!c.locked){var h=this.getAbsolutePosition(c.n,e);if(null!=h&&2===h.length&&null!=h[0]&&null!=h[1]&&!isNaN(h[0])&&!isNaN(h[1])){g(c,h[0],h[1]),c.sp=c.p,n.setPosition(c.id,h[0],h[1],!0),c.locked=!0;continue}}for(var d=o+1;d<i.length;d++){var p=u(d);v(c,p)}for(var _=n.toolkit.getAllEdgesFor(c.n).filter((function(t){return n.adapter.filter(t.target)})),w=0;w<_.length;w++)y(c,_[w])}if(0!==f)for(o=0;o<i.length;o++){var C=u(o),x=r.c*C.f[0],E=r.c*C.f[1],S=r.maxVertexMovement;x>S&&(x=S),x<-S&&(x=-S),E>S&&(E=S),E<-S&&(E=-S),g(C,C.p[0]+x,C.p[1]+E),C.f[0]=0,C.f[1]=0}a++,(0===f||a>=r.iterations)&&(b(),n.setDone(!0))},this.end=function(){for(var t in o)o[t].locked=!0}},e.extend(t.Spring,t.AbsoluteBackedLayout)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit.Layouts,e=this.Farahey;t.Balloon=function(n){n=n||{};var i,r=t.AbstractHierarchicalLayout.apply(this,arguments),o=[];this.defaultParameters={padding:50,locationFunction:n.locationFunction,groupPadding:100};var s=e.getInstance({padding:[100,100],getPosition:function(t){return{left:t.extents[0],top:t.extents[2]}},setPosition:function(t,e){for(var n=0;n<t.group.length;n++){var i=t.offsets[t.group[n].id];t.setPosition(t.group[n].id,e.left+i.left,e.top+i.top)}},getSize:function(t){return[t.extents[1]-t.extents[0],t.extents[3]-t.extents[2]]},getId:function(t){return t.focus.id},filter:function(t){return o[0].focus.id!==t}}),a=this.begin;this.begin=function(t,e){a.apply(this,arguments),o.length=0,i=e.getChildEdges};var l=function(t,n,s){var a,u,c,h,d,p,f=function(t,e,n,i){return{x:t-s.padding,y:e-s.padding,w:n+2*s.padding,h:i+2*s.padding}},m={focus:t,childMap:{},children:[],positions:{},incidentAngles:[],setPosition:function(t,e,n){this.positions[t]=[e,n]},getPosition:function(t){return this.positions[t]},setIncidentAngle:function(t,e){this.incidentAngles[t]=e},group:[t]},g=n?n.position:[0,0],v=g[0],y=g[1],b={},_=function(t){return b[t]||(b[t]=r.getSize(t),b[t])};m.setPosition(t.id,g[0],g[1]);var w=i(t);for(a=0;a<w.length;a++){var C=w[a].target.getNode?w[a].target.getNode():w[a].target;m.childMap[C.id]||(m.childMap[C.id]=!0,m.children.push(C))}if(h=_(m.focus.id),c=Math.max(h[0],h[1]),p=f(v-h[0]/2,y-h[1]/2,h[0],h[1]),r.setPosition(m.focus.id,-h[0]/2,-h[1]/2,!0),m.children.length>0){o.push(m);var x=2*Math.PI/(m.children.length+(n?1:0)),E=n?n.incidentAngle+Math.PI+x:Math.PI,S=E;for(a=0;a<m.children.length;a++){d=_((u=m.children[a]).id);var k=f(v+Math.sin(E)*d[0],y+Math.cos(E)*d[1],d[0],d[1]);if(R=e.calculateSpacingAdjustment(p,k),L=Math.sqrt(Math.pow(k.x+R.left-v,2)+Math.pow(k.y+R.top-y,2)),c=Math.max(c,L),m.setPosition(u.id,k.x+R.left,k.y+R.top),E+=x,a>0){var P=m.children[a-1],D=_(P.id),A=m.getPosition(P.id),T=f(A[0],A[1],D[0],D[1]),I=m.children[a],j=_(I.id),O=m.getPosition(I.id),M=f(O[0],O[1],j[0],j[1]),R=e.calculateSpacingAdjustment(T,M),N=[A[0]+D[0]/2,A[1]+D[1]/2],F=[O[0]+R.left+j[0]/2,O[1]+R.top+ +j[1]/2],L=Math.sqrt(Math.pow(N[0]-F[0],2)+Math.pow(N[1]-F[1],2));c=Math.max(c,L/2/Math.sin(x/2))}}for(E=S,a=0;a<m.children.length;a++)m.setIncidentAngle((u=m.children[a]).id,E),m.setPosition(u.id,v+Math.sin(E)*c,y+Math.cos(E)*c,!0),E+=x;var V,z=m.positions[t.id][0],U=r.getSize(t.id),B=z+U[0],H=m.positions[t.id][1],G=H+U[1];for(a=0;a<m.children.length;a++)l(u=m.children[a],{parent:t,incidentAngle:m.incidentAngles[u.id],position:m.positions[u.id]},s)||(V=r.getSize(u.id),m.group.push(u),z=Math.min(z,m.positions[u.id][0]),B=Math.max(B,m.positions[u.id][0]+V[0]),H=Math.min(H,m.positions[u.id][1]),G=Math.max(G,m.positions[u.id][1]+V[1]));for(m.extents=[z,B,H,G],m.offsets={},a=0;a<m.group.length;a++){var $=m.group[a];m.offsets[$.id]={left:m.positions[$.id][0]-m.extents[0],top:m.positions[$.id][1]-m.extents[2]}}}return m.children.length};this.step=function(t,e){if(e.rootNode&&e.rootNode.length>0){if(l(e.rootNode[0],null,e),o.length>0){var n=(o[0].extents[0]+o[0].extents[1])/2,i=(o[0].extents[2]+o[0].extents[3])/2;s.setElements(o),s.execute([n,i])}for(var a=0;a<o.length;a++){var u=o[a];for(var c in u.positions)r.setPosition(c,u.positions[c][0],u.positions[c][1],!0)}}r.setDone(!0)}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit;t.UI=t.UI||{},t.UI.ActiveDragFilter=function(t,e,n){var i={};e.bind("connectionDrag",(function(e){var r,o,s,a,l,u=e.source.jtk.port,c=u?u.getNode():e.source.jtk.node,h=n.getNodeCount(),d=n.getGroupCount();function p(e,o){r=n.beforeConnect(e,o),l=o.getFullId(),!1===r&&null==i[l]&&(i[l]=t.setTargetEnabled(o,!1))}if(u)for(p(u,c),o=c.getPorts(),s=0;s<o.length;s++)p(u,o[s]);for(s=0;s<h;s++){var f=n.getNodeAt(s);for(p(u||c,f),o=f.getPorts(),a=0;a<o.length;a++)p(u||c,o[a])}for(s=0;s<d;s++){var m=n.getGroupAt(s);for(p(u||c,m),o=m.getPorts(),a=0;a<o.length;a++)p(u||c,o[a])}})),e.bind("connectionDragStop",(function(){function e(e){!0===i[e.getFullId()]&&t.setTargetEnabled(e,!0)}var r,o,s,a=n.getNodeCount();for(r=0;r<a;r++){var l=n.getNodeAt(r);for(e(l),o=l.getPorts(),s=0;s<o.length;s++)e(o[s])}var u=n.getGroupCount();for(r=0;r<u;r++){var c=n.getGroupAt(r);for(e(c),o=c.getPorts(),s=0;s<o.length;s++)e(o[s])}i={}}))}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit.Renderers,e=this.jsPlumbToolkit,n=this.jsPlumbUtil,i=this.jsPlumb,r=this.Knockle;e.UIState=function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){var r="*"===i?"c-state-"+t:"c-state-"+t+"-"+i;n.registerEndpointType("*"===i?"e-state-"+t:"e-state-"+t+"-"+i,e[i]),n.registerConnectionType(r,e[i])}this.activate=function(i,r,s){i.eachEdge((function(n,i){var a=r.getRenderedConnection(i.getId()),l=s.getEdgeType(i.data),u=l?"c-state-"+t+"-"+l:null;u&&a.addType(u,i.data),e["*"]&&a.addType("c-state-"+t,i.data),o(i,a,i.source,0,"addType",s),o(i,a,i.target,1,"addType",s)})),i.eachNode((function(t,i){var o=s.getNodeType(i.data),a=o?e[o]:null,l=r.getRenderedNode(i.id);a&&a.cssClass&&n.addClass(l,a.cssClass),e["*"]&&n.addClass(l,e["*"].cssClass)}))};var o=function(e,n,i,r,o,s){var a=n.endpoints[r],l=s.getPortType(i.data);a[o]("e-state-"+t+"-"+l),a[o]("e-state-"+t)};this.deactivate=function(i,r,s){i.eachEdge((function(n,i){var a=r.getRenderedConnection(i.getId()),l=s.getEdgeType(i.data),u=l?"c-state-"+t+"-"+l:null;u&&a.removeType(u,i.data),e["*"]&&a.removeType("c-state-"+t),o(i,a,i.source,0,"removeType",s),o(i,a,i.target,1,"removeType",s)})),i.eachNode((function(t,i){var o=s.getNodeType(i.data),a=o?e[o]:null,l=r.getRenderedNode(i.id);a&&a.cssClass&&n.removeClass(l,a.cssClass),e["*"]&&n.removeClass(l,e["*"].cssClass)}))}};var o=t.atts={NODE:"data-jtk-node-id",PORT:"data-jtk-port-id",GROUP:"data-jtk-group-id"},s=t.els={SOURCE:"JTK-SOURCE",PORT:"JTK-PORT",TARGET:"JTK-TARGET"},a=e.Classes,l=e.Constants,u=e.Events;t.mouseEvents=["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover"],t.createElement=function(t,e){var n={width:t.width,height:t.height,position:t.position||l.absolute},r={};t.display&&(n.display=t.display),t.id&&(r.id=t.id),t.top&&(n.top=t.top+"px"),t.left&&(n.left=t.left+"px"),t.right&&(n.right=t.right+"px"),t.bottom&&(n.bottom=t.bottom+"px");var o=i.createElement(t.type||l.div,n,t.clazz,r);return null!=e&&i.appendElement(o,e),o};var c=function(t){var e=this.getJsPlumb(),n=e.getElement(t.container);this.getWidth=function(){return e.getSize(n)[0]},this.getHeight=function(){return e.getSize(n)[1]},this.append=function(t){var i=e.getElement(t);e.appendElement(i,n)},this.remove=function(t){var n=e.getElement(t);e.removeElement(n)},this.setAbsolutePosition=i.setAbsolutePosition,this.getOffset=function(t,n){return e.getOffset(t,n)}};t.DOMElementAdapter=c;var h=function(t){this.getOffset=function(){return t.getOffset.apply(t,arguments)},this.append=function(){return t.append.apply(t,arguments)},this.setAbsolutePosition=function(){return t.setAbsolutePosition.apply(t,arguments)},this.floatElement=function(){return t.floatElement.apply(t,arguments)},this.fixElement=function(){return t.fixElement.apply(t,arguments)}},d=function(t,e){h.apply(this,[e]),this.getElements=t.getNodes,this.filter=function(e){return"Node"===e.objectType&&e.group==t},this.setElementPosition=function(t,n,i){return e.setAbsolutePosition(t,[n,i])}},p=function(t,e){h.apply(this,[t]),this.filter=function(t){return!!e||"Group"===t.objectType||"Node"===t.objectType&&null==t.group},this.getElements=function(){var n=t.getNodes();return e||(n=n.filter((function(t,e){return null==t.group})),Array.prototype.push.apply(n,t.getGroups())),n},this.setElementPosition=function(e,n,i){return t.setPosition.apply(t,[e,n,i,!1,!0])}},f=function(t){var c=function(t,e){var n=i.createElement("div",{border:"1px solid #456",position:"absolute"},a.NODE);return n.innerHTML=t.name||t.id,n},h='<div data-jtk-node-id="${id}" class="'+a.NODE+'"></div>',f={rotors:{render:function(t,e){return v.template(t,e).childNodes[0]}}},m="rotors",g=!0===(t=t||{}).debug,v=r.newInstance({defaultTemplate:h,templateResolver:t.templateResolver,templates:t.templates}),y=this,b=t.toolkit,_=t.toolkitInstance,w=new e.Layouts.EmptyLayout(new p(y)),C=i.getElement(t.container),x=!(!1===t.elementsDraggable),E=!0===t.elementsDroppable,S=!1,k=!1!==t.refreshAutomatically,P=t.templateRenderer?n.isString(t.templateRenderer)?f[t.templateRenderer]:{render:t.templateRenderer}:f[m],D=!1!==t.enhancedView,A=t.assignPosse||function(){return null},T=t.modelLeftAttribute||"left",I=t.modelTopAttribute||"top",j=!1!==t.storePositionsInModel,O=t.objectFilter||function(){return!0},M=!0===t.ignoreGroups,R=!0===t.renderPortsAsynchronously;this.getModelPositionAttributes=function(){return[T,I]};var N=n.merge(t.jsPlumb||{}),F=t.jsPlumbInstance||i.getInstance(N,t.overrideFns),L=F.getId(C);F.bind("beforeDrop",(function(t){var e=t.connection,n=e.endpoints[0].graph||e.source.jtk,i=e.endpoints[1].graph||e.target.jtk,r=n.port||n.node||n.group,o=i.port||i.node||i.group,s=t.connection.edge;return null==s?b.beforeConnect(r,o,t.connection.getData()):b.beforeMoveConnection(r,o,s)})),F.bind("beforeDrag",(function(t){var e=t.endpoint.graph||t.source.jtk,n=e.port||e.node,i=t.endpoint.connectionType,r=b.beforeStartConnect(n,i);if(g){var o=ct.getEdgeDefinition(i)||{};console.log("\n------------------------\nDrag started with edge type `"+i+"`, having definition :"),console.log(o),console.log("Edge source is a "+n.objectType+", having type ["+n.getType()+"], with definition :");var s=ct["get"+n.objectType+"Definition"](n.getType())||{};console.log(s),console.log("Toolkit response to drag start :"),console.log(r),console.log("---------------------------\n")}return!1===r&&t.endpoint.isTemporarySource&&t.endpoint._deleteOnDetach&&F.deleteEndpoint(t.endpoint),r})),F.bind("beforeDetach",(function(t,e){var n=t.endpoints[0].graph||t.source.jtk,i=t.endpoints[1].graph||t.target.jtk;return b.beforeDetach(n.port||n.node,i.port||i.node,t.edge,e)})),F.bind("beforeStartDetach",(function(t){var e=t.endpoint.graph||t.source.jtk;return b.beforeStartDetach(e.port||e.node,t.connection.edge)})),F.bind("connectionEdit",(function(t){t.edge&&(t.edge.geometry=t.getConnector().getGeometry())})),n.EventGenerator.apply(this,arguments),t.activeFiltering&&new e.UI.ActiveDragFilter(y,F,b),this.setDebug=function(t){g=t,console.log("-----------------------\nSurface debug switched "+(t?"on":"off")+" \n-------------------------\n")},this.getJsPlumb=function(){return F},this.getToolkit=function(){return _},this.getDataSource=function(){return b};var V=[u.canvasClick,u.canvasDblClick,u.nodeAdded,u.nodeDropped,u.nodeRemoved,u.nodeRendered,u.groupAdded,u.groupRemoved,u.groupMoveEnd,u.groupMemberAdded,u.groupMemberRemoved,u.groupCollapse,u.groupExpand,u.groupRelayout,u.nodeMoveStart,u.nodeMoveEnd,u.portAdded,u.portRemoved,u.edgeAdded,u.edgeRemoved,u.edgeTypeChanged,u.nodeTypeChanged,u.portTypeChanged,u.dataLoadEnd,u.anchorChanged,u.objectRepainted,u.modeChanged,u.lassoEnd,u.pan,u.zoom,u.relayout,u.click,u.tap,u.stateRestored,u.startOverlayAnimation,u.endOverlayAnimation,u.nodeVisibility],z=y.bind,U=F.bind;if(this.setHoverSuspended=F.setHoverSuspended,this.isHoverSuspended=F.isHoverSuspended,this.setJsPlumbDefaults=function(t){delete t.Container,F.restoreDefaults(),F.importDefaults(t)},this.bind=function(t,e){-1==V.indexOf(t)?U(t,e):z(t,e)},t.events)for(var B in t.events)this.bind(B,t.events[B]);if(t.interceptors)for(var H in t.interceptors)this.bind(H,t.interceptors[H]);var G=!1;function $(t){G=!0;try{t()}catch(e){jsPlumbUtil.log("An error occurred while ignoring Toolkit events",e)}finally{G=!1}}U(u.connection,(function(t){if(null==t.connection.edge){t.sourceEndpoint.getParameter("nodeId")||t.sourceEndpoint.setParameter("nodeId",q[t.sourceEndpoint.elementId].id),t.targetEndpoint.getParameter("nodeId")||t.targetEndpoint.setParameter("nodeId",q[t.targetEndpoint.elementId].id);var e=t.sourceEndpoint.getParameter("portType"),n=ct.getPortDefinition(e),i=null!=n&&n.edgeType?n.edgeType:t.sourceEndpoint.getParameter("edgeType")||"default",r=t.sourceEndpoint.getParameter("nodeId"),o=t.sourceEndpoint.getParameter("portId"),s=t.targetEndpoint.getParameter("nodeId"),a=t.targetEndpoint.getParameter("portId"),l=r+(o?"."+o:""),c=s+(a?"."+a:""),h={sourceNodeId:r,sourcePortId:o,targetNodeId:s,targetPortId:a,type:i,source:b.getNode(l),target:b.getNode(c),sourceId:l,targetId:c};!1===b.getEdgeFactory()(i,t.connection.getData()||{},(function(e){h.edge=b.addEdge({source:l,target:c,cost:t.connection.getCost(),directed:t.connection.isDirected(),data:e,addedByMouse:!0},y),tt[h.edge.getId()]=t.connection,t.connection.edge=h.edge,rt(i,h.edge,t.connection),h.addedByMouse=!0,h.connection=t.connection,y.fire(u.edgeAdded,h)}))&&F.deleteConnection(t.connection)}})),U(u.connectionMoved,(function(t){var e=0===t.index?t.newSourceEndpoint:t.newTargetEndpoint,n=e.graph||e.element.jtk;$((function(){b.edgeMoved(t.connection.edge,n.port||n.node||n.group,t.index)}))})),U(u.connectionDetached,(function(t){$((function(){b.removeEdge(t.connection.edge)}));var e=t.sourceEndpoint.getParameters(),n=t.targetEndpoint.getParameters(),i=e.nodeId+(e.portId?"."+e.portId:""),r=n.nodeId+(n.portId?"."+n.portId:"");y.fire(u.edgeRemoved,{sourceNodeId:e.nodeId,targetNodeId:n.nodeId,sourcePortId:e.portId,targetPortId:n.portId,sourceId:i,targetId:r,source:b.getNode(i),target:b.getNode(r),edge:t.connection.edge})})),U(u.connectionEdit,(function(t){b.setEdgeGeometry(t.connection.edge,t.geometry)})),U(u.groupDragStop,(function(t){y.getLayout().setPosition(t.group.id,t.pos[0],t.pos[1],!0),t.uigroup=t.group,y.fire(u.groupMoveEnd,i.extend(t,{group:b.getGroup(t.uigroup.id)}))})),U(u.groupMemberAdded,(function(t){if(!S&&t.el.jtk&&t.el.jtk.node){var e=null==t.sourceGroup?null:b.getGroup(t.sourceGroup.id),n=b.addToGroup(t.el.jtk.node,t.group.id,e,t.pos);n&&(t.el._droppedOnGroup=!0,y.fire(u.groupMemberAdded,{node:t.el.jtk.node,group:n,uigroup:t.group,sourceGroup:e}))}})),U(u.groupMemberRemoved,(function(t){if(!S&&t.el.jtk&&t.el.jtk.node){var e=null==t.targetGroup?null:b.getGroup(t.targetGroup.id),n=b.removeFromGroup(t.el.jtk.node,!1,e);n&&(y.nodeRemovedFromGroup(t.el),y.fire(u.groupMemberRemoved,{node:t.el.jtk.node,ugroup:n,igroup:t.group,targetGroup:e}))}})),U(u.groupCollapse,(function(t){var e=b.getGroup(t.group.id);e&&y.fire(u.groupCollapse,{group:e,uigroup:t.group})})),U(u.groupExpand,(function(t){var e=b.getGroup(t.group.id);e&&y.fire(u.groupExpand,{group:e,uigroup:t.group})}));var W={},q={},Y={},Z={},X=[],K={},Q=[],J=function(t){var e=Q.indexOf(t);-1!==e&&Q.splice(e,1)};this.getNodeCount=function(){return Q.length},this.getNodeAt=function(t){return Q[t]},this.getNodes=function(){return Q},this.getNode=function(t){return W[t]},this.getGroupCount=function(){return X.length},this.getGroupAt=function(t){return X[t]},this.getGroups=function(){return X};var tt={},et=function(t){return tt[t.getId()]},nt=function(t){for(var e=[],n=0;n<t.length;n++)e.push(tt[t[n].getId()]);return e},it=function(t,e,n,i){i.bind(t,(function(t,r){e.apply(e,[{edge:n,e:r,connection:i,toolkit:b,renderer:y}])}))},rt=function(t,e,n){if(!n.getParameter("edge")){var i=ct.getEdgeDefinition(t);if(i&&i.events)for(var r in i.events)it(r,i.events[r],e,n)}},ot=function(t){y.fire(u.edgeRemoved,{sourceNodeId:t.source.getNode?t.source.getNode().getId:t.source.getFullId(),targetNodeId:t.target.getNode?t.target.getNode().getId:t.target.getFullId(),sourcePortId:"Port"===t.source.objectType?t.source.id:null,targetPortId:"Port"===t.target.objectType?t.target.id:null,sourceId:t.source.getFullId(),targetId:t.target.getFullId(),source:t.source,target:t.target,edge:t})};this.setSuspendRendering=function(t,e){S=t,F.setSuspendDrawing(t),e&&this.refresh()},this.batch=function(t){this.setSuspendEvents(!0),b.batch(t),this.setSuspendEvents(!1)};var st=function(t,e){if(S)ht.push([t,e]);else{var i=A(e);if(null!=i){var r=n.isArray(i)?i:[i];r.unshift(t),F.addToPosse.apply(F,r)}}},at=function(){for(var t=0;t<ht.length;t++)st.apply(this,ht[t])},lt=[];function ut(t,e){lt.push({event:t,fn:e}),b.bind(t,e)}var ct,ht=[];if(!1!==this.bindToolkitEvents){var dt=(function(){ht.length=0,F.setSuspendDrawing(!0),this.setSuspendRendering(!0)}).bind(this);ut(u.dataLoadStart,dt),ut(u.dataAppendStart,dt),ut(u.dataLoadEnd,(function(){this.setSuspendRendering(!1),at(),F.getGroupManager().refreshAllGroups(),y.relayout(),F.setSuspendDrawing(!1,!0),w&&y.fire(u.dataLoadEnd)}).bind(this)),ut(u.dataAppendEnd,(function(){this.setSuspendRendering(!1),at(),y.refresh(),F.setSuspendDrawing(!1,!0),w&&y.fire(u.dataAppendEnd)}).bind(this));var pt=function(t,e,n){var i=Z[n.id];i&&((i.querySelector("[jtk-group-content]")||i).appendChild(t),F.addToGroup(n.id,t,!0),n.layout.nodeAdded({node:e,el:t}),y.nodeAppendedToGroup(t,i,n))},ft=function(t,e){var n=W[t.id];if(null==n){if(!0===ct.getNodeDefinition(b.getNodeType(t.data)).ignore)return!1;if(!(n=Dt(t,t.data,t)))throw new Error("Cannot render node");var i=F.getId(n);W[t.id]=n,q[i]=t,Q.push(t),n.jtk={node:t},null==t.group||M?y.append(n,i,e?e.position:null):pt(n,t,t.group),st(n,t),Ht(n,t);var r={node:t,el:n,id:t.id};(null==t.group||M)&&y.getLayout().nodeAdded(r,e),y.fire(u.nodeAdded,r)}return n};ut(u.nodeAdded,(function(t){var e,n=t.node;if(O(n)){var i=ft(n,t.eventInfo);if(null!=i){var r=F.getSelector(i,"[data-port-id]");for(e=0;e<r.length;e++){var o=r[e].getAttribute("data-port-id");Y[n.id+"."+o]=r[e],r[e].jtk=r[e].jtk||{node:n,port:n.getPort(o)}}y.refresh(!0)}}})),ut(u.nodeRemoved,(function(t){(t.node.group?t.node.group.layout:y.getLayout()).nodeRemoved({node:t.node});var e=W[t.nodeId];y.fire(u.nodeRemoved,{node:t.node,el:e});var n=F.getId(e);v.remove(e),F.remove(e),delete W[t.nodeId],delete Mt[t.nodeId],delete Rt[t.nodeId],delete q[n],J(t.node),delete e.jtk,y.refresh(!0)})),ut(u.groupMemberAdded,(function(t){var e=W[t.node.id];e&&(t.pos&&(null!=t.node.data[T]&&(t.node.data[T]=t.pos.left),null!=t.node.data[I]&&(t.node.data[I]=t.pos.top)),y.fire(u.groupMemberAdded,i.extend(t,{el:e,groupEl:Z[t.group.id]})),y.getJsPlumb().addToGroup(t.group.id,e,!0),w.nodeRemoved(t),t.sourceGroup&&t.sourceGroup.layout.nodeRemoved(t),t.group.layout.nodeAdded({node:t.node,el:e,pos:t.pos}),y.relayoutGroup(t.group))})),ut(u.groupMemberRemoved,(function(t){var e=W[t.node.id];if(e){if(y.fire(u.groupMemberRemoved,i.extend(t,{el:e,groupEl:Z[t.group.id]})),y.getJsPlumb().removeFromGroup(t.group.id,e,!0),t.group.layout.nodeRemoved(t),t.targetGroup)t.targetGroup.layout.nodeAdded({node:t.node});else{w.nodeAdded({node:t.node,el:e});var n=y.getJsPlumb().getOffset(e);y.getLayout().setPosition(t.node.id,n.left,n.top)}y.relayoutGroup(t.group)}}));var mt=function(e,r){if(!M){var o=Z[e.id];if(null==o){var s=ct.getGroupDefinition(b.getNodeType(e.data));if(!0===s.ignore)return!1;if(!0===s.ghost&&(s.ghostProxyParent=C),!(o=Tt(e,e.data,e)))throw new Error("Cannot render Group");var a=F.getId(o);Z[e.id]=o,X.push(e),K[a]=e,o.jtk={group:e},y.append(o,a,r?r.position:null),st(o,e),Ht(o,e);var c={group:e,el:o},h={el:o,id:e.id};i.extend(h,{dragOptions:t.dragOptions||{}}),h.dragOptions[i.dragEvents[l.stop]]=n.wrap(h.dragOptions[i.dragEvents[l.stop]],(function(t){t.el.jtk&&t.el.jtk.group&&(h.dragOptions.magnetize?t.pos=y.getLayout().setMagnetizedPosition(t.el.jtk.group.id,t.pos[0],t.pos[1],!0):y.getLayout().setPosition(t.el.jtk.group.id,t.pos[0],t.pos[1],!0),!1!==j&&(y.storePositionInModel({id:t.el.jtk.group.id,group:!0,leftAttribute:T,topAttribute:I}),b.fire(u.groupUpdated,{group:t.el.jtk.group},null)),y.fire(u.groupMoveEnd,{el:t.el,group:t.el.jtk.group,pos:t.pos,e:t.e,eventPosition:t.pos}))})),F.addGroup(i.extend(h,s)),e.layout=jt(s.layout||{type:"Absolute"},e),y.getLayout().groupAdded({group:e,el:o,id:e.id},r),y.fire(u.groupAdded,c)}return o}};ut(u.groupAdded,(function(t){var e=t.group;O(e)&&null!=mt(e,t.eventInfo)&&y.refresh(!0)})),ut(u.groupRemoved,(function(t){var e=t.group;y.getLayout().groupRemoved({group:e});var n=Z[e.id],i=F.getId(n),r=F.removeGroup(e.id,t.removeChildNodes,!0,!0),o=null;if(null!=r)for(var s in o={},r){var a=q[s];null!=a&&(Gt({node:a,x:r[s].left,y:r[s].top,doNotUpdateElement:!0}),o[a.id]=[r[s].left,r[s].top])}y.fire(u.groupRemoved,{group:e,el:n,nodes:t.nodes,nodesRemoved:t.removeChildNodes,nodePositions:o}),X=X.filter((function(e){return e.id!==t.group.id})),delete Z[e.id],delete K[i],delete n.jtk})),this.expandGroup=function(t){F.expandGroup("string"==typeof t?t:t.id)},this.collapseGroup=function(t){F.collapseGroup("string"==typeof t?t:t.id)},this.toggleGroup=function(t){F.toggleGroup("string"==typeof t?t:t.id)};var gt=function(t,e){var n=F.getGroup(t.id),i=n.getDragArea(),r=t.layout.getExtents(),o=e.maxSize||[r[2],r[3]];if(i.style.width=Math.min(o[0],r[2])+"px",i.style.height=Math.min(o[1],r[3])+"px",y.setSize){var s=F.getSize(n.getEl());y.setSize(t.id,s[0],s[1])}},vt=function(t){for(var e in Z){var n=b.getGroup(e);if(n){var i=ct.getGroupDefinition(b.getNodeType(n.data));(i.autoSize||t)&&gt(n,i)}}};y.autoSizeGroups=vt,y.sizeGroupToFit=function(t,e){if(t){var n=ct.getGroupDefinition(b.getNodeType(t.data));(n.autoSize||e)&&gt(t,n)}};var yt=function(e,n){return function(){var n=wt(e);n.doNotFireConnectionEvent=!0,b.isDebugEnabled()&&console.log("Renderer","adding edge with params",n);var i=F.connect(n);if(null!=i){i.edge=e,tt[e.getId()]=i,rt(n.type,e,i),y.fire(u.edgeAdded,{source:e.source,target:e.target,connection:i,edge:e,geometry:e.geometry}),t.refreshLayoutOnEdgeConnect&&y.refresh(!0);var r=e.source.getNode?e.source.getNode():e.source,o=W[r.id]||Z[r.id],s=e.target.getNode?e.target.getNode():e.target;!1!==(W[s.id]||Z[s.id])._jtkVisible&&!1!==o._jtkVisible||qt(e,!1)}else console.log("jsPlumb: WARN : An edge could not be rendered "+e+" and is being removed from the dataset."),b.removeEdge(e);return i}};ut(u.edgeAdded,(function(e){if(!G&&e.source!==y){var n=e.edge;if(O(n.source)&&O(n.target)&&(!M||n.source.objectType!==l.groupType&&n.target.objectType!==l.groupType)){var i=ct.getEdgeDefinition(b.getEdgeType(n.data||{}));if(i&&!0===i.ignore)return;var r=yt(n,i);if(t.connectionHandler)t.connectionHandler(n,r,y);else{var o=r();if(n.geometry){var s=o.getConnector();s.importGeometry&&s.importGeometry(n.geometry,o)}}}}})),ut(u.edgeRemoved,(function(t){if(!G&&t.source!==y){var e=t.edge,n=tt[e.getId()];n&&(b.isDebugEnabled()&&console.log("Renderer","removing edge",e),ot(e),delete tt[e.getId()],null!=n._jsPlumb&&F.deleteConnection(n,{fireEvent:!1}))}})),ut(u.edgeTypeChanged,(function(t){if(!G&&t.source!==y){var e=t.obj,n=tt[e.getId()];if(n){var i=ct.getEdgeDefinition(t.newType);if(i&&!0===i.ignore)return;(i.endpoint||i.endpoints)&&(n.replaceEndpoint(0,i.endpoints?i.endpoints[0]:i.endpoint),n.replaceEndpoint(1,i.endpoints?i.endpoints[1]:i.endpoint)),i.connector&&n.setConnector(i.connector),n.setType(t.newType,e.data)}}})),ut(u.edgeTarget,(function(t){if(!G){var e=t.edge,i=tt[e.getId()],r=W[e.target.getFullId()]||Z[e.target.getFullId()];i?F.silently((function(){null!=r?(b.isDebugEnabled()&&console.log("target change",i),F.setTarget(i,r)):(delete tt[e.getId()],F.detach({connection:i,forceDetach:!0,fireEvent:!1}))})):null!=r&&b.isDebugEnabled()&&n.log("Target for Edge "+e.getId()+" changed to Node "+r.id+"; we have no valid connection.")}})),ut(u.edgeSource,(function(t){if(!G){var e=t.edge,i=tt[e.getId()],r=W[e.source.getFullId()]||Z[e.source.getFullId()];i?F.silently((function(){null!=r?F.setSource(i,r):(delete tt[e.getId()],F.detach({connection:i,forceDetach:!0,fireEvent:!1}))})):null!=r&&b.isDebugEnabled()&&n.log("Source for Edge "+e.getId()+" changed to Node "+r.id+"; we have no valid connection.")}})),ut("graphClearStart",(function(){for(var t in F.reset(!0),Z)void 0!==Z[t]._rotors&&v.remove(Z[t]),Z[t].parentNode&&Z[t].parentNode.removeChild(Z[t]);for(var e in W)void 0!==W[e]._rotors&&v.remove(W[e]),W[e].parentNode&&W[e].parentNode.removeChild(W[e]);w&&w.clear(),Q.length=0,X.length=0,tt={},W={},Z={},q={},K={},Y={},Ot={},y.getZoom&&F.setZoom(y.getZoom())})),ut(u.portAdded,(function(t){var e=W[t.node.id]||Z[t.node.id];if(ct.getPortDefinition(b.getPortType(t.data)).isEndpoint)Vt(new Lt(t.data,e,t.port),t.node);else{var n=At(t.port,t.data,t.node);R||(null!=n?kt(n=F.getElement(n),t.port,e,t.node):jsPlumbUtil.log("no element rendered for port",t.port,t.data))}F.recalculateOffsets(e),y.refresh(!0)})),ut(u.portRemoved,(function(t){var e=W[t.node.id]||Z[t.node.id],n=t.node.id+"."+t.port.id,i=Y[n];if(null!=i){F.setSuspendEvents(!0),F.remove(i),F.setSuspendEvents(!1),delete Y[n];var r=function(e){if(F[e]){var n=F[e][t.port.id],i=t.port.getNode();null!=n&&(F[e][t.port.id]=n.filter((function(t){return t[1]!==i})))}};r("_sourceDefsByPortId"),r("_targetDefsByPortId"),y.fire(u.portRemoved,{node:t.node,port:t.port,portEl:i,nodeEl:e}),F.recalculateOffsets(e),y.refresh(!0)}})),ut(u.edgeUpdated,(function(t){var e=tt[t.edge.getId()];if(e){var n=wt(t.edge);e.setType(["default",n.type].join(" "),n.data)}})),ut(u.portUpdated,(function(t){var e=Y[t.originalId];if(e){v.update(e,t.port.data),y.repaint(W[t.node.id]);var n=t.port.getFullId();if(n!==t.originalId&&(Y[n]=Y[t.originalId],delete Y[t.originalId],t.originalPortId)){var i=t.port.getNode(),r=function(e,n){var r=F[e];if(r&&(r=r[t.originalPortId]))for(var o=0;o<r.length;o++)if(r[o][1]===i){var s=F[n][r[o][0]];if(s)for(var a in s)s[a].def.portId===t.originalPortId&&(s[a].def.portId=t.port.id,s[a].def.parameters.portId=t.port.id)}};r("_sourceDefsByPortId","sourceEndpointDefinitions"),r("_targetDefsByPortId","targetEndpointDefinitions")}}})),ut(u.nodeUpdated,(function(t){var e=W[t.node.getFullId()];if(e){v.update(e,t.node.data),Ht(e,t.node);var i=A(t.node);if(null!=i){var r=n.isArray(i)?i:[i];r.unshift(e),F.setPosse.apply(F,r)}else F.removeFromAllPosses(e);y.repaint(e)}})),ut(u.groupUpdated,(function(t){var e=Z[t.group.getFullId()];if(e){v.update(e,t.group.data),Ht(e,t.group);var i=A(t.group);if(null!=i){var r=n.isArray(i)?i:[i];r.unshift(e),F.setPosse.apply(F,r)}else F.removeFromAllPosses(e);y.repaint(e)}}))}this.setView=function(t){var i=n.merge(b.getModel(),t||{});ct=new e.Model(i,F)},this.setView(t.view),this.getView=function(){return ct};var bt=[],_t=function(t){return null==t?b:"string"==typeof t?b.select(t,!0):t.jtk?b.select(t.jtk.port||t.jtk.node,!0):t};this.activateState=function(t,e){var n=ct.getState(t);n&&(e=_t(e),n.activate(e,y,b),bt.push(n))},this.deactivateState=function(t,e){var i=ct.getState(t);i&&(e=_t(e),i.deactivate(e,y,b),n.removeWithFunction(bt,(function(t){return t==i})))},this.resetState=function(){for(var t=0;t<bt.length;t++)bt[t].deactivate(b,y,b);bt.length=0};var wt=function(t){var e=b.getEdgeType(t.data),n={type:e,connectionType:e,data:t.data,cost:t.getCost(),directed:t.isDirected(),geometry:t.geometry},i=ct.getEdgeDefinition(e);!function(t){if(i)for(var e=0;e<t.length;e++)i[t[e]]&&(n[t[e]]=i[t[e]])}(["connector","endpoints","endpoint","endpointStyles","endpointStyle"]),n.anchor&&!n.anchors&&(n.anchors=[n.anchor,n.anchor],delete n.anchor),n.endpoint&&!n.endpoints&&(n.endpoints=[n.endpoint,n.endpoint],delete n.endpoint);var r=function(t,e,n,i,r){if(i&&i[n]){var o=t[e]||[i[n],i[n]];o[r]=i[n],t[e]=o}},o=function(e,i){if(t[e].getNode){var o=t[e].getNode(),s=t[e].getFullId();n[e]=null!=(l=Ot[s]||Y[s])?l:Y[s],null==n[e]&&(n[e]=W[b.getNodeId(o.data)]);var a=ct.getPortDefinition(t[e].getType());r(n,"anchors","anchor",a,i),r(n,"endpoints","endpoint",a,i)}else{var l,u=b.getNodeId(t[e].data);n[e]=null==(l=0===i?Mt[u]:Rt[u])?W[u]||Z[u]:l}};return o("source",0),o("target",1),n},Ct={};this.asynchronousPortRendered=function(t,e,n){var i=b.getPortId(n),r=Ct[i],o=e.getPort(i);if(!r)return o;try{return t=St(r.object,t,i,r.objectType,r.def,r.node,r.jtkClass,r.jtkAttributeName,r.makeDraggable),Y[e.id+b.getGraph().getPortSeparator()+i]=t,kt(t,o,Z[e.id]||W[e.id],e),Et(),o}catch(s){return jsPlumbUtil.log("Cannot finish asynchronous render of port",s),null}finally{delete Ct[i]}};var xt=[];function Et(){for(var t=[],e=0;e<xt.length;e++){var n=y.getRenderedElement(xt[e][0].target),i=y.getRenderedElement(xt[e][0].source);n&&i?xt[e][1]():t.push(xt[e])}xt=t}function St(t,e,n,r,o,s,a,l,u){(e=F.getElement(e)).setAttribute(l,n),i.addClass(e,a),e.jtk=e.jtk||{},e.jtk[r]=t,e.jtk.node=s,u&&x&&Xt.makeDraggable&&Xt.makeDraggable(e,o.dragOptions),E&&Xt.makeDroppable&&Xt.makeDroppable(e,o.dropOptions);var c=function(t){F.on(e,t,(function(n){var i={el:e,e:n,toolkit:b,renderer:y};i["Node"===s.objectType?"node":"group"]=s,o.events[t](i)}))};if(o&&o.events)for(var h in o.events)c(h);return e}function kt(t,e,n,i){Y[i.id+b.getGraph().getPortSeparator()+e.id]=t,Ht(t,i),y.fire(u.portAdded,{node:i,nodeEl:n,port:e,portEl:t})}this.addUnrenderedEdge=function(t,e){xt.push([t,e])};var Pt=function(t,e,n,r,o,s,a,l){return function(u,c,h){var d,p=e(c),g=null,v=n(c),_=ct[r](v),w=c;if(D){w=i.extend({},_&&_.parameters||{}),i.extend(w,c);var C={};for(d in w)w.hasOwnProperty(d)&&null!=w[d]&&(C[d]=w[d].constructor==Function?w[d](c):w[d]);w=C}if(!R||"port"!==t){if(_){var x=_.template||"jtk-template-"+v;if(null==(g=_.templateRenderer?_.templateRenderer(x,w,b,t,y,_,h):P.render(x,w,b,t,y,_,h))){try{g=f[m].render(x,w,b,t,y,_,h)}catch(E){}null==g&&(g=o(w,p))}}else g=o(w,p);return St(u,g,p,t,_,h,a,l,s)}Ct[p]={id:p,data:w,objectType:t,def:_,jtkClass:a,jtkAttributeName:l,makeDraggable:s,node:h,object:u}}},Dt=Pt("node",b.getNodeId,b.getNodeType,"getNodeDefinition",c,!0,a.NODE,o.NODE),At=Pt("port",b.getPortId,b.getPortType,"getPortDefinition",c,!1,a.PORT,o.PORT),Tt=Pt("group",b.getNodeId,b.getNodeType,"getGroupDefinition",c,!1,a.GROUP,o.GROUP);this.initialize=function(){var e,n,i,r,o;if(b.setSuspendGraph(!0),F.setSuspendDrawing(!0),t.jsPlumbInstance){var s=t.jsPlumbInstance.select();for(var a in s.each((function(t){tt[t.edge.getId()]=t})),n=t.jsPlumbInstance.getManagedElements()){var l=n[a].el;W[l.jtk.node.id]=l,q[t.jsPlumbInstance.getId(l)]=l.jtk.node,Q.push(l.jtk.node);var c={node:l.jtk.node,el:l,id:l.jtk.node.id};(null==n.group||M)&&y.getLayout().nodeAdded(c),y.fire(u.nodeAdded,c)}Xt.doImport&&Xt.doImport(W,tt)}else{for(e=0,i=b.getGroupCount();e<i;e++)r=b.getGroupAt(e),O(r)&&mt(r);for(e=0,i=b.getNodeCount();e<i;e++)n=b.getNodeAt(e),O(n)&&ft(n);var h=function(t){var e=b.getAllEdgesFor(t);for(o=0;o<e.length;o++)if(e[o].source===t||e[o].source.getNode&&e[o].source.getNode()===t){var n=ct.getEdgeDefinition(b.getNodeType(e[o].data));if(n&&!0===n.ignore)continue;var i=wt(e[o]);if(null!=i.source&&null!=i.target){i.doNotFireConnectionEvent=!0;var r=F.connect(i);null!=r&&(r.edge=e[o],tt[e[o].getId()]=r,rt(i.type,e[o],r))}}};for(e=0,i=b.getNodeCount();e<i;e++)n=b.getNodeAt(e),W[n.id]&&h(n);for(e=0,i=b.getGroupCount();e<i;e++)n=b.getGroupAt(e),Z[n.id]&&h(n)}this.relayout(),F.setSuspendDrawing(!1,!0),b.setSuspendGraph(!1)},this.getContainer=function(){return C},this.getContainerId=function(){return L},this.getRenderedElement=function(t){if(null==t)return null;var e=t.getFullId();return t.objectType===l.portType?Y[e]:t.objectType===l.groupType?Z[e]:W[e]},this.getRenderedNode=function(t){return W[t]},this.getRenderedGroup=function(t){return Z[t]},this.getRenderedPort=function(t){return Y[t]},this.getRenderedConnection=function(t){return tt[t]},this.getRenderedEndpoint=function(t){var e=Zt(t),n=null;return e&&e.obj&&"Port"===e.obj.objectType&&(n=Ot[e.obj.getFullId()]),n};var It=function(t){var n=F.extend({container:C,getElementForNode:function(t){return W[t]||Z[t]}},t);if(n.jsPlumbToolkit=b,n.adapter=new p(y,M),!e.Layouts[n.type])throw"no such layout ["+n.type+"]";return n.locationFunction||(n.locationFunction=function(t){return[r.data(t.data,T),r.data(t.data,I)]}),new e.Layouts[n.type](n)},jt=function(t,n){var i=y._getGroupDragArea?y._getGroupDragArea(n):Z[n.id],o=F.extend({container:i,getElementForNode:function(t){return W[t]},negativeValuesAllowed:!1},t);if(!e.Layouts[o.type])throw"no such layout ["+o.type+"]";return o.jsPlumbToolkit=b,o.adapter=new d(n,y),o.locationFunction||(o.locationFunction=function(t){return[r.data(t.data,T),r.data(t.data,I)]}),new e.Layouts[o.type](o)};this.adHocLayout=function(t){if(t){var e=w;this.setLayout(t),w=e}},this.setLayout=function(t,e){if(t){var n=i.extend({jsPlumb:this.getJsPlumb()},t);w=It(n),e||y.refresh()}},this.getLayout=function(){return w},this.getMagnetizedElements=function(){return null!=w?w.getMagnetizedElements():[]},this.magnetize=function(t){null!=w&&w.magnetize(t)},this.refresh=function(t){S||t&&!k||(w?w.layout((function(){"undefined"!=typeof window?window.setTimeout(F.repaintEverything,0):F.repaintEverything()})):F.repaintEverything())},this.setRefreshAutomatically=function(t){k=t},this.reload=function(){jsPlumbUtil.log("JSPLUMB: `reload` method not implement unless you're rendering a Selection")},this.relayout=function(t){S||(w?w.relayout(t,(function(){y.relayoutGroups(),F.repaintEverything(),this.fire("relayout",this.getBoundsInfo())}).bind(this)):F.repaintEverything())},this.relayoutGroups=function(){b.eachGroup((function(t,e){O(e)&&y.relayoutGroup(e)}))},this.relayoutGroup=function(t){if(!t.layout){var e=Zt(t);if(!e.obj||!e.obj.layout)return;t=e.obj}t.layout.relayout(),y.sizeGroupToFit(t,!0),F.revalidate(Z[t.id]),y.fire(u.groupRelayout,t,Z[t.id])},this.getPath=function(t){var e=b.getPath(t);return e&&(e.setVisible=function(t){y.setVisible(e,t)},e.addNodeClass=function(t){e.eachNode((function(e,n){F.addClass(W[n.id],t)}))},e.removeNodeClass=function(t){e.eachNode((function(e,n){F.removeClass(W[n.id],t)}))},e.addEdgeClass=function(t){e.eachEdge((function(e,n){tt[n.getId()].addClass(t)}))},e.removeEdgeClass=function(t){e.eachEdge((function(e,n){tt[n.getId()].removeClass(t)}))},e.addClass=function(t){this.addNodeClass(t),this.addEdgeClass(t)},e.removeClass=function(t){this.removeNodeClass(t),this.removeEdgeClass(t)}),e},this.getPosition=function(t){var e=this.getLayout();if(e){var n=Zt(t).id;return e.getPosition(n)}},this.getSize=function(t){return F.getSize(Zt(t).el)},this.getCoordinates=function(t){var e=this.getLayout();if(e){var n=Zt(t),i=e.getPosition(n.id),r=F.getSize(n.el);return{x:i[0],y:i[1],w:r[0],h:r[1]}}};var Ot={},Mt={},Rt={};this.ingestEndpoint=function(t,e){Ot[t.getFullId()]=e,e.graph={node:t.getNode(),port:t}};var Nt=function(t,e,r){var o=t.value("port-id"),s=t.value("port-type")||"default",a=t.value("scope")||F.getDefaultScope(),l=b.getNodeType(e),u=ct.getNodeDefinition(l),c=ct.getPortDefinition(o,u),h=ct.getPortDefinition(s,u),d=n.merge(h,c),p=null==d?{}:n.populate(d,e.data,null,!0),f=function(t){return function(n){var i=e.getPort(o);t.apply(t,[{portId:o,nodeId:e.id,port:i,node:e,portType:s,endpoint:n.endpoint,anchor:n.anchor}])}},m=function(t){return function(e){var n=[{connection:e.connection||e,source:Zt(e.source),target:Zt(e.target),scope:e.scope}];return t.apply(t,n)}},g=p.edgeType||t.value("edge-type")||"default",v={paintStyle:"connectorStyle",hoverPaintStyle:"connectorHoverStyle",overlays:"connectorOverlays",endpointStyle:"paintStyle"},_=ct.getEdgeDefinition(g);if(_)for(var w in _){var C=v[w]||w;null==p[C]&&(p[C]=_[w])}if(p.connectionType=g,p.portId=o,p.portType=s,p.scope=a,p.parameters=p.parameters||{},p.parameters.portId=o,p.parameters.portType=s,p.parameters.edgeType=g,p.parameters.scope=a,p.parameters.nodeId=e.id,p.events={},d.events)for(w in d.events)p.events[w]=f(d.events[w]);if(d.interceptors)for(w in d.interceptors)p[w]=m(d.interceptors[w]);var x=t.value("anchor-x"),E=t.value("anchor-y"),S=t.value("orientation-x"),k=t.value("orientation-y"),P=t.value("offset-x"),D=t.value("offset-y");return null!=x&&null!=E&&(p.anchor=[parseFloat(x),parseFloat(E),parseInt(S||"0",10),parseInt(k||"0",10),parseFloat(P||"0"),parseFloat(D||"0")]),i.extend(p,r||{}),p.events.anchorChanged=function(t){y.fire("anchorChanged",{portId:o,nodeId:e.id,portType:s,node:e,port:e.getPort(o),endpoint:t.endpoint,anchor:t.anchor})},p},Ft=function(t){this.element=t.parentNode,this.value=function(e,n){var i=t.getAttribute(e);return null==i?n:i},this.setValue=function(e,n){t.setAttribute(e,n)},this.findDataValues=function(e){for(var n=0;n<t.attributes.length;n++){var i=t.attributes[n];0===i.name.indexOf("data-")&&(e[i.value]=i.name.split("-")[1])}}},Lt=function(t,e,n){this.element=e,this.port=n,this.value=function(e,n){var i=t[e.replace(/(\-\w)/g,(function(t){return t[1].toUpperCase()}))];return null==i?n:i},this.findDataValues=function(e){for(var n in t)0===n.indexOf("data-")&&(e[t[n]]=n.split("-")[1])},this.setValue=function(t,n){e.setAttribute(t,n)}};function Vt(t,e,n){if(null==t.value("jtk-processed")){t.setValue("jtk-processed",!0);var i=Nt(t,e,n);"true"===t.value("is-source")&&(i.isSource=!0),"true"===t.value("is-target")&&(i.isTarget=!0);var r=F.addEndpoint(t.element,i);Ot[e.id+"."+i.portId]=r;var o=t.port||e.addPort({id:i.portId});r.graph={port:o},r.graph["Node"===e.objectType?"node":"group"]=e,v.onUpdate(t.element,(function(){}))}}function zt(t,e){if(e.events)for(var n in e.events)F.on(t,n,e.events[n])}function Ut(t,e,n){if(null==t.value("jtk-processed")){t.setValue("jtk-processed",!0);var r=Nt(t,e,n);r.rank="Node"===e.objectType?10:0,null!=r.portId&&(Y[e.id+"."+r.portId]=t.element,t.element.jtk=t.element.jtk||{},t.element.jtk.port=b.addPort(e,{id:r.portId,type:r.portType||"default"},!0),zt(t.element,r));var o=t.value("filter");if(o){var s="true"===t.value("filter-exclude");r.filter=o,r.filterExclude=s}if("true"===t.value("is-source")&&(r.isSource=!0),delete r.uniqueEndpoint,delete r.createEndpoint,r.extract={},t.findDataValues(r.extract),"true"===t.value("endpoint")){r.maxConnections=-1,r.isSource=!0;var a=F.addEndpoint(t.element,r);a.graph={},a.graph["Node"===e.objectType?"node":"group"]=e,null==r.portId?Mt[e.id]=a:Ot[e.id+"."+r.portId]=a,v.onUpdate(t.element,(function(){}))}else{var l,u=t.element._katavorioDrop?t.element._katavorioDrop.length:0;F.makeSource(t.element,r),null!=r.portId&&(F._sourceDefsByPortId=F._sourceDefsByPortId||{},F._sourceDefsByPortId[r.portId]=F._sourceDefsByPortId[r.portId]||[],F._sourceDefsByPortId[r.portId].push([F.getId(t.element),e])),(t.element._katavorioDrop?t.element._katavorioDrop.length:0)>u&&(l=t.element._katavorioDrop[t.element._katavorioDrop.length-1]),v.onUpdate(t.element,(function(t){var n=i.getSelector(t,"jtk-source");if(1===n.length){var r=Nt(new Ft(n[0]),n[0],e);r.scope&&(F.setSourceScope(t,r.scope,r.edgeType),l&&l.k.setDropScope(l,r.scope))}}))}}}function Bt(t,e,n){if(null==t.value("jtk-processed")){t.setValue("jtk-processed",!0);var r=Nt(t,e,n);if(r.rank="Node"===e.objectType?10:0,null!=r.portId&&(Y[e.id+"."+r.portId]=t.element,t.element.jtk=t.element.jtk||{},t.element.jtk.port=b.addPort(e,{id:r.portId,type:r.portType||"default"},!0),zt(t.element,r)),"true"===t.value("is-target")&&(r.isTarget=!0),delete r.uniqueEndpoint,delete r.createEndpoint,"true"===t.value("endpoint")){r.maxConnections=-1,r.isTarget=!0;var o=F.addEndpoint(t.element,r);o.graph={},o.graph["Node"===e.objectType?"node":"group"]=e,null==r.portId?Rt[e.id]=o:Ot[e.id+"."+r.portId]=o,v.onUpdate(t.element,(function(){}))}else{F.makeTarget(t.element,r),null!=r.portId&&(F._targetDefsByPortId=F._targetDefsByPortId||{},F._targetDefsByPortId[r.portId]=F._targetDefsByPortId[r.portId]||[],F._targetDefsByPortId[r.portId].push([F.getId(t.element),e]));var s=t.element._katavorioDrop[t.element._katavorioDrop.length-1];v.onUpdate(t.element,(function(t){var n=i.getSelector(t,"jtk-target");if(1===n.length){var r=Nt(new Ft(n[0]),n[0],e);r.scope&&(s.targetDef.def.scope=r.scope,s.k.setDropScope(s,r.scope))}}))}}}var Ht=function(t,e){var n,r=i.getSelector(t,s.PORT),o=i.getSelector(t,s.SOURCE),a=i.getSelector(t,s.TARGET);for(n=0;n<o.length;n++)Ut(new Ft(o[n]),e);for(n=0;n<a.length;n++)Bt(new Ft(a[n]),e);for(n=0;n<r.length;n++)Vt(new Ft(r[n]),e)};function Gt(t){var e=t.info||Zt(t.node);return e&&e.obj&&(!1!==t.updateLayout&&(e.obj.group?e.obj.group.layout:w)[t.magnetize?"setMagnetizedPosition":"setPosition"](e.id,t.x,t.y),t.doNotUpdateElement||(t.magnetize||F.setAbsolutePosition(e.el,[t.x,t.y],t.animateFrom,t.animateOptions),F.revalidate(e.el))),e}function $t(t){return!1!==t.endpoints[0].element._jtkVisible&&!1!==t.endpoints[1].element._jtkVisible}function Wt(t,e,n){if(1===e.connections.length)e.setVisible(n,!0);else if(n)e.setVisible(!0,!0);else{for(var i=0;i<e.connections.length;i++)if(e.connections[i]!==t&&e.connections[i].isVisible())return;e.setVisible(!1,!0)}}function qt(t,e,n){var i=et(t);i&&(!e||$t(i))&&(i.setVisible(e),n||(Wt(i,i.endpoints[0],e),Wt(i,i.endpoints[1],e)))}function Yt(t,e){var n;if(t.eachNode&&t.eachEdge)n={nodes:[],edges:[]},t.eachNode((function(t,i){n.nodes.push(e(Zt(i)))})),t.eachEdge((function(t,i){n.edges.push(e(Zt(i)))}));else if(t.length&&"string"!=typeof t){n=[];for(var i=0;i<t.length;i++)n.push(e(Zt(t[i])))}else n=e(Zt(t));return n}function Zt(t){return t instanceof F.getDefaultConnectionType()&&(t=t.edge),b.getObjectInfo(t,(function(t){return t.getNode?Y[t.getFullId()]||W[t.getNode().id]:W[t.id]||Z[t.id]}))}this.setLayout(t.layout,!0),this.storePositionsInModel=function(t){var e=(t=t||{}).leftAttribute||"left",n=t.topAttribute||"top",i=w.getPositions();for(var o in i){var s=b.getNode(o)||b.getGroup(o);s&&(r.data(s.data,e,i[o][0]),r.data(s.data,n,i[o][1]))}b.eachGroup((function(t,i){var o=i.getNodes(),s=i.layout.getPositions();for(t=0;t<o.length;t++)r.data(o[t].data,e,s[o[t].id][0]),r.data(o[t].data,n,s[o[t].id][1])}))},this.storePositionInModel=function(t){var e="string"==typeof t?t:t.id,n="string"==typeof t?"left":t.leftAttribute||"left",i="string"==typeof t?"top":t.topAttribute||"top",o=b[t.group?"getGroup":"getNode"](e),s=o.group?o.group.layout.getPosition(e):w.getPosition(e);return o&&(r.data(o.data,n,s[0]),r.data(o.data,i,s[1])),s},this.setPosition=function(t,e,n,i,r){return Gt({info:null,node:t,x:e,y:n,doNotUpdateElement:i,animateFrom:null,animateOptions:null,updateLayout:!0!==r})},this.setMagnetizedPosition=function(t,e,n,i,r){return Gt({info:null,node:t,x:e,y:n,doNotUpdateElement:i,animateFrom:null,animateOptions:null,updateLayout:!0!==r,magnetize:!0})},this.animateToPosition=function(t,e,n,i){var r=Zt(t);if(r){var o=w.getPosition(r.id);Gt({info:r,node:t,x:e,y:n,doNotUpdateElement:!1,animateFrom:[o[0],o[1]],animateOptions:i})}},this.isVisible=function(t){return Yt(t,(function(t){switch(t.type){case"Edge":var e=et(t.obj);return!!e&&e.isVisible();case"Node":return!1!==t.el._jtkVisible}}))},this.setVisible=function(t,e,n){null!=t&&Yt(t,(function(t){switch(t.type){case"Edge":qt(t.obj,e,n);break;case"Node":!function(t,i){if(i&&(i.style.display=e?"block":"none",i._jtkVisible=e,y.fire(u.nodeVisibility,{node:t,el:i,state:e}),!n))for(var r=b.getAllEdgesFor(t),o=0;o<r.length;o++)if(e){var s=r[o].source.getNode?r[o].source.getNode():r[o].source,a=r[o].target.getNode?r[o].target.getNode():r[o].target;y.isVisible(s===t?a:s)&&qt(r[o],e,n)}else qt(r[o],e,n)}(t.obj,t.el);break;case"Port":i=t.obj.getFullId(),Ot[i].setVisible(e)}var i}))},this.addToPosse=function(t,e,i){n.each(t,(function(t){var n=Zt(t);n.el&&F.addToPosse(n.el,{id:e,active:!1!==i})}))},this.setPosse=function(t,e){n.each(t,(function(t){var n=Zt(t);n.el&&F.setPosse(n.el,e)}))},this.removeFromPosse=function(t,e){n.each(t,(function(t){var n=Zt(t);n.el&&F.removeFromPosse(n.el,e)}))},this.removeFromAllPosses=function(t){n.each(t,(function(t){var e=Zt(t);e.el&&F.removeFromAllPosses(e.el)}))},this.setPosseState=function(t,e,i){n.each(t,(function(t){var n=Zt(t);n.el&&F.setPosseState(n.el,e,i)}))},this.destroy=function(){for(var t,e=0;e<lt.length;e++)try{b.unbind((t=lt[e]).event,t.fn)}catch(i){n.log("WARN: Could not unbind event "+t.event+" during destroy operation.")}this._destroy&&this._destroy(),this._onDestroy&&this._onDestroy(this)};var Xt={jsPlumb:F,toolkit:b,container:C,containerId:L,getConnectionsForEdges:nt,getConnectionForEdge:et,getElement:function(t){return W[t]||Z[t]},getNodeForElementId:function(t){return q[t]},getGroupForElementId:function(t){return K[t]},getObjectInfo:Zt,nodeMap:function(){return W},portMap:function(){return Y},groupMap:function(){return Z},nodeList:function(){return Q},isIgnoreGroups:function(){return M},reverseGroupMap:function(){return K},reverseNodeMap:function(){return q},bindToToolkit:function(t,e){ut(t,e)}};return Xt};t.AbstractRenderer=f,t.DOM=function(t){f.apply(this,arguments),c.apply(this,arguments)}}).call("undefined"!=typeof window?window:this),(function(){"use strict";function t(t,e,n){return function(i){return i[t]/e*(n?-1:1)}}var e={webkit:{mac:t("deltaY",120),win:t("deltaY",100)},safari:t("wheelDeltaY",120,!0),firefox:{mac:function(t){return t.deltaY*(1===t.deltaMode?25:1)*-1/120},win:function(t){return-1*t.deltaY/3}},ie:function(t){return t.wheelDelta/120},default:function(t){return t.deltaY||t.wheelDelta}},n={webkit:{mac:t("deltaX",120),win:t("deltaX",100)},safari:t("wheelDeltaX",120,!0),firefox:{mac:function(t){return t.deltaX*(1===t.deltaMode?25:1)*-1/120},win:function(t){return-1*t.deltaX/3}},ie:function(t){return t.wheelDelta/120},default:function(t){return t.deltaX||t.wheelDelta}},i="undefined"!=typeof navigator,r=i?/Mac/.test(navigator.userAgent)?"mac":"win":"mac",o=i?-1!==navigator.userAgent.indexOf("Firefox")?"firefox":/Chrome/.test(navigator.userAgent)?"webkit":/Safari/.test(navigator.userAgent)?"safari":/WebKit/.test(navigator.userAgent)?"webkit":/Trident/.test(navigator.userAgent)?"ie":"default":"default",s="function"==typeof e[o]?e[o]:e[o][r],a="function"==typeof n[o]?n[o]:n[o][r],l="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";this.addWheelListener=function(t,e,n,i){var r=function(t,e,n){return function(i){if(!e||null==i.mozInputSource||1===i.mozInputSource){var r=s(i||event),o=function(t){return a(t||event)}(i);i.normalizedWheelDelta=r,(!n||i.metaKey||i.ctrlKey)&&t(i,o,r,i.metaKey||i.ctrlKey)}}}(e,n,i);t.addEventListener?t.addEventListener(l,r,!1):t.attachEvent&&t.attachEvent("onmousewheel",r)}}).call("undefined"!=typeof window?window:this),(function(){this.PinchListener=function(t){var e,n,i,r,o,s="onpointerdown"in document.documentElement,a="ontouchstart"in document.documentElement,l=[0,0],u=0,c=0,h=function(e){t[e](l,c,u,u/c)},d=function(){t.onPinchEnd()},p=function(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))};s?(e={},n=[],i=0,r=!1,o=function(){2===i&&(l=[(n[1].p[0]+n[0].p[0])/2,(n[1].p[1]+n[0].p[1])/2],u=p(n[1].p[0],n[1].p[1],n[0].p[0],n[0].p[1]))},t.bind(t.el,"pointerdown",(function(t){i>=2||r||(n[i]={e:t,p:[t.pageX,t.pageY]},e[""+t.pointerId]=i,i++,o(),2===i&&(c=u,h("onPinchStart")))})),t.bind(document,"pointerup",(function(t){null!=e[""+t.pointerId]&&(delete e[""+t.pointerId],r=0!=--i,d())})),t.bind(document,"pointermove",(function(t){if(!r&&2===i){var s=e[t.pointerId];null!=s&&(n[s].p=[t.pageX,t.pageY],o(),h("onPinch"))}}))):a&&function(t){var e=function(t){return t.touches||[]},n=function(t,e){return t.item?t.item(e):t[e]},i=function(t){var e=n(t,0),i=n(t,1);return p(e.pageX,e.pageY,i.pageX,i.pageY)},r=function(t){var e=n(t,0),i=n(t,1);return[(e.pageX+i.pageX)/2,(e.pageY+i.pageY)/2]},o=!1,s=function(e){o=!1,jsPlumbUtil.consume(e),t.unbind(document,"touchmove",a),t.unbind(document,"touchend",s),d()},a=function(t){if(o){var n=e(t);2===n.length&&(jsPlumbUtil.consume(t),u=i(n),l=r(n),h("onPinch"))}};t.bind(t.el,"touchstart",(function(n){var d=e(n);2===d.length&&!1!==t.enableWheelZoom&&(l=r(d),u=c=i(d),o=!0,t.bind(document,"touchmove",a),t.bind(document,"touchend",s),jsPlumbUtil.consume(n),h("onPinchStart"))}))}(t)}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb;this.ZoomWidget=function(n){n.events=n.events||{};var o,s,a,l,u=this,c=function(){},h=n.canvas,d=n.domElement||function(t){return t},p=d(h),f=n.viewport,m=d(f),g=n.events.zoom||c,v=n.events.pan||c,y=n.events.mousedown||c,b=n.events.mouseup||c,_=n.events.mousemove||c,w=n.events.transformOrigin||c,C=!(!1===n.clamp),x=!1!==n.clampZoom,E=n.panDistance||50,S=!1!==n.enablePan,k=!0===n.directRender,P=!1!==n.enableWheelZoom,D=!1!==n.enableAnimation,A=n.wheelFilter||function(){return!0},T=!0===n.wheelZoomMetaKey,I=(!0===n.wheelReverse?-1:1)*(n.wheelSensitivity||10),j=!0===n.wheelPan,O=!1!==n.enablePanButtons,M=!1!==n.consumeRightClick,R=n.smartMinimumZoom,N=!1,F=["webkit","Moz","ms"],L=n.bind,V=n.unbind,z=!(!1===n.enabled),U=n.clampToBackground,B=n.clampToBackgroundExtents,H=n.filter||function(t){return!1},G=n.width,$=n.height,W=n.zoom||1,q=[0,0],Y=!1,Z=!1,X=!1,K=!1,Q=n.zoomRange||[.05,3],J={minx:[],maxx:[],miny:[],maxy:[]},tt={},et={},nt={},it=!1,rt=function(){J.minx.sort((function(t,e){return t[0][0]<e[0][0]?-1:1})),J.miny.sort((function(t,e){return t[0][1]<e[0][1]?-1:1})),J.maxx.sort((function(t,e){return t[0][0]+t[1]>e[0][0]+e[1]?-1:1})),J.maxy.sort((function(t,e){return t[0][1]+t[2]>e[0][1]+e[2]?-1:1}))},ot=function(t,e,n,i){null==tt[t]&&(tt[t]=[],J.minx.push(tt[t]),J.miny.push(tt[t]),J.maxx.push(tt[t]),J.maxy.push(tt[t])),tt[t][0]=e,tt[t][1]=n,tt[t][2]=i,tt[t][3]=t,N?it=!0:rt()};this.setBoundsFor=ot,this.setSize=function(t,e,n){null!=tt[t]&&(tt[t][1]=e,tt[t][2]=n,rt())},this.setSuspendRendering=function(t){N=t,!t&&it&&rt(),it=!1};var st=[],at=null,lt=null,ut=null,ct=function(){window.clearTimeout(at),ut&&n.removeClass(ut,"jtk-surface-pan-active"),ut=null},ht=function(){window.clearTimeout(lt)},dt=function(t,e,i,r,s){var a=document.createElement("div");for(var l in a.innerHTML=s||"",a.style.position="absolute",e)a.style[l]=e[l];return a.className="jtk-surface-pan jtk-surface-pan-"+t,m.appendChild(a),n.bind(a,"click",function(t,e){return function(n){Pt(p,t*E,e*E,null,!0,(function(t){v(t[0],t[1],W,W,n),o&&o.pan(),Bt.pan()}))}}(i,r)),n.bind(a,"mousedown",function(t,e,i){return function(){n.addClass(ut=i,"jtk-surface-pan-active"),n.bind(document,"mouseup",ct),at=window.setTimeout((function(){n.bind(document,"mouseup",ht),lt=window.setInterval(function(t,e){return function(n){var i=Pt(p,10*t,10*e,null);v(i[0],i[1],W,W,n),o&&o.pan(),Bt.pan()}}(t,e),60)}),150)}}(i,r,a)),st.push(a),a};O&&(dt("top",{left:"0px",top:"0px"},0,-1,"&#8593;"),dt("bottom",{left:"0px",bottom:"0px"},0,1,"&#8595;"),dt("left",{left:"0px",top:"0px"},-1,0,"&#8592;"),dt("right",{right:"0px",top:"0px"},1,0,"&#8594;"));var pt=function(t,e,n){n=n||p;for(var i=0;i<F.length;i++){var r=t.replace(/([a-z]){1}/,(function(t){return F[i]+t.toUpperCase()}));n.style[r]=e}n.style[t]=e},ft=function(t){pt("transformOrigin",q[0]+"% "+q[1]+"%",t)},mt=function(t,e,n,i){var r,o,s=q[0]/100*e,a=q[1]/100*n;r=-s*(1-W),o=-a*(1-W),q=t,ft();var l=Pt(p,-(s=q[0]/100*e)*(1-W)-r,-(a=q[1]/100*n)*(1-W)-o,i);w&&w(q,l)},gt=function(t,e,i){var r=function(t,e){var i=u.mapLocation(t,e),r=[i.left,i.top],o=n.width(h),s=n.height(h);return{w:o,h:s,xy:r,xScale:r[0]/o,yScale:r[1]/s,o:[r[0]/o*100,r[1]/s*100]}}(t,e);mt(r.o,r.w,r.h,i)},vt=function(t){var e=bt(t);gt(e[0],e[1],t)},yt=function(t,e){var i=n.width(h),r=n.height(h);mt([t/i*100,e/r*100],i,r)},bt=function(t){var e,n=wt(t);if(n&&n.length>0){var i=_t(n,0);i&&(e=[i.pageX,i.pageY])}return e&&e[0]&&e[1]?e:null!=t.pageX?[t.pageX,t.pageY]:[0,0]};this.pageLocation=bt;var _t=function(t,e){return t.item?t.item(e):t[e]},wt=function(t){return t.touches||[]},Ct=function(t,e,n,i,r){if(!k&&!(null==t||isNaN(t)||t<0)){var s=Q[0];if(R){s=.5;var a=Rt().z;t/a<s&&(t=a*s)}else t<s&&(t=s);if(t>Q[1]&&(t=Q[1]),i){var l=t>W?.05:-.05,u=W,c=t<W,h=window.setInterval((function(){u=Ct(u+l),c&&u<=t&&window.clearInterval(h),!c&&u>=t&&window.clearInterval(h)}));return W}pt("transform","scale("+t+")");var d=W;if(W=t,r||g(0,0,W,d,e,n),null!=o&&o.setZoom(t),Bt&&Bt.pan(),x){var f=kt(p),m=St(f[0],f[1]);m[0]==f[0]&&m[1]==f[1]||kt(p,m[0],m[1],null,!i)}return W}},xt=function(t,e,n,i){e<-150&&(e=-150),e>150&&(e=150),Et(a,e,-150,150,n,i)},Et=function(t,e,n,i,r,o){Ct(t+e/(e>=0?i:n)*(Q[e>=0?1:0]-t),r,o)},St=function(t,e,i){if(C||U||B){var r=Dt(),s=t,a=e,l=C?Rt():{x:0,y:0,w:0,h:0,vw:n.width(m),vh:n.height(m),padding:i,z:1};if(i=(i||20)*W,(U||B)&&null!=o){var u=o.getWidth(),c=o.getHeight(),h=Math.max(l.x+l.w,u),d=Math.max(l.y+l.h,c);l.w=h-l.w,l.h=d-l.h,l.z=Math.min(l.vw/l.w,l.vh/l.h),B&&(i=Math.max(l.vw,l.vh))}var p=[l.x+l.w,l.y+l.h];o&&(p[0]=Math.max(p[0],o.getWidth()),p[1]=Math.max(p[1],o.getHeight()));var f=t+r[0]+p[0]*W-i,g=e+r[1]+p[1]*W-i,v=t+r[0]+l.x*W+i,y=e+r[1]+l.y*W+i;return f<0&&(s-=f),v>l.vw&&(s-=v-l.vw),g<0&&(a-=g),y>l.vh&&(a-=y-l.vh),[s,a]}return[t,e]},kt=function(t,e,i,r,o,s,a){if(1==arguments.length)return[parseInt(t.style.left,10)||0,parseInt(t.style.top,10)||0];var l=St(e,i);return D&&!o&&n.animate?n.animate(t,{left:l[0],top:l[1]},{step:a,complete:function(){s&&s(l)}}):(t.style.left=l[0]+"px",t.style.top=l[1]+"px",s&&s(l)),l};p.style.left="0px",p.style.top="0px";var Pt=function(t,e,n,i,r,o){var s=kt(t);return kt(t,s[0]+e,s[1]+n,i,!r,o)},Dt=function(){var t=n.width(h),e=n.height(h);return[q[0]/100*t*(1-W),q[1]/100*e*(1-W)]},At={start:function(t,e){if(!Z){var i=t.srcElement||t.target;z&&(i===p||i===m||i._jtkDecoration||o&&o.owns(i)||!0===H(i,t))&&(K=!1,3!==t.which||!1===n.enableWheelZoom||null!=t.mozInputSource&&1!==t.mozInputSource?e.length<=1&&(Y=!0,s=bt(t),l=kt(p),jsPlumbUtil.consume(t)):(X=!0,s=bt(t),vt(t),l=kt(p),a=W)),y(t,u)}},move:function(t,e){var n;if(K=!1,!Z){if(X)n=bt(t),xt(0,n[1]-s[1],t);else if(Y&&S&&null!=s){jsPlumbUtil.consume(t),n=bt(t);var i=kt(p,l[0]+(n[0]-s[0]),l[1]+(n[1]-s[1]),t,!0);v(i[0],i[1],W,W,t),o&&o.pan(),Bt&&Bt.pan(),jsPlumbUtil.consume(t)}_(t,u)}},end:function(t,e){Z||(X=!1,s=null,Y=!1,K=!1,V(document,"mousemove",It),V(document,"mouseup",jt),L(document,"mousemove",Ot),b(t,u))},contextmenu:function(t){}},Tt=function(t,e){"contextmenu"===t&&M&&e.preventDefault&&e.preventDefault();var n=wt(e);At[t](e,n)},It=function(t){Tt("move",t)},jt=function(t){Tt("end",t)},Ot=function(t){K=!1};L(document,"mousemove",Ot);var Mt=function(t){z&&null!=t&&(V(document,"mousemove",Ot),L(document,"mousemove",It),L(document,"mouseup",jt),At.start(t,wt(t)))};function Rt(t,e){if(function(){for(var t in tt)return!1;return!0}())return{w:0,h:0,x:0,y:0,vw:n.width(m),vh:n.height(m),padding:t,z:1,zoom:1};t=t||0,e=e||.9;var i=Math.abs(J.maxx[0][0][0]+J.maxx[0][1]-J.minx[0][0][0]),r=Math.abs(J.maxy[0][0][1]+J.maxy[0][2]-J.miny[0][0][1]),o=n.width(m),s=n.height(m),a=Math.min(o/((i+2*t)/e),s/((r+2*t)/e));return{w:i,h:r,x:J.minx[0][0][0],y:J.miny[0][0][1],vw:o,vh:s,padding:t,z:a,zoom:W}}function Nt(t){for(var e in J)if(J.hasOwnProperty(e)){for(var n=-1,i=0;i<J[e].length;i++)if(J[e][i][3]===t){n=i;break}-1!==n&&J[e].splice(n,1)}}this.start=Mt,L(f,"mousedown",Mt),L(f,"contextmenu",(function(t){Tt("contextmenu",t)})),P&&addWheelListener(m,(function(t,e,n,i){A(t)&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!j||i?function(t,e,n){a=W,K||(vt(t),K=!0),xt(0,t.normalizedWheelDelta*I,t,!0)}(t):function(t,e,n,i){i||Ft(100*-e,100*-n)}(0,e,n,i))}),!0,T),new PinchListener({el:f,bind:L,unbind:V,enableWheelZoom:n.enableWheelZoom,onPinch:function(t,e,n,i){Ct(i*a),kt(p,l[0]+(t[0]-s[0]),l[1]+(t[1]-s[1]),null,!0)},onPinchStart:function(t,e){Z=!0,a=W,gt((s=t)[0],s[1]),l=kt(p)},onPinchEnd:function(){Z=!1,s=null}}),Ct(W,null,!1,!1,!0),ft(),this.isPinchZooming=function(){return Z},this.positionChanged=function(t,e,i){i=i||n.id(t);var r=e||kt(t),o=n.width(t),s=n.height(t);et[i]=t,ot(i,r,o,s)},this.add=function(t,e,n,i){this.positionChanged(t,n,e),i&&(L(t,"mousedown",Mt),t._jtkDecoration=!0)},this.suspend=function(t){var e="string"==typeof t?t:n.id(t);nt[e]=!0,Nt(e)},this.isSuspended=function(t){var e="string"==typeof t?t:n.id(t);return!0===nt[e]},this.restore=function(t){var e="string"==typeof t?t:n.id(t);delete nt[e],this.positionChanged(t,null,e)},this.remove=function(t){t=d(t);var e=n.id(t);delete tt[e],delete et[e],delete nt[e],Nt(e)},this.reset=function(){J.minx.length=0,J.miny.length=0,J.maxx.length=0,J.maxy.length=0,tt={},et={},nt={},kt(p,0,0,null,!0)},this.getBoundsInfo=Rt,this.zoomToFit=function(t){var e=Rt((t=t||{}).padding,t.fill);t.doNotZoomIfVisible&&e.z>W||Ct(e.z),u.centerContent({bounds:e,doNotAnimate:!1!==t.doNotAnimate,onComplete:t.onComplete,onStep:t.onStep,doNotFirePanEvent:t.doNotFirePanEvent})},this.zoomToFitIfNecessary=function(e){var n=t.extend(e||{});n.doNotZoomIfVisible=!0,this.zoomToFit(n)},this.zoomToElements=function(t){for(var e={x:1/0,y:1/0,xMax:-1/0,yMax:-1/0,z:1,vw:n.width(m),vh:n.height(m)},i=0;i<t.elements.length;i++){var r=tt[n.id(t.elements[i])];r&&(e.x=Math.min(e.x,r[0][0]),e.y=Math.min(e.y,r[0][1]),e.xMax=Math.max(e.xMax,r[0][0]+r[1]),e.yMax=Math.max(e.yMax,r[0][1]+r[2]))}var o=t.fill||.9;e.w=e.xMax-e.x,e.h=e.yMax-e.y,e.z=o*Math.min(e.vw/e.w,e.vh/e.h),t.doNotZoomIfVisible&&e.z>W||Ct(e.z),u.centerContent({bounds:e,doNotAnimate:!1!==t.doNotAnimate,onComplete:t.onComplete,onStep:t.onStep,doNotFirePanEvent:t.doNotFirePanEvent})},this.zoomToBackground=function(t){if(t=t||{},null!=o){var e=o.getWidth(),n=o.getHeight(),i=G(m),r=$(m),s={w:e,h:n,x:0,y:0,vw:i,vh:r,padding:0,z:Math.min(i/e,r/n)};Ct(s.z),u.centerContent({bounds:s,doNotAnimate:t.doNotAnimate,onComplete:t.onComplete,onStep:t.onStep})}},this.setFilter=function(t){H=t||function(t){return!1}},this.centerBackground=function(){if(null!=o){var e=t.extend({},Rt());e.x=o.getWidth()/2,e.y=o.getHeight()/2,e.w=1,e.h=1,u.centerContent({bounds:e,doNotAnimate:n.doNotAnimate,onComplete:n.onComplete,onStep:n.onStep,vertical:!0,horizontal:!0})}},this.alignBackground=function(t){if(null!=o){var e=t.split(" "),n=e[0]||"left",i=e[1]||"top",r=Rt(),s="left"===n?0:r.vw-o.getWidth()*W,a="top"===i?0:r.vh-o.getHeight()*W,l=Dt();kt(p,s-l[0],a-l[1]),o.pan(),Bt&&Bt.pan()}},this.positionElementAt=function(t,e,i,r,o,s){r=r||0,o=o||0;var a=Dt(),l=kt(p),u=d(t),c=n.offset(u.parentNode),h=n.offset(f),m=h.left-c.left+(l[0]+a[0])+e*W+r,g=h.top-c.top+(l[1]+a[1])+i*W+o;s&&m<0&&(m=0),s&&g<0&&(g=0),u.style.left=m+"px",u.style.top=g+"px"},this.positionElementAtPageLocation=function(t,e,n,i,r){var o=this.mapLocation(e,n);this.positionElementAt(t,o.left,o.top,i,r)},this.positionElementAtEventLocation=function(t,e,n,i){var r=this.mapEventLocation(e);this.positionElementAt(t,r.left,r.top,n,i)},this.zoomToEvent=function(t,e){vt(t),Ct(W+e,t)},this.relayout=function(t){if(!1===n.enablePan){var e=t[2]-t[0],i=t[3]-t[1],r=window.getComputedStyle(m),o=1,s=1,a=parseInt(r.getPropertyValue("max-width"),10),l=parseInt(r.getPropertyValue("max-height"),10);!isNaN(a)&&e>a&&(o=a/e,e=a),!isNaN(l)&&i>l&&(s=l/i,i=l);var u=Math.min(o,s);p.style.width=e+"px",p.style.height=i+"px",p.style.left="0",p.style.top="0",p.style.transform="translateX("+(t[0]<0?-t[0]:0)*u+"px) translateY("+(t[1]<0?-t[1]:0)*u+"px) scale("+u+")",this.setTransformOrigin(0,0)}},this.nudgeZoom=function(t,e){var i=n.offset(m,!0),r=i.left+n.width(m)/2,o=i.top+n.height(m)/2;return gt(r,o),Ct(W+t,e)},this.nudgeWheelZoom=function(t,e){a=W,xt(0,t,e,!0)},this.centerContent=function(t){if(!k){var e=(t=t||{}).bounds||Rt(),n=Dt(),i=e.vw/2-(e.x*W+e.w*W/2),r=e.vh/2-(e.y*W+e.h*W/2),s=kt(p);kt(p,!1!==t.horizontal?i-n[0]:s[0],!1!==t.vertical?r-n[1]:s[1],null,t.doNotAnimate,(function(){t.doNotFirePanEvent||v(!1!==t.horizontal?i-s[0]:0,!1!==t.vertical?r-s[1]:0,W,W),o&&o.pan(),Bt&&Bt.pan(),t.onComplete&&t.onComplete()}),t.onStep)}},this.centerContentHorizontally=function(e){this.centerContent(t.extend({horizontal:!0,vertical:!1},e))},this.centerContentVertically=function(e){this.centerContent(t.extend({vertical:!0,horizontal:!1},e))},this.centerOn=function(e,n){n=n||{};var i=t.extend({},Rt()),r=kt(e),o=G(e),s=$(e);i.x=r[0],i.y=r[1],i.w=o,i.h=s,this.centerContent({bounds:i,doNotAnimate:n.doNotAnimate,onComplete:function(){yt(r[0]+o/2,r[1]+s/2),n.onComplete&&n.onComplete()},onStep:n.onStep,vertical:!1!==n.vertical,horizontal:!1!==n.horizontal})},this.centerOnHorizontally=function(t){this.centerOn(t,{vertical:!1})},this.centerOnVertically=function(t){this.centerOn(t,{horizontal:!1})},this.centerOnAndZoom=function(t,e){e=e||.6;var n={w:G(t),h:$(t)},i=kt(t),r=Rt(),o=r.vw<r.vh?[r.vw,"w"]:[r.vh,"h"],s=e*o[0]/n[o[1]];s<Q[0]&&(s=Q[0]),s>Q[1]&&(s=Q[1]);var a=W,l=s-W;yt(i[0]+n.w/2,i[1]+n.h/2),this.centerOn(t,{onStep:function(t,e){Ct(a+t/e*l)},onComplete:function(){Ct(s)}})},this.getViewportCenter=function(){var e=t.extend({},Rt()),n=Dt(),i=kt(p),r=[e.vw/2,e.vh/2];return[(r[0]-(i[0]+n[0]))/W,(r[1]-(i[1]+n[1]))/W]},this.setViewportCenter=function(e){var n=t.extend({},Rt()),i=Dt(),r=[n.vw/2,n.vh/2],o=[-(e[0]*W-r[0]+i[0]),-(e[1]*W-r[1]+i[1])];kt(p,o[0],o[1])},this.setClamping=function(t){C=t},this.setZoom=function(t,e,n){return Ct(t,null,null,e,n)},this.setZoomRange=function(t,e){return null!=t&&2===t.length&&t[0]<t[1]&&null!=t[0]&&null!=t[1]&&t[0]>0&&t[1]>0&&(Q=t,e||(W<Q[0]||W>Q[1])&&Ct(W)),Q},this.getZoomRange=function(){return Q},this.getZoom=function(){return W},this.getPan=function(){return kt(p)};var Ft=function(t,e,n){Pt(p,t,e,null,n,(function(t){v(t[0],t[1],W,W),o&&o.pan(),Bt&&Bt.pan()}))};this.pan=Ft,this.setPan=function(t,e,n,i,r){return kt(p,t,e,null,!n,i,r)},this.setTransformOrigin=function(t,e){q=[t,e],ft()};var Lt=this.calculateCumulativeScroll=function(t){for(var e=t,n=0,i=0;null!=e&&e!==document.body;)isNaN(e.scrollLeft)||(n+=e.scrollLeft),isNaN(e.scrollTop)||(i+=e.scrollTop),e=e.parentNode;return{left:n,top:i}},Vt=this.calculateOffset=function(t){for(var e=t,n=0,i=0;null!=e&&e!==document.body;)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:n,top:i}};this.mapLocation=function(t,e,n){var i=Dt(),r=kt(p),o=Lt(m),s=n?{left:0,top:0}:Vt(m);return{left:(t-(r[0]+i[0])-s.left+o.left)/W,top:(e-(r[1]+i[1])-s.top+o.top)/W}},this.mapEventLocation=function(t,e){var n=bt(t);return this.mapLocation(n[0],n[1],e)},this.setEnabled=function(t){z=t},this.showElementAt=function(t,e,i){var r=d(t),o=n.offset(r.parentNode),s=n.offset(f),a=Dt();n.offset(t,{left:o.left-s.left+a[0]+e,top:o.top-s.top+a[1]+i})},this.getApparentCanvasLocation=function(){var t=Dt(),e=kt(p);return[e[0]+t[0],e[1]+t[1]]},this.setApparentCanvasLocation=function(t,e){var n=Dt(),i=kt(p,t-n[0],e-n[1],null,!0);return o&&o.pan(),Bt&&Bt.pan(),i},this.applyZoomToElement=function(t,e){pt("transform","scale("+(e=e||W)+")",t)},this.setTransformOriginForElement=function(t,e){pt("transformOrigin",e[0]+" "+e[1],t)},this.getTransformOrigin=function(){return q},this.floatElement=function(t,e){null!=t&&(t.style.position="absolute",t.style.left=e[0]+"px",t.style.top=e[1]+"px",m.appendChild(t))};var zt={},Ut=function(t){var e=u.getApparentCanvasLocation();for(var n in zt)if(zt.hasOwnProperty(n)){if(null!=t&&t!==n)continue;var i=zt[n],r=function(t,n){i[t]&&(i.el.style[t]=e[n]/W+i.pos[n]<0?-e[n]/W+"px":i.pos[n]+"px")};r("left",0),r("top",1)}},Bt={pan:Ut};this.fixElement=function(t,e,i){if(null!=t){e=e||{};var r=n.id(t);zt[r]={el:t,left:e.left,top:e.top,pos:i},t.style.position="absolute",t.style.left=i[0]+"px",t.style.top=i[1]+"px",p.appendChild(t),Ut(r)}},this.findIntersectingNodes=function(t,e,i,r,o){var s,a=this.getApparentCanvasLocation(),l=n.offset(m),u=[],c={x:t[0],y:t[1],w:e[0],h:e[1]},h=i?Biltong.encloses:Biltong.intersects,d=[l.left+a[0]-m.scrollLeft,l.top+a[1]-m.scrollTop];if(o=o||tt,Array.isArray(o)){var p={};for(s=0;s<o.length;s++)p[jsPlumbUtil.isString(o[s])?o[s]:jsPlumb.getId(o[s])]=o[s];o=p}for(s in o)if(!nt[s]){var f=tt[s];if(f){var g={x:d[0]+f[0][0]*W,y:d[1]+f[0][1]*W,w:f[1]*W,h:f[2]*W};h(c,g)&&(null==r||r(s,et[s],g))&&u.push({id:s,el:et[s],r:g})}}return u},this.findNearbyNodes=function(t,e,n,i){var r=[];if(!n||this.isInViewport(t[0],t[1])){r=this.findIntersectingNodes([t[0]-e,t[1]-e],[2*e,2*e],!1,i);var o=this.mapLocation(t[0],t[1]);r.sort((function(t,e){var n=[e.x+e.w/2,e.y+e.h/2],i=Biltong.lineLength(o,[t.x+t.w/2,t.y+t.h/2]),r=Biltong.lineLength(o,n);return i<r?-1:i>r?1:0}))}return r},this.isInViewport=function(t,e){var i=n.offset(m),r=n.width(m),o=n.height(m);return i.left<=t&&t<=i.left+r&&i.top<=e&&e<=i.top+o},this.getElementPositions=function(){return tt},this.setFilter=function(t){H=t||function(t){return!1}},this.setWheelFilter=function(t){A=t||function(t){return!0}},this.setBackground=function(t){o=new{simple:e,tiled:"absolute"===t.tiling?r:i}[t.type||"simple"]({canvas:p,viewport:m,getWidth:G,getHeight:$,url:t.url,zoomWidget:u,onBackgroundReady:t.onBackgroundReady,options:t,img:t.img,resolver:t.resolver})},n.background&&this.setBackground(n.background),this.getBackground=function(){return o},this.destroy=function(){n.unbind(document,"mouseup",ct);for(var t=0;t<st.length;t++)st[t].parentNode.removeChild(st[t]);st.length=0}};var e=function(t){var e=t.canvas,n=t.onBackgroundReady||function(){},i=new Image;i.onload=function(){e.style.backgroundImage="url('"+i.src+"')",e.style.backgroundRepeat="no-repeat",e.style.width=i.width+"px",e.style.height=i.height+"px",n(this)},i.src=t.img?t.img.src:t.url,this.owns=function(t){return t===e},this.getWidth=function(){return i.width||0},this.getHeight=function(){return i.height||0},this.setZoom=this.pan=function(t){}},n=function(t){var e=this,n=t.canvas,i=t.viewport;if(null==t.options.maxZoom)throw new TypeError("Parameter `maxZoom` not set; cannot initialize TiledBackground");if(!t.options.tileSize)throw new TypeError("Parameter `tileSize not set; cannot initialize TiledBackground. It should be an array of [x,y] values.");if(!t.options.width||!t.options.height)throw new TypeError("Parameters `width` and `height` must be set");for(var r,o=(function(n){var i=document.createElement("div");i.style.position="relative",i.style.height="100%",i.style.width="100%",i.style.display="none",t.canvas.appendChild(i),this.zoom=n;var r=e.getTileSpecs(n),o=[];this.apparentZoom=Math.min(r[2],r[3]),this.setActive=function(t){i.style.display=t?"block":"none"},this.xTiles=r[0],this.yTiles=r[1];for(var s=0;s<this.xTiles;s++){o[s]=o[s]||[];for(var a=0;a<this.yTiles;a++){var l=document.createElement("img");l._tiledBg=!0,l.className="jtk-surface-tile",l.ondragstart=function(){return!1},i.appendChild(l),l.style.position="absolute",l.style.opacity=0,o[s][a]=[l,new Image,!1]}}var u=Math.pow(2,t.options.maxZoom-n)*t.options.tileSize[0],c=Math.pow(2,t.options.maxZoom-n)*t.options.tileSize[1];this.scaledImageSize=u,this.scaledImageSizeH=c;var h=function(e,i,r,o){e.style.left=r*u+"px",e.style.top=o*c+"px",e.style.width=u+"px",e.style.height=c+"px",i.onload=function(){e.setAttribute("src",i.src),e.style.opacity=1},i.src=function(e,n,i){return null==t.resolver?function(e,n,i){return t.url.replace("{z}",e).replace("{x}",n).replace("{y}",i)}(e,n,i):t.resolver(e,n,i)}(n,r,o)};this.ensureLoaded=function(t,e,n,i){for(var r=t;r<=n;r++)for(var s=e;s<=i;s++)null!=o[r]&&null!=o[r][s]&&(o[r][s][2]||(h(o[r][s][0],o[r][s][1],r,s),o[r][s][2]=!0))}}).bind(this),s=[],a=null,l=0;l<=t.options.maxZoom;l++)s.push(new o(l));n.style.width=t.options.width+"px",n.style.height=t.options.height+"px";var u=function(){var e=t.zoomWidget.getApparentCanvasLocation(),n=t.getWidth(i),o=t.getHeight(i),s=a.scaledImageSize*r,l=a.scaledImageSizeH*r,u=e[0]<0?Math.floor(-e[0]/s):e[0]<n?0:null,c=e[1]<0?Math.floor(-e[1]/l):e[1]<o?0:null,h=Math.min(a.xTiles,Math.floor((n-e[0])/s)),d=Math.min(a.yTiles,Math.floor((o-e[1])/l));null!=u&&null!=c&&a.ensureLoaded(u,c,h,d)};this.getCurrentLayer=function(){return a},this.getWidth=function(){return t.options.width},this.getHeight=function(){return t.options.height};var c=t.options.panDebounceTimeout||50,h=function(t,e){e=e||150;var n=null;return function(){window.clearTimeout(n),n=window.setTimeout(t,e)}},d=function(){var t,e;t=function(){if(r<=s[0].apparentZoom)return 0;if(r>=s[s.length-1].apparentZoom)return s.length-1;for(var t=s.length-1;t>0;t--)if(s[t].apparentZoom>=r&&r>=s[t-1].apparentZoom)return t}(),e=s[t],null!=a&&a!==e&&a.setActive(!1),e.setActive(!0),a=e,u()},p=h(d,t.options.zoomDebounceTimeout||120),f=h(u,c);this.setZoom=function(t,e){r=t,e?d():p()},this.pan=f,this.owns=function(t){return t===n||!0===t._tiledBg},this.setZoom(t.zoomWidget.getZoom(),!0),null!=t.onBackgroundReady&&setTimeout(t.onBackgroundReady,0)},i=function(t){var e=t.options.width,i=t.options.height,r=t.options.tileSize;this.getTileSpecs=function(t){var n=e>i?1:e/i,o=i>e?1:i/e,s=Math.pow(2,t+1)*r[0]*n,a=Math.pow(2,t+1)*r[1]*o;return[Math.ceil(s/r[0]),Math.ceil(a/r[1]),s/e,a/i]},n.apply(this,arguments)},r=function(t){var e=t.options.maxZoom,i=t.options.width,r=t.options.height,o=t.options.tileSize;this.getTileSpecs=function(t){var n=Math.pow(2,e-t),s=Math.ceil(i/n/o[0]),a=Math.ceil(r/n/o[1]);return[s,a,s*o[0]/i,a*o[1]/r]},n.apply(this,arguments)}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit,n=t.Renderers,i=this.jsPlumb,r=this.jsPlumbUtil,o=i.getSelector,s=t.Classes,a=t.Constants,l=t.Events;n.Surface=function(e){var u=this;n.Surface.SELECT=a.select,n.Surface.PAN=a.pan,n.Surface.DISABLED=a.disabled;var c=n.AbstractRenderer.apply(this,arguments);n.DOMElementAdapter.apply(this,arguments),this.getObjectInfo=c.getObjectInfo;var h,d=i.getElement((e=e||{}).container),p=n.createElement({position:a.relative,width:a.nominalSize,height:a.nominalSize,left:0,top:0,clazz:s.SURFACE_CANVAS},d),f=!0!==e.directRender&&!(!1===e.elementsDraggable),m=!0!==e.directRender&&!0===e.elementsDroppable,g=e.dragOptions||{},v=null!==g.grid,y=e.dropOptions||{},b=e.stateHandle,_=!1!==e.storePositionsInModel,w=e.modelLeftAttribute,C=e.modelTopAttribute,x=!0===e.directRender,E=new ZoomWidget({viewport:d,canvas:p,domElement:c.jsPlumb.getElement,addClass:c.jsPlumb.addClass,removeClass:c.jsPlumb.removeClass,offset:this.getOffset,consumeRightClick:e.consumeRightClick,bind:function(){c.jsPlumb.on.apply(c.jsPlumb,arguments)},unbind:function(){c.jsPlumb.off.apply(c.jsPlumb,arguments)},width:function(t){return c.jsPlumb.getWidth(c.jsPlumb.getElement(t))},height:function(t){return c.jsPlumb.getHeight(c.jsPlumb.getElement(t))},id:c.jsPlumb.getId,animate:function(){c.jsPlumb.animate.apply(c.jsPlumb,arguments)},dragEvents:{stop:i.dragEvents[a.stop],start:i.dragEvents[a.start],drag:i.dragEvents[a.drag]},background:e.background,padding:e.padding,panDistance:e.panDistance,directRender:x,enablePan:!x&&!1!==e.enablePan,enableWheelZoom:!x&&!1!==e.enableWheelZoom,wheelSensitivity:e.wheelSensitivity,wheelReverse:e.wheelReverse,wheelZoomMetaKey:e.wheelZoomMetaKey,wheelPan:e.wheelPan,enablePanButtons:!x&&!1!==e.enablePanButtons,enableAnimation:e.enableAnimation,clamp:e.clamp,clampZoom:e.clampZoom,clampToBackground:e.clampToBackground,clampToBackgroundExtents:e.clampToBackgroundExtents,zoom:e.zoom,zoomRange:e.zoomRange,extend:c.jsPlumb.extend,events:{pan:function(t,e,n,i,r){u.fire(l.pan,{x:t,y:e,zoom:n,oldZoom:i,event:r})},zoom:function(t,e,n,i,r){c.jsPlumb.setZoom(n),u.fire(l.zoom,{x:t,y:e,zoom:n,oldZoom:i,event:r})},mousedown:function(){i.addClass(d,s.SURFACE_PANNING),i.addClass(document.body,s.SELECT_DEFEAT)},mouseup:function(){i.removeClass(d,s.SURFACE_PANNING),i.removeClass(document.body,s.SELECT_DEFEAT)}}}),S=[],k=e.lassoSelectionFilter,P=!1!==e.autoExitSelectMode,D=new t.Widgets.Lasso({on:function(){c.jsPlumb.on.apply(c.jsPlumb,arguments)},off:function(){c.jsPlumb.off.apply(c.jsPlumb,arguments)},invert:e.lassoInvert,pageLocation:E.pageLocation,canvas:d,onStart:function(){u.setHoverSuspended(!0),S.length=0},onSelect:function(t,e,n,i){c.jsPlumb.clearDragSelection&&c.jsPlumb.clearDragSelection(),c.toolkit.clearSelection(),i&&S.length>0&&c.toolkit.removeFromSelection(S);var r=[],o=E.findIntersectingNodes(t,e,!n[0]),s=o.length;function a(t){return t.el.jtk.node||t.el.jtk.group}for(var l=0;l<s;l++)null!=k&&!1===k(a(o[l]))||(r.push(a(o[l])),c.jsPlumb.addToDragSelection&&c.jsPlumb.addToDragSelection(o[l].el));S=r,c.toolkit.addToSelection(r,i)},onEnd:function(){u.setHoverSuspended(!1),P&&u.setMode(a.pan),u.fire("lasso:end")},filter:e.lassoFilter}),A={pan:function(){D.setEnabled(!1),E.setEnabled(!0)},select:function(){c.jsPlumb.clearDragSelection&&c.jsPlumb.clearDragSelection(),D.setEnabled(!0),E.setEnabled(!1)},disabled:function(){c.jsPlumb.clearDragSelection&&c.jsPlumb.clearDragSelection(),D.setEnabled(!0),E.setEnabled(!1)}};u.bind(l.relayout,(function(t){E.relayout(u.getLayout().getExtents(),!0)})),u.bind(l.nodeRemoved,(function(t){E.remove(t.el)})),c.bindToToolkit(l.graphClearStart,(function(){E.reset()})),c.bindToToolkit(l.dataLoadStart,(function(){E.setSuspendRendering(!0)})),c.bindToToolkit(l.dataAppendStart,(function(){E.setSuspendRendering(!0)})),c.bindToToolkit(l.dataLoadEnd,(function(){E.setSuspendRendering(!1),h&&h.setVisible(!0),e.zoomToFit&&u.zoomToFit()})),c.bindToToolkit(l.dataAppendEnd,(function(){E.setSuspendRendering(!1)})),c.bindToToolkit(l.groupMemberAdded,(function(t){var e=c.nodeMap()[t.node.id];e&&E.suspend(e)})),c.bindToToolkit(l.groupMemberRemoved,(function(t){var e=c.nodeMap()[t.node.id];e&&E.restore(e)})),c.jsPlumb.setContainer(p),i.addClass(d,s.SURFACE),x&&i.addClass(d,s.SURFACE_DIRECT),!1===e.enablePan&&i.addClass(d,s.SURFACE_NO_PAN);var T=function(t,e){var n=function(t){var n=t.srcElement||t.target;n!=d&&n!=p||u.fire(e,t,u)};c.jsPlumb.on(p,t,n),c.jsPlumb.on(d,t,n)};T(l.tap,l.canvasClick),T(l.dblclick,l.canvasDblClick),c.makeDraggable=function(t,e){if(f){var n=i.getElement(t),o=c.jsPlumb.getId(n),h=c.jsPlumb.extend({},g),p=i.dragEvents[a.stop],m=i.dragEvents[a.start],v=function(t){var e=i.getDragObject(t);return{node:i.getElement(e).jtk.node,el:e}};null!=e&&c.jsPlumb.extend(h,e),h[m]=r.wrap(h[m],(function(){if(E.isPinchZooming())return!1;E.getBoundsInfo();var t=v(arguments);t.elementId=o,t.pos=i.getAbsolutePosition(n),t.domEl=n,i.addClass(d,s.SURFACE_ELEMENT_DRAGGING),i.removeClass(d.querySelectorAll("."+s.MOST_RECENTLY_DRAGGED),s.MOST_RECENTLY_DRAGGED),u.fire(l.nodeMoveStart,t)})),h[p]=r.wrap(h[p],(function(t){for(var e=function(e){i.removeClass(d,s.SURFACE_ELEMENT_DRAGGING),i.removeClass(d.querySelectorAll("."+s.MOST_RECENTLY_DRAGGED),s.MOST_RECENTLY_DRAGGED),i.addClass(e[0],s.MOST_RECENTLY_DRAGGED);try{var n={el:e[0],node:e[0].jtk.node||e[0].jtk.group,pos:[e[1].left,e[1].top],e:t.e,eventPosition:t.pos};if(!e[0]._droppedOnGroup){var r=n.node.group?n.node.group.layout:u.getLayout();h.magnetize&&!n.node.group?n.pos=r.setMagnetizedPosition(n.node.id,n.pos[0],n.pos[1],!0):r.setPosition(n.node.id,n.pos[0],n.pos[1],!0),E.positionChanged(e[0]),!1!==_&&(u.storePositionInModel({id:n.node.id,leftAttribute:w,topAttribute:C}),c.toolkit.fire(l.nodeUpdated,{node:n.node},null))}u.fire(l.nodeMoveEnd,n)}catch(o){jsPlumbUtil.log("could not process dragged node",o)}delete e[0]._droppedOnGroup},n=0;n<t.selection.length;n++)e(t.selection[n])})),h.canDrag=function(){return!D.isActive()},h.force=!0,c.jsPlumb.draggable(n,h,!1,c.jsPlumb)}},c.makeDroppable=function(t,e){if(m){var n=i.getElement(t),o=c.jsPlumb.extend({},y);null!=e&&c.jsPlumb.extend(o,e),o[a.drop]=r.wrap(o[a.drop],(function(t){t.drag.el.jtk&&t.drag.el.jtk.node&&u.fire(l.nodeDropped,{source:t.drag.el.jtk.node,sourceElement:t.drag.el,target:t.drop.el.jtk.node,targetElement:t.drop.el,e:t.e})})),c.jsPlumb.droppable(n,o)}},this.snapToGrid=function(t,e,n){var i;1===arguments.length||3===arguments.length?(s=this.getObjectInfo(arguments[0])).el&&(i=this.getJsPlumb().snapToGrid(s.el,e,n)):i=this.getJsPlumb().snapToGrid(arguments[0],arguments[1]);for(var r=this.getLayout(),o=0;o<i.length;o++){var s,a=(s=this.getObjectInfo(i[o][0])).id,l=i[o][1];r.setPosition(a,l[0],l[1]),E.positionChanged(s.el,l),_&&this.storePositionInModel(a)}return i},c.doImport=function(t){e.jsPlumbInstance.setContainer(p);var n=e.jsPlumbInstance.getManagedElements();for(var i in n)I(n[i].el,i)};var I=this.importNode=(function(t,n){var r=e.jsPlumbInstance.getId(t);i.addClass(t,s.NODE),f&&!i.isAlreadyDraggable(t)&&c.makeDraggable(t),c.nodeMap()[n]=t,c.reverseNodeMap()[r]=t.jtk.node;var o={node:t.jtk.node,el:t,id:t.jtk.node.id};(null==t.jtk.node.group||c.isIgnoreGroups())&&u.getLayout().nodeAdded(o),u.fire(l.nodeAdded,o)}).bind(this);function j(t){return null==t?null:"string"==typeof t?this.getRenderedConnection(t):t.constructor==i.Connection?t:u.getRenderedConnection(t.getId())}function O(){if(!c.jsPlumb.startEditing)throw new TypeError("Connection editors not available.")}this.zoomToSelection=function(t){var e=(t=t||{}).selection||(t.filter?c.toolkit.filter(t.filter):c.toolkit.getSelection()),n=[];e.eachNode((function(t,e){n.push(c.getElement(e.id))})),e.eachGroup((function(t,e){n.push(c.getElement(e.id))})),n.length>0&&E.zoomToElements({elements:n,fill:t.fill,doNotZoomIfVisible:t.doNotZoomIfVisible,doNotAnimate:t.doNotAnimate})},this.animateToSelection=function(t){this.zoomToSelection(jsPlumb.extend(t||{},{doNotAnimate:!1}))},this.zoomToBackground=E.zoomToBackground,this.zoomToVisible=function(t){(t=i.extend({},t||{})).selection=c.toolkit.filter((function(t){return"Node"===t.objectType&&this.isVisible(t)}).bind(this)),this.zoomToSelection(t)},this.zoomToVisibleIfNecessary=function(t){var e=i.extend(t||{});e.doNotZoomIfVisible=!0,this.zoomToVisible(e)},this.zoomToFit=E.zoomToFit,this.zoomToFitIfNecessary=E.zoomToFitIfNecessary,this.centerOn=function(t,e){var n=this.getObjectInfo(t);n&&n.el&&E.centerOn(n.el,e)},this.centerOnHorizontally=function(t){this.centerOn(t,{vertical:!1})},this.centerOnVertically=function(t){this.centerOn(t,{horizontal:!1})},this.centerOnAndZoom=function(t,e){var n=this.getObjectInfo(t);n&&n.el&&E.centerOnAndZoom(n.el,e)},this.centerContent=E.centerContent,this.centerContentHorizontally=E.centerContentHorizontally,this.centerContentVertically=E.centerContentVertically,this.getViewportCenter=E.getViewportCenter,this.setViewportCenter=E.setViewportCenter,this.setSize=function(t,e,n){var i=u.getRenderedNode(t)||u.getRenderedGroup(t);if(null!=i){var r=i.jtk.group||i.jtk.node;r&&(r.group?r.group.layout:u.getLayout()).setSize(r.getFullId(),[e,n]),E.setSize(c.jsPlumb.getId(i),e,n)}},this.setStateHandle=function(t){b=t},this.getStateHandle=function(){return b},this.setLassoSelectionFilter=function(t){k=t},this.getApparentCanvasLocation=E.getApparentCanvasLocation,this.setApparentCanvasLocation=E.setApparentCanvasLocation,this.getBoundsInfo=E.getBoundsInfo,this.setZoom=E.setZoom,this.setZoomRange=E.setZoomRange,this.getZoomRange=E.getZoomRange,this.getZoom=E.getZoom,this.nudgeZoom=E.nudgeZoom,this.nudgeWheelZoom=E.nudgeWheelZoom,this.pageLocation=E.pageLocation,this.getPan=E.getPan,this.pan=E.pan,this.setPan=E.setPan,this.startEditing=function(t,e){O();var n=j(t);null!=n&&c.jsPlumb.startEditing(n,e)},this.stopEditing=function(){O(),c.jsPlumb.stopEditing()},this.clearEdits=function(t){O();var e=j(t);null!=e&&c.jsPlumb.clearEdits(e)},c.jsPlumb.bind("startConnectionEdit",(function(){console.log("start connection edit")})),c.jsPlumb.bind("clearConnectionEdits",(function(){console.log("clear connection edits")})),c.jsPlumb.bind("stopConnectionEdit",(function(){console.log("stop connection edit")})),this.setPanAndZoom=function(t,e,n,i){this.setPan(t,e,!i),this.setZoom(n,!i)},this.setPanFilter=function(t){E.setFilter(t?function(e,n){return"function"==typeof t?t.apply(t,[n]):r.matchesSelector(e,t)}:null)},this.setWheelFilter=function(t){E.setWheelFilter((function(e){return!t||!r.matchesSelector(e.srcElement||e.target,t)}))},this.setWheelFilter(e.wheelFilter),this.setPanFilter(e.panFilter),this.mapLocation=E.mapLocation,this.mapEventLocation=E.mapEventLocation,this.findNearbyNodes=E.findNearbyNodes,this.findIntersectingNodes=E.findIntersectingNodes,this.findIntersectingGroups=function(t,e,n,i){return E.findIntersectingNodes(t,e,n,i,c.reverseGroupMap())},this.isInViewport=E.isInViewport,this.getViewportCenter=E.getViewportCenter,this.positionElementAt=E.positionElementAt,this.positionElementAtEventLocation=E.positionElementAtEventLocation,this.positionElementAtPageLocation=E.positionElementAtPageLocation,this.setFilter=E.setFilter,this.floatElement=E.floatElement,this.fixElement=E.fixElement;var M=this.setPosition,R=this.animateToPosition,N=function(t,e,n){t&&(E.positionChanged(t.el,[e,n]),u.fire(l.nodeMoveEnd,{el:t.el,id:t.id,pos:[e,n],node:t.obj||(t.el.jtk?t.el.jtk.node||t.el.jtk.group:{}),bounds:E.getBoundsInfo()}))};this.setPosition=function(t,e,n,i,r){var o=M.apply(this,arguments);N(o,e,n),v&&this.snapToGrid(o.el)},this.animateToPosition=function(t,e,n,i){var r=R.apply(this,arguments);N(r,e,n)},this.tracePath=function(t){var e,n,r=t.path||(e=c.getObjectInfo(t.source),n=c.getObjectInfo(t.target),c.toolkit.getPath({source:e,target:n}));if(r.exists()){var o=(function(e,n){this.fire(e,{edge:n.edge,connection:n,options:t.options})}).bind(this),s=[],a=null,l=null,u=r.path.path.length;r.eachEdge((function(t,e){c.getConnectionForEdge(e).addClass("jtk-animate-edge-traversable")}));for(var h=1;h<u;h++){var d=r.path.previous[r.path.path[h].vertex.id],p=!0,f=r.path.path[h].edge;null!=d&&(p=d===f.source),l=(a=c.getConnectionForEdge(f)).animateOverlay(t.overlay,i.extend(t.options||{},{previous:l,isFinal:h===u-1,forwards:p})),s.push({handler:l,connection:a})}return s.length>0&&(s[0].handler.bind(jsPlumbToolkit.Events.startOverlayAnimation,(function(){o(jsPlumbToolkit.Events.startOverlayAnimation,s[0].connection)})),s[s.length-1].handler.bind(jsPlumbToolkit.Events.endOverlayAnimation,(function(){r.eachEdge((function(t,e){var n=c.getConnectionForEdge(e);n.removeClass("jtk-animate-edge-traversable"),n.removeClass("jtk-animate-edge-traversed")})),o(jsPlumbToolkit.Events.endOverlayAnimation,s[s.length-1].connection)}))),!0}return c.toolkit.isDebugEnabled()&&jsPlumbUtil.log("Cannot trace non existent path"),!1},this.getNodePositions=function(){var t={},e=E.getElementPositions();for(var n in e){var i=c.getNodeForElementId(n)||c.getGroupForElementId(n);i&&(t[i.id]=[e[n][0][0],e[n][0][1]])}return t},this.append=function(t,e,n,i){p.appendChild(t),n&&(n=[n.left,n.top]),E.add(t,e,n,i)},this.nodeAppendedToGroup=function(t,e,n){E.suspend(t)},this.nodeRemovedFromGroup=function(t){E.restore(t)};var F=this.setLayout;this.setLayout=function(t,e){F.apply(this,[t,e]),h&&h.setHostLayout(this.getLayout())};for(var L=function(t){c.jsPlumb.on(p,t,".jtk-node, .jtk-node *",(function(e){var n=e.srcElement||e.target;if(null==n&&(n=(e=i.getOriginalEvent(e)).srcElement||e.target),null!=n&&n.jtk){var r=i.extend({e,el:n},n.jtk);u.fire(t,r,e)}}))},V=0;V<n.mouseEvents.length;V++)L(n.mouseEvents[V]);c.bindToToolkit(a.select,(function(t){if(t.obj.objectType==a.nodeType||t.obj.objectType==a.groupType){var e=c.getElement(t.obj.id);e&&(i.addClass(e,s.SURFACE_SELECTED_ELEMENT),c.jsPlumb.addToDragSelection&&c.jsPlumb.addToDragSelection(e))}else if(t.obj.objectType==a.edgeType){var n=c.getConnectionForEdge(t.obj);n&&n.addClass(s.SURFACE_SELECTED_CONNECTION)}})),c.bindToToolkit(l.selectionCleared,(function(){c.jsPlumb.clearDragSelection&&c.jsPlumb.clearDragSelection(),i.removeClass(o("."+s.SURFACE_SELECTED_CONNECTION),s.SURFACE_SELECTED_CONNECTION),i.removeClass(o("."+s.SURFACE_SELECTED_ELEMENT),s.SURFACE_SELECTED_ELEMENT)})),c.bindToToolkit(l.deselect,(function(t){if(t.obj.objectType==a.nodeType||t.obj.objectType==a.groupType){var e=c.getElement(t.obj.id);e&&(i.removeClass(e,s.SURFACE_SELECTED_ELEMENT),c.jsPlumb.removeFromDragSelection&&c.jsPlumb.removeFromDragSelection(e))}else if(t.obj.objectType==a.edgeType){var n=c.getConnectionForEdge(t.obj);n&&n.removeClass(s.SURFACE_SELECTED_CONNECTION)}}));var z=this.setOffset;this.setOffset=function(t,e){z.apply(this,arguments),E.positionChanged(t,[e.left,e.top])},this.setMode=function(t,e,n){if(!A[t])throw new TypeError("Surface: unknown mode '"+t+"'");A[t](),t!==a.select||e||c.toolkit.clearSelection(),n&&t===a.select&&n.lassoSelectionFilter&&(k=n.lassoSelectionFilter),u.fire(l.modeChanged,t)};var U=function(t,e){var n=i.extend({},t);n.source=c.getObjectInfo(t.source).obj,n.target=c.getObjectInfo(t.target).obj,n.element=c.getObjectInfo(t.element).obj;var r=c.toolkit[e](n),o=c.getConnectionsForEdges(r);return c.jsPlumb.select({connections:o})};this.selectEdges=function(t){return U(t,"getEdges")},this.selectAllEdges=function(t){return U(t,"getAllEdges")},this.repaint=function(t){var e=c.getObjectInfo(t);if(e.el){c.jsPlumb.recalculateOffsets(e.el),c.jsPlumb.revalidate(c.jsPlumb.getId(e.el));var n=c.jsPlumb.getSize(e.el),i=e.obj.getFullId();u.setSize(i,n[0],n[1]),u.fire(l.objectRepainted,e)}},this.repaintEverything=c.jsPlumb.repaintEverything,this.setElementsDraggable=function(t){f=!1!==t},this.createMiniview=function(e){if(null!=h){var n=c.jsPlumb.getId(c.jsPlumb.getElement(e.container));if(h.getContainerId()===n)return!1}var r=i.extend({surface:u,toolkit:c.toolkit,surfaceContainerElement:d,bounds:E.getBoundsInfo(),visible:!1!==e.initiallyVisible||c.toolkit.getNodeCount()>0,layout:{type:a.mistletoeLayoutType,parameters:{layout:u.getLayout()}},typeFunction:e.typeFunction,bindToToolkit:c.bindToToolkit},e);h=new t.Renderers.Miniview(r);var o=c.nodeMap();for(var s in o)h.registerNode({el:p=o[s],node:p.jtk.node,pos:i.getAbsolutePosition(p)});var l=c.groupMap();for(var s in l){var p;h.registerNode({el:p=l[s],node:p.jtk.group,pos:i.getAbsolutePosition(p)})}return h},e.miniview&&this.createMiniview(e.miniview),this.getMiniview=function(){return h};var B=function(t,e,n){var i=c.getObjectInfo(e),r=null;return i.el&&("Port"!==!i.obj.objectType&&function(){var t=u.getRenderedEndpoint(i.obj);if(t)return r=t.setEnabled(n),!0}()||(r=c.jsPlumb["set"+t+"Enabled"](i.el,n))),r};this.setTargetEnabled=B.bind(this,"Target"),this.setSourceEnabled=B.bind(this,"Source"),this.setEnabled=function(t,e){this.setTargetEnabled(t,e),this.setSourceEnabled(t,e)},this._destroy=function(){E.destroy(),p.parentNode.removeChild(p),i.removeClass(d,s.SURFACE),i.removeClass(d,s.SURFACE_DIRECT),i.removeClass(d,s.SURFACE_NO_PAN),null!=h&&h.destroy()},this._getGroupDragArea=function(t){var e=u.getJsPlumb().getGroup(t.id);return e?e.getDragArea():null},this.State={save:function(e,n){if(n=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(t,e){return e(t)},e=2===arguments.length?arguments[0]:1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:b)try{n(u.State.serialize(),(function(n){t.util.Storage.set(a.jtkStatePrefix+e,n)}))}catch(i){r.log(s.msgCannotSaveState,i)}},serialize:function(){var t=E.getPan();t.push(E.getZoom()),t.push.apply(t,E.getTransformOrigin());var e=t.join(","),n=u.getLayout().getPositions(),i=[];for(var r in n)i.push(r+" "+n[r][0]+" "+n[r][1]);return e+","+i.join("|")},restore:function(e,n){if(n=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(t,e){return e(t)},e=2===arguments.length?arguments[0]:1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:b)try{var i=t.util.Storage.get(a.jtkStatePrefix+e);i&&n(i,u.State.deserialize)}catch(o){r.log(s.msgCannotRestoreState,o)}},deserialize:function(t){var e=t.split(",");E.setPan(parseFloat(e[0]),parseFloat(e[1])),E.setZoom(parseFloat(e[2])),E.setTransformOrigin(parseFloat(e[3]),parseFloat(e[4]));for(var n=e[5].split("|"),i=u.getLayout(),r=0;r<n.length;r++){var o=n[r].split(" ");try{u.setPosition(o[0],parseFloat(o[1]),parseFloat(o[2]))}catch(s){}}i.draw()},clear:function(e){(e=e||b)&&t.util.Storage.clear(a.jtkStatePrefix+e)},clearAll:function(){t.util.Storage.clearAll()}},u.saveState=u.State.save,u.store=t.util.Storage.set,u.retrieve=t.util.Storage.get,u.storeJSON=t.util.Storage.setJSON,u.retrieveJSON=t.util.Storage.getJSON,u.restoreState=function(t){u.State.restore(t),u.getJsPlumb().repaintEverything(),u.fire(l.stateRestored)},u.clearState=function(t){u.state.clear(t)},u.initialize(),e.zoomToFitIfNecessary?u.zoomToFitIfNecessary():e.zoomToFit&&u.zoomToFit()},t.DefaultRendererType=a.surfaceType,e.Surface=n.Surface}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbToolkit,e=t.Renderers,n=this.jsPlumbUtil,i=this.jsPlumb,r=t.Classes,o=t.Constants,s=t.Events,a=t.Attributes,l=t.Methods;e.Miniview=function(t){this.bindToolkitEvents=!1;var u=e.AbstractRenderer.apply(this,arguments),c=this;e.DOMElementAdapter.apply(this,arguments);var h=t.surface,d=i.getElement(t.container),p=e.createElement({position:o.relative,width:o.nominalSize,height:o.nominalSize,left:0,top:0,clazz:r.MINIVIEW_CANVAS},d),f=e.createElement({position:o.absolute,width:o.nominalSize,height:o.nominalSize,left:0,top:0,clazz:r.MINIVIEW_PANNER},d),m=t.bounds,g=!0===t.suspended,v=!1!==t.collapsible,y=t.typeFunction,b=null,_=!1,w=t.wheelSensitivity||10,C=new ZoomWidget({viewport:d,canvas:p,domElement:i.getElement,offset:this.getOffset,bind:function(){u.jsPlumb.on.apply(u.jsPlumb,arguments)},unbind:function(){u.jsPlumb.off.apply(u.jsPlumb,arguments)},enableWheelZoom:!1,enablePanButtons:!1,enablePan:!1,enableAnimation:!1,width:function(t){return u.jsPlumb.getWidth(u.jsPlumb.getElement(t))},height:function(t){return u.jsPlumb.getHeight(u.jsPlumb.getElement(t))},id:u.jsPlumb.getId,animate:u.jsPlumb.animate,dragEvents:{stop:i.dragEvents[o.stop],start:i.dragEvents[o.start],drag:i.dragEvents[o.drag]},extend:i.extend,events:{pan:function(){W()},mousedown:function(){i.addClass(f,r.MINIVIEW_PANNING)},mouseup:function(){i.removeClass(f,r.MINIVIEW_PANNING)}},zoomRange:[-1/0,1/0]}),x=!1,E=null,S=null,k=t.elementFilter||function(){return!0},P=function(t){x=!0,E=C.pageLocation(t),S=i.getAbsolutePosition(f),i.on(document,s.mouseup,A),i.on(document,s.mousemove,D),n.consume(t)},D=function(t){if(x){var e=C.pageLocation(t),n=[S[0]+(e[0]-E[0]),S[1]+(e[1]-E[1])];W(n),i.setAbsolutePosition(f,n)}},A=function(t){x=!1,E=null,i.off(document,s.mouseup,A),i.off(document,s.mousemove,D)},T=function(t){n.consume(t),h.nudgeWheelZoom(t.normalizedWheelDelta*w,t)};function I(t){i[(_=!_)?l.addClass:l.removeClass](d,r.MINIVIEW_COLLAPSED),j(!0)}i.on(window,s.resize,jsPlumbUtil.debounce((function(){$()}),100)),!1!==t.enableWheelZoom&&addWheelListener(d,T),C.setTransformOriginForElement(f,[0,0]),i.addClass(d,r.MINIVIEW),i.on(f,s.mousedown,P),v&&((b=i.createElement("div")).className=r.MINIVIEW_COLLAPSE,d.appendChild(b),i.on(b,o.click,I));var j=function(t){C.zoomToFit({onComplete:$,onStep:$,doNotFirePanEvent:t})};t.bindToToolkit(s.dataLoadEnd,j);var O=(function(t){var e=t.node||t.group;if(!e||!1!==k(e)){m=t.bounds;var n=u.nodeMap()[(t.node||t.group).id]||t.el;C.positionChanged(n,t.pos),i.setAbsolutePosition(n,t.pos),j(!0),this.fire(s.nodeMoveEnd,t)}}).bind(this),M=(function(t,e){var n,r=t.getNodes(),s=u.nodeMap(),a=t.layout.getPositions(),l=s[t.id];r.forEach((function(t){var e=s[t.id];C.positionChanged(e,n=a[t.id]),i.setAbsolutePosition(e,n)}));var c=i.getSize(e);l.style.width=c[0]+o.px,l.style.height=c[1]+o.px,$()}).bind(this),R=function(t,e){for(var n=t.getNodes(),i=0;i<n.length;i++){var r=u.nodeMap()[n[i].id];r&&e.appendChild(r)}},N=function(t,n){if(!(t.node&&!1===k(t.node)||t.group&&!1===k(t.group))){var s=(t.node||t.group).id,l=u.nodeMap();if(null==l[s]){var d=i.getSize(t.el),f=e.createElement({position:o.absolute,width:d[0]+o.px,height:d[1]+o.px,left:0,top:0,clazz:r.MINIVIEW_ELEMENT+(n?" "+n:"")});if(y&&f.setAttribute("jtk-miniview-type",y(t.node||t.group)),f.relatedElement=t.el,f.jtk=t.node||t.group,m=h.getBoundsInfo(),f.setAttribute(a.jtkNodeId,s),f.setAttribute(a.relatedNodeId,t.el.getAttribute(o.id)),p.appendChild(f),C.add(f),l[s]=f,t.group)R(t.group,f);else if(t.node.group){var g=l[t.node.group.id];g&&(g.appendChild(f),C.suspend(t.el))}c.getLayout().map(s,f),$()}}};this.registerNode=function(t){N(t,t.group?r.MINIVIEW_GROUP_ELEMENT:""),O(t)};var F=this.setOffset;this.setOffset=function(t,e){F.apply(this,arguments),C.positionChanged(t,[e.left,e.top])};var L=this.setAbsolutePosition;this.setAbsolutePosition=function(t,e){L.call(this,t,e),C.positionChanged(t,e)},this.setVisible=function(t){d.style.display=t?o.block:o.none},this.setVisible(!1!==t.visible),this.getPan=C.getPan;var V=function(t,e){for(var n=t.getNodes(),i=0;i<n.length;i++)u.nodeMap()[n[i].id].style.display=e?"block":"none"},z=function(t){var e=u.nodeMap()[t.id];if(e){var n=i.getSize(e.relatedElement);e.style.width=n[0]+o.px,e.style.height=n[1]+o.px,$(),y&&e.setAttribute("jtk-miniview-type",y(t.obj))}};this.invalidate=function(t){if(t)z({id:t});else{var e=u.nodeMap();for(var n in e)z({id:n})}},this.setSuspended=function(t,e){g=t,e&&this.update()},this.update=$;var U=function(t){var e=(t.node||t.group).id,n=u.nodeMap()[e],r=u.nodeMap();if(n){var o,s,a;if(t.nodes&&t.group&&!0!==t.nodesRemoved)for(var l=0;l<t.nodes.length;l++)(s=r[(o=t.nodes[l]).id])&&((a=t.nodePositions[o.id])&&(C.positionChanged(s,a),i.setAbsolutePosition(s,a)),p.appendChild(s));C.remove(n),delete r[e],u.jsPlumb.removeElement(n),j(!0)}t.dontUpdatePanner||$()},B=function(){var t,e=u.nodeMap();for(var n in e)C.remove(t=e[n]),u.jsPlumb.removeElement(t),delete e[n];$()},H=function(t){var e=(t.node||t.group).id,n=u.nodeMap()[e];n&&(n.style.display=t.state?"block":"none")};h.bind(s.pan,$),h.bind(s.zoom,$),h.bind(s.nodeMoveEnd,O),h.bind(s.nodeRemoved,U),h.bind(s.nodeAdded,N),h.bind(s.nodeRendered,N),h.bind(s.groupRelayout,M),h.bind(s.groupMoveEnd,O),h.bind(s.groupAdded,(function(t){N(t,r.MINIVIEW_GROUP_ELEMENT)})),h.bind(s.groupMoveEnd,O),h.bind(s.groupRemoved,U),h.bind(s.groupMemberAdded,(function(t){var e=u.nodeMap()[t.group.id],n=u.nodeMap()[t.node.id];e&&n&&e.appendChild(n)})),h.bind(s.groupMemberRemoved,(function(t){var e=u.nodeMap()[t.node.id];e&&p.appendChild(e)})),h.bind(s.groupCollapse,(function(t){V(t.group,!1),z({id:t.group.id})})),h.bind(s.groupExpand,(function(t){V(t.group,!0),z({id:t.group.id})})),h.bind(s.relayout,$),h.bind(s.objectRepainted,z),h.bind(s.stateRestored,$),h.bind(s.nodeVisibility,H),t.bindToToolkit(s.graphClearStart,B);var G=function(){j(!0)};function $(t){if(h&&C&&!g){m=h.getBoundsInfo();var e=h.getApparentCanvasLocation(),n=C.getApparentCanvasLocation(),r=C.getZoom()/m.zoom;f.style.width=m.vw+o.px,f.style.height=m.vh+o.px,C.applyZoomToElement(f,r);var s=[e[0]*r,e[1]*r];i.setAbsolutePosition(f,[n[0]-s[0],n[1]-s[1]])}}function W(t){if(null!=C){m=h.getBoundsInfo(),t=t||i.getAbsolutePosition(f);var e=C.getApparentCanvasLocation(),n=C.getZoom()/m.zoom,r=h.setApparentCanvasLocation((e[0]-t[0])/n,(e[1]-t[1])/n);return[e[0]-r[0]*n,e[1]-r[1]*n]}}c.getLayout().bind(s.redraw,G),this.setHostLayout=function(t){var e=c.getLayout();e&&e.setHostLayout(t)},this.setZoom=C.setZoom,this.getZoom=C.getZoom,this.getTransformOrigin=C.getTransformOrigin,this._destroy=function(){C.destroy(),i.off(f,s.mousedown,P),p.parentNode.removeChild(p),f.parentNode.removeChild(f),i.removeClass(d,r.MINIVIEW),i.removeClass(d,r.MINIVIEW_COLLAPSED),v&&(i.off(b,o.click,I),b.parentNode.removeChild(b))}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbUtil,e="ontouchstart"in document.documentElement,n=e?"touchstart":"mousedown",i=e?"touchend":"mouseup",r=e?"touchmove":"mousemove",o=function(){};this.jsPlumbToolkit.Widgets.Lasso=function(e){var s,a=e.canvas,l=!1,u={},c=[0,0],h=e.onStart||o,d=e.onEnd||o,p=e.onSelect||o,f=!1,m=!1,g=!0===e.invert,v=!!window.MSInputMethodContext&&!!document.documentMode,y=function(t,e){if(g){var n=v?(window.innerWidth+document.body.clientWidth)/2:window.innerWidth,i=window.innerHeight,r=window.pageXOffset,o=window.pageYOffset,a=i-t[1]+o,l=i-a+e[1],c=n-t[0]+r,h=n-c+e[0];u.top.style.bottom=a+"px",u.bottom.style.top=l+"px",u.left.style.right=c+"px",u.right.style.left=h+"px",u.top.style.left=n-c+"px",u.top.style.right=n-h+"px",u.bottom.style.left=n-c+"px",u.bottom.style.right=n-h+"px"}else jsPlumb.setAbsolutePosition(s,t),function(t,e){t.style.width=e[0]+"px",t.style.height=e[1]+"px"}(s,e)},b=function(t){var e=t?"block":"none";g?(u.top.style.display=e,u.left.style.display=e,u.right.style.display=e,u.bottom.style.display=e):s.style.display=e,jsPlumb[t?"addClass":"removeClass"](document.body,"jtk-lasso-select-defeat")},_=function(n){if(f){m||(b(!0),m=!0),t.consume(n);var i=e.pageLocation(n),r=[Math.abs(i[0]-c[0]),Math.abs(i[1]-c[1])],o=[Math.min(c[0],i[0]),Math.min(c[1],i[1])];y(o,r),p(o,r,[c[0]<i[0],c[1]<i[1]],n.shiftKey)}},w=function(n){f&&(f=!1,m=!1,t.consume(n),e.off(document,i,w),e.off(document,r,_),e.off(document,"onselectstart",C),b(!1),d())},C=function(){return!1},x=e.filter?function(n){return t.matchesSelector(n.srcElement||n.target,e.filter)}:function(){return!1},E=function(t){var e=document.createElement("div");return e.className=t.join(" "),document.body.appendChild(e),e};g?(u.top=E(["jtk-lasso-mask","jtk-lasso-mask-top"]),u.bottom=E(["jtk-lasso-mask","jtk-lasso-mask-bottom"]),u.left=E(["jtk-lasso-mask","jtk-lasso-mask-left"]),u.right=E(["jtk-lasso-mask","jtk-lasso-mask-right"])):s=E(["jtk-lasso"]),e.on(a,n,(function(n){l&&!x(n)&&(t.consume(n),f=!0,e.on(document,i,w),e.on(document,r,_),e.on(document,"onselectstart",C),c=e.pageLocation(n),y(c,[1,1]),h(c,n.shiftKey))})),this.isActive=function(){return f},this.setEnabled=function(t){l=t}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t,n,i,r,o,s,a,l,u,c,h,d,p=this.jsPlumb,f={},m={ok:"OK",cancel:"Cancel"},g=document.body,v=!1,y=this.Knockle.newInstance({templateResolver:function(t){return w[t]||document.getElementById(t).innerHTML}}),b={},_=!0,w={};p.ready((function(){(t=document.createElement("div")).className="jtk-dialog-underlay",p.on(t,"click",(function(){j(!0)})),(n=document.createElement("div")).className="jtk-dialog-overlay",(i=document.createElement("div")).className="jtk-dialog-title",n.appendChild(i),(r=document.createElement("div")).className="jtk-dialog-content",n.appendChild(r),(o=document.createElement("div")).className="jtk-dialog-buttons",n.appendChild(o)}));var C={x:function(t,e,i){var r=(g.clientWidth-i[0])/2,o=window.pageXOffset||t.scrollLeft||document.body.scrollLeft;r<0&&(r=10),n.style.left=r+(o=e?o:g.scrollLeft)+"px"},y:function(t,e,i){var r=.1*g.clientHeight,o=window.pageYOffset||t.scrollTop||document.body.scrollTop;r<0&&(r=10),n.style.top=r+(o=e?o:g.scrollTop)+"px"}},x=function(){if(v){var e=document.documentElement,i=p.getSize(n),r=g==document.body,o=n.getAttribute("data-axis");t.style.position=r?"fixed":"absolute",C[o](e,r,i)}},E=function(t){27==t.keyCode&&j(!0)},S=function(t,e,n){for(var i=n.querySelectorAll("[jtk-att]"),r=0;r<i.length;r++){var o=i[r].tagName.toUpperCase(),s="INPUT"===o?(i[r].getAttribute("type")||"TEXT").toUpperCase():o,a=i[r].getAttribute("jtk-att"),l=y.data(e,a);null!=l&&k[s](i[r],l),t&&i[r].getAttribute("jtk-commit")&&("INPUT"===o?p.on(i[r],"keyup",(function(t){10!==t.keyCode&&13!==t.keyCode||j()})):"TEXTAREA"===o&&p.on(i[r],"keyup",(function(t){!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||j()})))}},k={TEXT:function(t,e){t.value=e},RADIO:function(t,e){t.checked=t.value==e},CHECKBOX:function(t,e){t.checked=1==e},SELECT:function(t,e){for(var n=t.getAttribute("multiple"),i=0;i<t.options.length;i++)if(n)e.indexOf(t.options[i].value)>-1&&(t.options[i].selected=!0);else if(t.options[i].value===e)return void(t.selectedIndex=i)},TEXTAREA:function(t,e){t.value=e},COLOR:function(t,e){t.value=e},HIDDEN:function(t,e){t.value=e}},P={TEXT:function(t){return t.value},RADIO:function(t){if(t.checked)return t.value},CHECKBOX:function(t){if(t.checked)return!0},SELECT:function(t){var e=t.selectedOptions;if(t.getAttribute("multiple")){for(var n=[],i=0;i<e.length;i++)n.push(e[i].value);return n}return-1!==t.selectedIndex?t.options[t.selectedIndex].value:null},TEXTAREA:function(t){return t.value},COLOR:function(t){return t.value},HIDDEN:function(t){return t.value}},D={TEXT:function(t){t.value=""},RADIO:function(t){t.checked=!1},CHECKBOX:function(t){t.checked=!1},SELECT:function(t){t.selectedIndex=-1},TEXTAREA:function(t){t.value=""},COLOR:function(t){t.value=""},HIDDEN:function(t){t.value=""}},A=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e){var i=t[n].tagName.toUpperCase(),r="INPUT"===i?(t[n].getAttribute("type")||"TEXT").toUpperCase():i,o=D[r];o&&o(t[n])}},T=function(t){for(var e=t.querySelectorAll("[jtk-att]"),n={},i=0;i<e.length;i++){var r=e[i].tagName.toUpperCase(),o="INPUT"===r?(e[i].getAttribute("type")||"TEXT").toUpperCase():r,s=P[o](e[i]),a=e[i].getAttribute("jtk-att");if(null!=s){var l=y.data(n,a);null!=l?(jsPlumbUtil.isArray(l)||y.data(n,a,l=[l]),l.push(s)):y.data(n,a,s)}}return n},I=function(t,e){try{null!=t&&t.apply(t,Array.prototype.slice.apply(arguments,[1]))}catch(n){}},j=function(e){var i=e?null:T(r);(e||null==u||!1!==u(i))&&(v=!1,t.style.display="none",n.style.display="none",p.off(document,"keyup",E),p.off(window,"resize",x),p.off(window,"scroll",x),p.removeClass(n,"jtk-dialog-overlay-visible"),p.removeClass(n,"jtk-dialog-overlay-top"),p.removeClass(n,"jtk-dialog-overlay-bottom"),p.removeClass(n,"jtk-dialog-overlay-left"),p.removeClass(n,"jtk-dialog-overlay-right"),p.removeClass(n,"jtk-dialog-overlay-x"),p.removeClass(n,"jtk-dialog-overlay-y"),n.setAttribute("data-position",""),n.setAttribute("data-axis",""),g.removeChild(t),g.removeChild(n),function(){for(var t=o.children,e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}(),e?(I(b.onCancel,r),I(a,r)):(I(b.onOK,i,r),I(s,i,r)),I(b.onClose),I(c),s=a=l=c=u=null)};this.jsPlumbToolkit.Dialogs={initialize:function(t){if(f={},(t=t||{}).dialogs)for(var e in t.dialogs)w[e]=t.dialogs[e][0],f[e]={content:w[e],title:t.dialogs[e][1]||"",cancelable:!1!==t.dialogs[e][2]};else for(var n=p.getSelector(t.selector||".jtk-dialog"),i=0;i<n.length;i++){var r=n[i].getAttribute("id");null!=r&&(f[r]={content:n[i].innerHTML,title:n[i].getAttribute("title")||"",el:n[i],cancelable:"false"!==n[i].getAttribute("cancel")})}t.labels&&p.extend(m,t.labels),t.globals&&p.extend(b,t.globals)},show:function(e){var w;if(e.id&&f[e.id]){_=!1!==e.reposition,s=e.onOK,a=e.onCancel,l=e.onOpen,u=e.onMaybeClose,c=e.onClose;var C,k=e.position||"top",P="jtk-dialog-overlay-"+k,D="top"===k||"bottom"===k?"x":"y",T="jtk-dialog-overlay-"+D;!function(t){if(o.innerHTML="",t.buttons)for(var e,n=0;n<t.buttons.length;n++)o.appendChild(e=t.buttons[n]),"true"===e.getAttribute("jtk-commit")?p.on(e,"click",(function(){j()})):"true"===e.getAttribute("jtk-cancel")&&p.on(e,"click",(function(){j(!0)}));else(h=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-ok",h.innerHTML=m.ok,o.appendChild(h),p.on(h,"click",(function(){j()})),(d=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-cancel",d.innerHTML=m.cancel,d.setAttribute("jtk-cancel","true"),o.appendChild(d),p.on(d,"click",(function(){j(!0)})),h.innerHTML=t.labels&&t.labels.ok||m.ok,d.innerHTML=t.labels&&t.labels.cancel||m.cancel}(e),g=null==(C=e.container)?document.body:"string"==typeof C?document.getElementById(C):C;var I=e.data||{},O=y.template(e.id,I);i.innerHTML=e.title||f[e.id].title||"",r.innerHTML="";var M=O.childNodes.length;for(w=0;w<M;w++)r.appendChild(O.childNodes[0]);g.appendChild(t),g.appendChild(n),p.addClass(n,P),p.addClass(n,T),t.style.display="block",n.style.display="block",n.setAttribute("data-position",k),n.setAttribute("data-axis",D);var R=f[e.id].cancelable?"visible":"hidden",N=o.querySelectorAll("[jtk-cancel='true']");for(w=0;w<N.length;w++)N[w].style.visibility=R;v=!0,x(),S(!0,I,r),p.on(document,"keyup",E),_&&(p.on(window,"resize",x),p.on(window,"scroll",x)),p.on(n,"click","[jtk-clear]",(function(t){var e=this.getAttribute("jtk-att");e&&A(n.querySelectorAll("[jtk-att='"+e+"']:not([jtk-clear])"),this)})),p.on(n,"click","[jtk-clear-all]",(function(t){A(n.querySelectorAll("[jtk-att]:not([jtk-clear])"),this)})),b.onOpen&&b.onOpen(n),l&&l(n),p.addClass(n,"jtk-dialog-overlay-visible");try{var F=r.querySelector("[jtk-focus]");F&&setTimeout((function(){F.focus()}),0)}catch(L){}}},hide:function(){j(!0)},clear:A,apply:S.bind(null,!1),extract:T},e.Dialogs=this.jsPlumbToolkit.Dialogs}).call("undefined"!=typeof window?window:this),(function(){"use strict";this.jsPlumbToolkit.DrawingTools=function(t){var e,n,i=t.renderer,r=i.getToolkit(),o=i.getJsPlumb(),s={},a=t.widthAttribute||"w",l=t.heightAttribute||"h",u=t.leftAttribute||"left",c=t.topAttribute||"top",h=t.onEdit||function(){},d=function(){for(var t in s){var e=s[t];e[0]&&e[0].parentNode&&e[0].parentNode.removeChild(e[0]),delete s[t]}};this.reset=d;var p,f,m,g,v,y,b,_=function(t,e,n,i){var r=document.createElement(t);if(e&&(r.className=e),n&&n.appendChild(r),i)for(var o in i)r.setAttribute(o,i[o]);return r},w=function(t,e){var n,i,r=e.getRenderedNode(t.id)||e.getRenderedGroup(t.id);return(i=s[n=t.id])&&i[0]&&i[0].parentNode&&i[0].parentNode.removeChild(i[0]),delete s[n],r},C=function(t,i,r,o){var s={};return s[a]=e?r:v-g,s[l]=n?o:b-y,s[u]=e?t:g,s[c]=n?i:y,s},x={tl:function(t,e){var n=g+t,i=y+e,r=v-n,o=b-i;return n>=v&&(r=n-v,n=v),i>=b&&(o=i-b,i=b),C(n,i,r,o)},tr:function(t,e){var n=v-g+t,i=y+e,r=b-i,o=g;return n<=0&&(o=g+n,n*=-1),i>=b&&(r=i-b,i=b),C(o,i,n,r)},bl:function(t,e){var n=g+t,i=b-y+e,r=v-n,o=y;return n>=v&&(r=n-v,n=v),i<=0&&(o+=i,i*=-1),C(n,o,r,i)},br:function(t,e){var n=v-g+t,i=b-y+e,r=g,o=y;return n<=0&&(r=g+n,n*=-1),i<=0&&(o+=i,i*=-1),C(r,o,n,i)}};r.bind("selectionCleared",(function(){d()})),r.bind("select",(function(t){!function(t,e){var n=w(t,e);if(null!=n){var i=_("div","jtk-draw-skeleton",n),r=n.getAttribute("jtk-x-resize"),o=n.getAttribute("jtk-y-resize");_("div","jtk-draw-drag",i),_("div","jtk-draw-handle jtk-draw-handle-tl",i,{"data-dir":"tl","data-node-id":t.id}),_("div","jtk-draw-handle jtk-draw-handle-tr",i,{"data-dir":"tr","data-node-id":t.id}),_("div","jtk-draw-handle jtk-draw-handle-bl",i,{"data-dir":"bl","data-node-id":t.id}),_("div","jtk-draw-handle jtk-draw-handle-br",i,{"data-dir":"br","data-node-id":t.id}),s[t.id]=[i,"false"!==r,"false"!==o]}}(t.obj,i)})),r.bind("deselect",(function(t){w(t.obj,i)}));var E=function(t){var e=i.mapEventLocation(t),n=f(e.left-p.left,e.top-p.top,"");r.update(m,n),i.setPosition(m,n[u],n[c],!0)},S=function(t){i.storePositionInModel(m.id),o.removeClass(document.body,"jtk-drag-select-defeat"),o.off(document,"mousemove",E),o.off(document,"mouseup",S),jsPlumbUtil.consume(t),h(m)};o.on(document,"mousedown",".jtk-draw-handle",(function(t){var a=this.getAttribute("data-dir"),l=this.getAttribute("data-node-id");m=r.getNode(l)||r.getGroup(l),e=s[l][1],n=s[l][2],p=i.mapEventLocation(t);var u=i.getCoordinates(m);v=(g=u.x)+u.w,b=(y=u.y)+u.h,f=x[a],o.addClass(document.body,"jtk-drag-select-defeat"),o.on(document,"mousemove",E),o.on(document,"mouseup",S)}))},e.DrawingTools=this.jsPlumbToolkit.DrawingTools}).call("undefined"!=typeof window?window:this)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=r?r.length:0;for(;n;)n.remove(this),n=++a<c&&r[a]||null;if(i(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?p(d.errors):[d]}if(l(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new m(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends m{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(i((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof m)return t;if(t[f])return t[f]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}x.prototype=Object.create(Error.prototype);const E=x;class S extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class k extends m{constructor(t){super(t),this.destination=t}}let P=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new k(this)}lift(t){const e=new D(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new D(t,e),t})();class D extends P{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class T extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const I=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},j=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const M=O(),R=t=>e=>{const n=t[M]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},N=t=>e=>{const n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function L(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const V=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[v])return N(t);if(F(t))return I(t);if(L(t))return j(t);if(t&&"function"==typeof t[M])return R(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function z(t,e,n,i,r=new T(t,n,i)){if(!r.closed)return V(e)(r)}class U extends m{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(t,e))}}class H{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new G(t,this.project,this.thisArg))}}class G extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function $(t,e){return new w(e?n=>{const i=new d;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:I(t))}function W(t,e){if(!e)return t instanceof w?t:new w(V(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>{const r=t[v]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:N(t))}(t,e);if(L(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:j(t))}(t,e);if(F(t))return $(t,e);if(function(t){return t&&"function"==typeof t[M]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[M](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i}:R(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(q((n,i)=>W(t(n,i)).pipe(B((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new Y(t,n)))}class Y{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Z(t,this.project,this.concurrent))}}class Z extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new T(this,void 0,void 0);this.destination.add(i),z(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(t){return t}function K(t=Number.POSITIVE_INFINITY){return q(X,t)}function Q(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return A(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:K(e)($(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new et(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class et extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class rt extends k{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new P}function st(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,it);return i.source=e,i.subjectFactory=n,i}}(ot)(t))}const at="__annotations__",lt="__parameters__",ut="__prop__metadata__";function ct(t,e,n,i,r){const o=ht(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return r&&r(n,...t),(n.hasOwnProperty(at)?n[at]:Object.defineProperty(n,at,{value:[]})[at]).push(e),i&&i(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function ht(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function dt(t,e,n){const i=ht(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(lt)?t[lt]:Object.defineProperty(t,lt,{value:[]})[lt];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function pt(t,e,n,i){const r=ht(e);function o(...t){if(this instanceof o)return r.apply(this,t),this;const e=new o(...t);return function(n,r){const o=n.constructor,s=o.hasOwnProperty(ut)?o[ut]:Object.defineProperty(o,ut,{value:{}})[ut];s[r]=s.hasOwnProperty(r)&&s[r]||[],s[r].unshift(e),i&&i(n,r,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}const ft=dt("Inject",t=>({token:t})),mt=dt("Optional"),gt=dt("Self"),vt=dt("SkipSelf");var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function bt(t){for(let e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function _t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){const e=t[Ct];return e&&e.token===t?e:null}const Ct=bt({ngInjectableDef:bt});function xt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(xt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const Et=bt({__forward_ref__:bt});function St(t){return t.__forward_ref__=St,t.toString=function(){return xt(this())},t}function kt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(Et)&&e.__forward_ref__===St?e():t}const Pt="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,It=Pt||Tt||Dt||At;class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=_t({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ot=new jt("INJECTOR",-1),Mt=new Object,Rt="ngTempTokenPath",Nt="ngTokenPath",Ft=/\n/gm,Lt="\u0275",Vt="__source",zt=bt({provide:String,useValue:bt});let Ut,Bt=void 0;function Ht(t){const e=Bt;return Bt=t,e}function Gt(t,e=yt.Default){if(void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?function(t,e,n){const i=wt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&yt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${xt(t)}]`)}(t,0,e):Bt.get(t,e&yt.Optional?null:void 0,e)}function $t(t,e=yt.Default){return(Ut||Gt)(t,e)}const Wt=$t;function qt(t){const e=[];for(let n=0;n<t.length;n++){const i=kt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=yt.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof mt||"Optional"===r.ngMetadataName||r===mt?n|=yt.Optional:r instanceof vt||"SkipSelf"===r.ngMetadataName||r===vt?n|=yt.SkipSelf:r instanceof gt||"Self"===r.ngMetadataName||r===gt?n|=yt.Self:t=r instanceof ft||r===ft?r.token:r}e.push($t(t,n))}else e.push($t(i))}return e}class Yt{get(t,e=Mt){if(e===Mt){const e=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Zt(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Lt?t.substr(2):t;let r=xt(e);if(e instanceof Array)r=e.map(xt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):xt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Ft,"\n  ")}`}class Xt{}class Kt{}function Qt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const te=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ee=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ne=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))(),ie="ngDebugContext",re="ngOriginalError",oe="ngErrorLogger";function se(t){return t[ie]}function ae(t){return t[re]}function le(t,...e){t.error(...e)}class ue{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[oe]||le}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?se(t)?se(t):this._findContext(ae(t)):null}_findOriginalError(t){let e=ae(t);for(;e&&ae(e);)e=ae(e);return e}}let ce=!0,he=!1;function de(){return he=!0,ce}class pe{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const fe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,me=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ge(t){return(t=String(t)).match(fe)||t.match(me)?t:(de()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ve(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ye(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const be=ve("area,br,col,hr,img,wbr"),_e=ve("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),we=ve("rp,rt"),Ce=ye(we,_e),xe=ye(be,ye(_e,ve("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ye(we,ve("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ce),Ee=ve("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Se=ve("srcset"),ke=ye(Ee,Se,ve("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ve("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pe=ve("script,style,template");class De{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!xe.hasOwnProperty(e))return this.sanitizedSomething=!0,!Pe.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!ke.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Ee[o]&&(s=ge(s)),Se[o]&&(i=s,s=(i=String(i)).split(",").map(t=>ge(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ie(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();xe.hasOwnProperty(e)&&!be.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ie(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Te=/([^\#-~ |!])/g;function Ie(t){return t.replace(/&/g,"&amp;").replace(Ae,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Te,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let je;function Oe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Me=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Re{}const Ne=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Fe=/^url\(([^)]+)\)$/,Le=/([A-Z])/g;function Ve(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let ze=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ue(),t})();const Ue=(...t)=>{},Be=Function;function He(t){return"function"==typeof t}const Ge=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,$e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,We=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,qe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ye{constructor(t){this._reflect=t||It.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]&&t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}_ownParameters(t,e){if(function(t){return Ge.test(t)||qe.test(t)||$e.test(t)&&!We.test(t)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const n=t.ctorParameters;if(n&&n!==e.ctorParameters){const t="function"==typeof n?n():n,e=t.map(t=>t&&t.type),i=t.map(t=>t&&Ze(t.decorators));return this._zipTypesAndAnnotations(e,i)}const i=t.hasOwnProperty(lt)&&t[lt],r=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return r||i?this._zipTypesAndAnnotations(r,i):new Array(t.length).fill(void 0)}parameters(t){if(!He(t))return[];const e=Xe(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Ze(t.decorators):t.hasOwnProperty(at)?t[at]:null}annotations(t){if(!He(t))return[];const e=Xe(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Ze(e[t])}),n}return t.hasOwnProperty(ut)?t[ut]:null}propMetadata(t){if(!He(t))return{};const e=Xe(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...i[t]),n[t]=e}),n}ownPropMetadata(t){return He(t)&&this._ownPropMetadata(t,Xe(t))||{}}hasLifecycleHook(t,e){return t instanceof Be&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${xt(t)}`}resourceUri(t){return`./${xt(t)}`}resolveIdentifier(t,e,n,i){return i}resolveEnum(t,e){return t[e]}}function Ze(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Xe(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Ke=bt({provide:String,useValue:bt}),Qe=[];function Je(t,e){if(!e){const e=(new Ye).parameters(t);return()=>new t(...qt(e))}if(Ke in e){const t=e;return()=>t.useValue}if(e.useExisting){const t=e;return()=>$t(t.useExisting)}if(e.useFactory){const t=e;return()=>t.useFactory(...qt(t.deps||Qe))}if(e.useClass){const n=e;let i=e.deps;if(!i){const e=new Ye;i=e.parameters(t)}return()=>new n.useClass(...qt(i))}{let n=e.deps;if(!n){const e=new Ye;n=e.parameters(t)}return()=>new t(...qt(n))}}const tn=ct("Injectable",void 0,void 0,void 0,(t,e)=>en(t,e)),en=function(t,e){e&&void 0!==e.providedIn&&!wt(t)&&(t.ngInjectableDef=_t({token:t,providedIn:e.providedIn,factory:Je(t,e)}))},nn=new jt("The presence of this token marks an injector as being the root injector."),rn=function(t,e,n){return new hn(t,e,n)};let on=(()=>{class t{static create(t,e){return Array.isArray(t)?rn(t,e,""):rn(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Mt,t.NULL=new Yt,t.ngInjectableDef=_t({token:t,providedIn:"any",factory:()=>$t(Ot)}),t.__NG_ELEMENT_ID__=-1,t})();const sn=function(t){return t},an=[],ln=sn,un=function(){return Array.prototype.slice.call(arguments)},cn="\u0275";class hn{constructor(t,e=on.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(on,{token:on,fn:sn,deps:an,value:this,useNew:!1}),i.set(Ot,{token:Ot,fn:sn,deps:an,value:this,useNew:!1}),function t(e,n){if(n)if((n=kt(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw pn("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw pn("Unexpected provider",n);{let t=kt(n.provide);const i=function(t){const e=function(t){let e=an;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=kt(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof mt||n==mt?i|=1:n instanceof vt||n==vt?i&=-3:n instanceof gt||n==gt?i&=-5:r=n instanceof ft?n.token:kt(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:kt(t.useExisting),options:6}];else if(!(n||zt in t))throw pn("'deps' required",t);return e}(t);let n=sn,i=an,r=!1,o=kt(t.provide);if(zt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=kt(t.useClass);else{if("function"!=typeof o)throw pn("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==un)throw dn(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:un,value:an});i.deps.push({token:t=n,options:6})}const r=e.get(t);if(r&&r.fn==un)throw dn(t);e.set(t,i)}}}(i,t)}get(t,e,n=yt.Default){const i=this._records.get(t);try{return function t(e,n,i,r,o,s){try{return function(e,n,i,r,o,s){let a;if(!n||s&yt.SkipSelf)s&yt.Self||(a=r.get(e,o,yt.Default));else{if((a=n.value)==ln)throw Error(cn+"Circular dependency");if(a===an){n.value=ln;let e=void 0,o=n.useNew,s=n.fn,l=n.deps,u=an;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?i.get(n.token):void 0;u.push(t(n.token,s,i,s||4&o?r:on.NULL,1&o?null:on.THROW_IF_NOT_FOUND,yt.Default))}}n.value=a=o?new s(...u):s.apply(e,u)}}return a}(e,n,i,r,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Rt]=a[Rt]||[]).unshift(e),n&&n.value==ln&&(n.value=an),a}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){const r=t[Rt];throw e[Vt]&&r.unshift(e[Vt]),t.message=Zt("\n"+t.message,r,"StaticInjectorError",i),t[Nt]=r,t[Rt]=null,t}(r,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(xt(n))),`StaticInjector[${t.join(", ")}]`}}function dn(t){return pn("Cannot mix multi providers and regular providers",t)}function pn(t,e){return new Error(Zt(t,e,"StaticInjectorError"))}const fn=new jt("AnalyzeForEntryComponents");let mn=null;function gn(){if(!mn){const t=It.Symbol;if(t&&t.iterator)mn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(mn=n)}}}return mn}function vn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function yn(t,e){const n=_n(t),i=_n(e);if(n&&i)return function(t,e,n){const i=t[gn()](),r=e[gn()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,yn);{const r=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!o)||vn(t,e)}}class bn{constructor(t){this.wrapped=t}static wrap(t){return new bn(t)}static unwrap(t){return bn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof bn}}function _n(t){return!!wn(t)&&(Array.isArray(t)||!(t instanceof Map)&&gn()in t)}function wn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Cn(t){return!!t&&"function"==typeof t.then}function xn(t){return!!t&&"function"==typeof t.subscribe}class En{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Sn{}class kn{}function Pn(t){const e=Error(`No component factory found for ${xt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Dn]=t,e}const Dn="ngComponent";class An{resolveComponentFactory(t){throw Pn(t)}}let Tn=(()=>{class t{}return t.NULL=new An,t})();class In{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Pn(t);return new jn(e,this._ngModule)}}class jn extends kn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function On(...t){}let Mn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Rn(t),t})();const Rn=On;class Nn{}class Fn{}const Ln=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Vn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zn(),t})();const zn=On;class Un{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Bn=new Un("8.2.6");class Hn{constructor(){}supports(t){return _n(t)}create(t){return new $n(t)}}const Gn=(t,e)=>e;class $n{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Gn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Zn(n,i,r)?e:n,s=Zn(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_n(t))throw new Error(`Error trying to diff '${xt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=this._trackByFn(e,n=t[e]),null!==r&&vn(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),vn(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[gn()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&vn(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),vn(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(vn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(vn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Wn(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Wn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&vn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Yn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new qn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zn(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Xn{constructor(){}supports(t){return t instanceof Map||wn(t)}create(){return new Kn}}class Kn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wn(t)))throw new Error(`Error trying to diff '${xt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Qn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){vn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Jn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vt,new mt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=_t({token:t,providedIn:"root",factory:()=>new t([new Hn])}),t})(),ti=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vt,new mt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=_t({token:t,providedIn:"root",factory:()=>new t([new Xn])}),t})();const ei=[new Xn],ni=new Jn([new Hn]),ii=new ti(ei);let ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oi(t,Mn),t})();const oi=On;let si=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ai(t,Mn),t})();const ai=On;function li(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return ui(n,e),n}(r,t)}function ui(t,e){t[ie]=e,t[oe]=e.logError.bind(e)}function ci(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function hi(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function di(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function pi(t,e){return t.nodes[e]}function fi(t,e){return t.nodes[e]}function mi(t,e){return t.nodes[e]}function gi(t,e){return t.nodes[e]}function vi(t,e){return t.nodes[e]}const yi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},bi=()=>{},_i=new Map;function wi(t){let e=_i.get(t);return e||(e=xt(t)+"_"+_i.size,_i.set(t,e)),e}const Ci="$$undefined",xi="$$empty";function Ei(t){return{id:Ci,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Si=0;function ki(t,e,n,i){return!(!(2&t.state)&&vn(t.oldValues[e.bindingIndex+n],i))}function Pi(t,e,n,i){return!!ki(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Di(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!yn(r,i)){const o=e.bindings[n].name;throw li(yi.createDebugContext(t,e.nodeIndex),`${o}: ${r}`,`${o}: ${i}`,0!=(1&t.state))}}function Ai(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ti(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ii(t,e,n,i){try{return Ai(33554432&t.def.nodes[e].flags?fi(t,e).componentView:t),yi.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function ji(t){return t.parent?fi(t.parent,t.parentNodeDef.nodeIndex):null}function Oi(t){return t.parent?t.parentNodeDef.parent:null}function Mi(t,e){switch(201347067&e.flags){case 1:return fi(t,e.nodeIndex).renderElement;case 2:return pi(t,e.nodeIndex).renderText}}function Ri(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Ni(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Fi(t){return 1<<t%32}function Li(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=Fi(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Vi(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Vt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:wi(n)}})}function zi(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===ee.Native?fi(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Ui=new WeakMap;function Bi(t){let e=Ui.get(t);return e||((e=t(()=>bi)).factory=t,Ui.set(t,e)),e}function Hi(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(Mi(t,t.def.lastRenderRootNode))),Gi(t,e,0,t.def.nodes.length-1,n,i,r)}function Gi(t,e,n,i,r,o,s){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&Wi(t,n,e,r,o,s),a+=n.childCount}}function $i(t,e,n,i,r,o){let s=t;for(;s&&!Ri(s);)s=s.parent;const a=s.parent,l=Oi(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Wi(a,t,n,i,r,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)qi(t,s[e],n,i,r,o)}}function Wi(t,e,n,i,r,o){if(8&e.flags)$i(t,e.ngContent.index,n,i,r,o);else{const s=Mi(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&qi(t,s,n,i,r,o),32&e.bindingFlags&&qi(fi(t,e.nodeIndex).componentView,s,n,i,r,o)):qi(t,s,n,i,r,o),16777216&e.flags){const s=fi(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Hi(s[t],n,i,r,o)}1&e.flags&&!e.element.name&&Gi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function qi(t,e,n,i,r,o){const s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}const Yi=/^:([^:]+):(.+)$/;function Zi(t){if(":"===t[0]){const e=t.match(Yi);return[e[1],e[2]]}return["",t]}function Xi(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const Ki=new Object,Qi=wi(on),Ji=wi(Ot),tr=wi(Xt);function er(t,e,n,i){return n=kt(n),{index:-1,deps:Vi(i,xt(e)),flags:t,token:e,value:n}}function nr(t,e,n=on.THROW_IF_NOT_FOUND){const i=Ht(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Qi:case Ji:case tr:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=ir(t,a)),e===Ki?void 0:e}if((l=wt(e.token))&&(r=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,o.providedIn)||"root"===o.providedIn&&r._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Ki,t._providers[n]=ir(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ht(i)}var r,o}function ir(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(nr(t,n[0]));case 2:return new e(nr(t,n[0]),nr(t,n[1]));case 3:return new e(nr(t,n[0]),nr(t,n[1]),nr(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=nr(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(nr(t,n[0]));case 2:return e(nr(t,n[0]),nr(t,n[1]));case 3:return e(nr(t,n[0]),nr(t,n[1]),nr(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=nr(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=nr(t,e.deps[0]);break;case 256:n=e.value}return n===Ki||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ki:n}function rr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Jt(n,e),yi.dirtyParentQueries(i),sr(i),i}function or(t,e,n){const i=e?Mi(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);Hi(n,2,r,o,void 0)}function sr(t){Hi(t,3,null,null,void 0)}const ar=new Object;function lr(t,e,n,i,r,o){return new ur(t,e,n,i,r,o)}class ur extends kn{constructor(t,e,n,i,r,o){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=Bi(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=yi.createRootView(t,e||[],n,r,i,ar),a=mi(s,o).instance;return n&&s.renderer.setAttribute(fi(s,0).renderElement,"ng-version",Bn.full),new cr(s,new fr(s),a)}}class cr extends Sn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Mn(fi(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new yr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function hr(t,e,n){return new dr(t,e,n)}class dr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Mn(this._data.renderElement)}get injector(){return new yr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Oi(t),t=t.parent;return t?new yr(t,e):new yr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=rr(this._data,t);yi.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new fr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;r||t instanceof jn||(r=o.get(Xt));const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,Qt(r,n,i),function(t,e){const n=ji(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),yi.dirtyParentQueries(i),or(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,r=i[e];Jt(i,e),null==n&&(n=i.length),Qt(i,n,r),yi.dirtyParentQueries(r),sr(r),or(t,n>0?i[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=rr(this._data,t);e&&yi.destroyView(e)}detach(t){const e=rr(this._data,t);return e?new fr(e):null}}function pr(t){return new fr(t)}class fr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Hi(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ai(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{yi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){yi.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),yi.destroyView(this._view)}detachFromAppRef(){this._appRef=null,sr(this._view),yi.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function mr(t,e){return new gr(t,e)}class gr extends ri{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new fr(yi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Mn(fi(this._parentView,this._def.nodeIndex).renderElement)}}function vr(t,e){return new yr(t,e)}class yr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=on.THROW_IF_NOT_FOUND){return yi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:wi(t)},e)}}function br(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=fi(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return pi(t,n.nodeIndex).renderText;if(20240&n.flags)return mi(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function _r(t){return new wr(t.renderer)}class wr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=Zi(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=Zi(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Cr(t,e,n,i){return new xr(t,e,n,i)}class xr{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=ir(t,r))}}(this)}get(t,e=on.THROW_IF_NOT_FOUND,n=yt.Default){let i=0;return n&yt.SkipSelf?i|=1:n&yt.Self&&(i|=4),nr(this,{token:t,tokenKey:wi(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Tn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${xt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==Ki){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Er=wi(Nn),Sr=wi(Vn),kr=wi(Mn),Pr=wi(si),Dr=wi(ri),Ar=wi(ze),Tr=wi(on),Ir=wi(Ot);function jr(t,e,n,i,r,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Mr(t,e|=16384,n,i,r,r,o,l,u)}function Or(t,e,n,i,r){return Mr(-1,t,e,0,n,i,r)}function Mr(t,e,n,i,r,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Li(n);l||(l=[]),a||(a=[]),o=kt(o);const d=Vi(s,xt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Xi(a),outputs:l,element:null,provider:{token:r,value:o,deps:d},text:null,query:null,ngContent:null}}function Rr(t,e){return Vr(t,e)}function Nr(t,e){let n=t;for(;n.parent&&!Ri(n);)n=n.parent;return zr(n.parent,Oi(n),!0,e.provider.value,e.provider.deps)}function Fr(t,e){const n=zr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],o=n[r.propName];if(!xn(o))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Lr(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function Lr(t,e,n){return i=>Ii(t,e,n,i)}function Vr(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return zr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const o=r.length;switch(o){case 0:return i();case 1:return i(Br(t,e,n,r[0]));case 2:return i(Br(t,e,n,r[0]),Br(t,e,n,r[1]));case 3:return i(Br(t,e,n,r[0]),Br(t,e,n,r[1]),Br(t,e,n,r[2]));default:const s=Array(o);for(let i=0;i<o;i++)s[i]=Br(t,e,n,r[i]);return i(...s)}}(t,e.parent,n,i.value,i.deps);case 2048:return Br(t,e.parent,n,i.deps[0]);case 256:return i.value}}function zr(t,e,n,i,r){const o=r.length;switch(o){case 0:return new i;case 1:return new i(Br(t,e,n,r[0]));case 2:return new i(Br(t,e,n,r[0]),Br(t,e,n,r[1]));case 3:return new i(Br(t,e,n,r[0]),Br(t,e,n,r[1]),Br(t,e,n,r[2]));default:const s=new Array(o);for(let i=0;i<o;i++)s[i]=Br(t,e,n,r[i]);return new i(...s)}}const Ur={};function Br(t,e,n,i,r=on.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const o=t;2&i.flags&&(r=null);const s=i.tokenKey;s===Ar&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Er:return _r(Hr(a,e,n));case Sr:return Hr(a,e,n).renderer;case kr:return new Mn(fi(a,e.nodeIndex).renderElement);case Pr:return fi(a,e.nodeIndex).viewContainer;case Dr:if(e.element.template)return fi(a,e.nodeIndex).template;break;case Ar:return pr(Hr(a,e,n));case Tr:case Ir:return vr(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=mi(a,t.nodeIndex);return e||(e={instance:Vr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Ri(a),e=Oi(a),a=a.parent,4&i.flags&&(a=null)}const l=o.root.injector.get(i.token,Ur);return l!==Ur||r===Ur?l:o.root.ngModule.injector.get(i.token,r)}function Hr(t,e,n){let i;if(n)i=fi(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!Ri(i);)i=i.parent;return i}function Gr(t,e,n,i,r,o){if(32768&n.flags){const e=fi(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};const e=bn.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new En(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function $r(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const o=n[r];let s=o.parent;for(!s&&o.flags&e&&qr(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=Wr(t,s,e,i)),s=s.parent}}function Wr(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&qr(t,r,e.flags&n,i++),r+=e.childCount}return i}function qr(t,e,n,i){const r=mi(t,e);if(!r)return;const o=r.instance;o&&(yi.setCurrentNode(t,e),1048576&n&&di(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&di(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Yr=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ne}),Zr={},Xr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Kr=void 0;var Qr=["en",[["a","p"],["AM","PM"],Kr],[["AM","PM"],Kr,Kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kr,"{1} 'at' {0}",Kr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const Jr="en-US";let to=Jr;function eo(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(to=t.toLowerCase().replace(/_/g,"-"))}class no extends P{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return t instanceof d&&t.add(s),s}}function io(){return this._results[gn()]()}class ro{constructor(){this.dirty=!0,this._results=[],this.changes=new no,this.length=0;const t=gn(),e=ro.prototype;e[t]||(e[t]=io)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const oo=ct("Component",(t={})=>Object.assign({changeDetection:te.Default},t),ct("Directive",(t={})=>t,void 0,void 0,(t,e)=>lo(t,e)),void 0,(t,e)=>ao(t,e)),so=pt("Input",t=>({bindingPropertyName:t})),ao=On,lo=On,uo=ct("NgModule",t=>t,void 0,void 0,(t,e)=>co(t,e)),co=function(t,e){let n=e&&e.imports||[];var i;e&&e.exports&&(n=[...n,e.exports]),t.ngInjectorDef={factory:(i={factory:Je(t,{useClass:t}),providers:e&&e.providers,imports:n}).factory,providers:i.providers||[],imports:i.imports||[]}},ho=new jt("Application Initializer");class po{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Cn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const fo=new jt("AppId");function mo(){return`${go()}${go()}${go()}`}function go(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vo=new jt("Platform Initializer"),yo=new jt("Platform ID"),bo=new jt("appBootstrapListener");class _o{log(t){console.log(t)}warn(t){console.warn(t)}}const wo=new jt("LocaleId"),Co=!1;function xo(){throw new Error("Runtime compiler is not loaded")}const Eo=xo,So=xo,ko=xo,Po=xo;class Do{constructor(){this.compileModuleSync=Eo,this.compileModuleAsync=So,this.compileModuleAndAllComponentsSync=ko,this.compileModuleAndAllComponentsAsync=Po}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ao{}let To,Io;function jo(){const t=It.wtf;return!(!t||!(To=t.trace)||(Io=To.events,0))}const Oo=jo();function Mo(t,e){return null}const Ro=Oo?function(t,e=null){return Io.createScope(t,e)}:(t,e)=>Mo,No=Oo?function(t,e){return To.leaveScope(t,e),e}:(t,e)=>e,Fo=(()=>Promise.resolve(0))();function Lo(t){"undefined"==typeof Zone?Fo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Vo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,o,s)=>{try{return Ho(e),t.invokeTask(i,r,o,s)}finally{Go(e)}},onInvoke:(t,n,i,r,o,s,a)=>{try{return Ho(e),t.invoke(i,r,o,s,a)}finally{Go(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Bo(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Uo,zo,zo);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function zo(){}const Uo={};function Bo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ho(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Go(t){t._nesting--,Bo(t)}class $o{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Wo{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),Lo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}let qo=(()=>{class t{constructor(){this._applications=new Map,Xo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xo.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class Yo{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Zo,Xo=new Yo,Ko=function(t,e,n){return t.get(Ao).createCompiler([e]).compileModuleAsync(n)},Qo=function(t){return t instanceof jn};const Jo=new jt("AllowMultipleToken");class ts{constructor(t,e){this.name=t,this.token=e}}function es(t,e,n=[]){const i=`Platform: ${e}`,r=new jt(i);return(e=[])=>{let o=ns();if(!o||o.injector.get(Jo,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(Zo&&!Zo.destroyed&&!Zo.injector.get(Jo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zo=t.get(is);const e=t.get(vo,null);e&&e.forEach(t=>t())}(on.create({providers:t,name:i}))}return function(t){const e=ns();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ns(){return Zo&&!Zo.destroyed?Zo:null}class is{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(r=e?e.ngZone:void 0)?new $o:("zone.js"===r?void 0:r)||new Vo({enableLongStackTrace:de()}),i=[{provide:Vo,useValue:n}];var r;return n.run(()=>{const e=on.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(ue,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Co&&eo(r.injector.get(wo,Jr)||Jr),r.onDestroy(()=>ss(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return Cn(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(po);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=rs({},e);return Ko(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(os);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${xt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function rs(t,e){return Array.isArray(e)?e.reduce(rs,t):Object.assign({},t,e)}let os=(()=>{class t{constructor(t,e,n,i,r,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=de(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),Lo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Q(s,a.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof kn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=Qo(n)?null:this._injector.get(Xt),r=n.create(on.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Wo,null);return o&&r.injector.get(qo).registerApplication(r.location.nativeElement,o),this._loadComponent(r),de()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,No(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ss(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bo,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ss(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ro("ApplicationRef#tick()"),t})();function ss(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class as{}const ls={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};function us(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class cs{constructor(t,e){this.name=t,this.callback=e}}class hs{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ds&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ds extends hs{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof ds&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof ds&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof ds&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ds)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const ps=new Map,fs=function(t){return ps.get(t)||null};function ms(t){ps.set(t.nativeNode,t)}const gs=es(null,"core",[{provide:yo,useValue:"unknown"},{provide:is,deps:[on]},{provide:qo,deps:[]},{provide:_o,deps:[]}]);function vs(){return ni}function ys(){return ii}function bs(t){return t?(Co&&eo(t),t):Jr}function _s(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class ws{constructor(t){}}function Cs(t,e,n,i,r,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=Li(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Bi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||bi},provider:null,text:null,query:null,ngContent:null}}function xs(t,e,n,i,r,o,s=[],a,l,u,c,h){u||(u=bi);const{matchedQueries:d,references:p,matchedQueryIds:f}=Li(n);let m=null,g=null;o&&([m,g]=Zi(o)),a=a||[];const v=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[i,r]=Zi(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];y[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,i]=Zi(t);return[n,i,e]});return h=function(t){if(t&&t.id===Ci){const e=null!=t.encapsulation&&t.encapsulation!==ee.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Si++}`:xi}return t&&t.id===xi&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:v,bindingFlags:Xi(v),outputs:y,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||bi},provider:null,text:null,query:null,ngContent:null}}function Es(t,e,n){const i=n.element,r=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!r){s=i.name?o.createElement(i.name,i.ns):o.createComment("");const r=zi(t,e,n);r&&o.appendChild(r,s)}else s=o.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===ee.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];o.setAttribute(s,e,n,t)}return s}function Ss(t,e,n,i){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=ks(t,n.nodeIndex,(o=a.eventName,(r=a.target)?`${r}:${o}`:o));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||i,a.eventName,l);t.disposables[n.outputIndex+s]=h}var r,o}function ks(t,e,n){return i=>Ii(t,e,n,i)}function Ps(t,e,n,i){if(!Pi(t,e,n,i))return!1;const r=e.bindings[n],o=fi(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){let o=t.root.sanitizer.sanitize(Me.STYLE,r);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,i,o):s.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function Ds(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Fi(e),bindings:i},ngContent:null}}function As(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Ni(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&vi(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&vi(t,n).setDirty(),n+=e.childCount}}function Ts(t,e){const n=vi(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=Is(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=mi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Is(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}i[t.propName]=e}s&&n.notifyOnChanges()}function Is(t,e,n,i,r){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[i.id];if(null!=n&&r.push(js(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=fi(t,o);if((e.childMatchedQueries&i.filterId)===i.filterId&&(Is(t,o+1,o+e.childCount,i,r),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=ji(o);s&&s===n&&Is(o,0,o.def.nodes.length-1,i,r)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Is(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(o+=e.childCount)}return r}function js(t,e,n){if(null!=n)switch(n){case 1:return fi(t,e.nodeIndex).renderElement;case 0:return new Mn(fi(t,e.nodeIndex).renderElement);case 2:return fi(t,e.nodeIndex).template;case 3:return fi(t,e.nodeIndex).viewContainer;case 4:return mi(t,e.nodeIndex).instance}}function Os(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ms(t,e,n){const i=zi(t,e,n);i&&$i(t,n.ngContent.index,1,i,null,void 0)}function Rs(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ns(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const o=zi(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Fs(t,e){return(null!=t?t.toString():"")+e.suffix}function Ls(t,e,n,i){let r=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=r,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(zs(u,t,e.length),r+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[wi(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[wi(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Vs(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Vs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||bi,updateRenderer:i||bi,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:o,lastRenderRootNode:p}}function Vs(t){return 0!=(1&t.flags)&&null===t.element.name}function zs(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Us(t,e,n,i){const r=Gs(t.root,t.renderer,t,e,n);return $s(r,t.component,i),Ws(r),r}function Bs(t,e,n){const i=Gs(t,t.renderer,null,null,e);return $s(i,n,n),Ws(i),i}function Hs(t,e,n,i){const r=e.element.componentRendererType;let o;return o=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,Gs(t.root,o,t,e.element.componentProvider,n)}function Gs(t,e,n,i,r){const o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function $s(t,e,n){t.component=e,t.context=n}function Ws(t){let e;Ri(t)&&(e=fi(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const o=n.nodes[r];let s;switch(yi.setCurrentNode(t,r),201347067&o.flags){case 1:const n=Es(t,e,o);let a=void 0;if(33554432&o.flags){const e=Bi(o.element.componentView);a=yi.createComponentView(t,o,e,n)}Ss(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?mr(t,o):void 0},16777216&o.flags&&(s.viewContainer=hr(t,o,s));break;case 2:s=Ns(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:Rr(t,o)});break;case 16:s={instance:Nr(t,o)};break;case 16384:(s=i[r])||(s={instance:Fr(t,o)}),32768&o.flags&&$s(fi(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new ro;break;case 8:Ms(t,e,o),s=void 0}i[r]=s}ea(t,ta.CreateViewNodes),oa(t,201326592,268435456,0)}function qs(t){Xs(t),yi.updateDirectives(t,1),na(t,ta.CheckNoChanges),yi.updateRenderer(t,1),ea(t,ta.CheckNoChanges),t.state&=-97}function Ys(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,hi(t,0,256),Xs(t),yi.updateDirectives(t,0),na(t,ta.CheckAndUpdate),oa(t,67108864,536870912,0);let e=hi(t,256,512);$r(t,2097152|(e?1048576:0)),yi.updateRenderer(t,0),ea(t,ta.CheckAndUpdate),oa(t,134217728,536870912,0),$r(t,8388608|((e=hi(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,hi(t,768,1024)}function Zs(t,e,n,i,r,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Ps(t,e,0,n)&&(p=!0),d>1&&Ps(t,e,1,i)&&(p=!0),d>2&&Ps(t,e,2,r)&&(p=!0),d>3&&Ps(t,e,3,o)&&(p=!0),d>4&&Ps(t,e,4,s)&&(p=!0),d>5&&Ps(t,e,5,a)&&(p=!0),d>6&&Ps(t,e,6,l)&&(p=!0),d>7&&Ps(t,e,7,u)&&(p=!0),d>8&&Ps(t,e,8,c)&&(p=!0),d>9&&Ps(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,o,s,a,l,u,c,h);case 2:return function(t,e,n,i,r,o,s,a,l,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Pi(t,e,0,n)&&(d=!0),f>1&&Pi(t,e,1,i)&&(d=!0),f>2&&Pi(t,e,2,r)&&(d=!0),f>3&&Pi(t,e,3,o)&&(d=!0),f>4&&Pi(t,e,4,s)&&(d=!0),f>5&&Pi(t,e,5,a)&&(d=!0),f>6&&Pi(t,e,6,l)&&(d=!0),f>7&&Pi(t,e,7,u)&&(d=!0),f>8&&Pi(t,e,8,c)&&(d=!0),f>9&&Pi(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Fs(n,p[0])),f>1&&(d+=Fs(i,p[1])),f>2&&(d+=Fs(r,p[2])),f>3&&(d+=Fs(o,p[3])),f>4&&(d+=Fs(s,p[4])),f>5&&(d+=Fs(a,p[5])),f>6&&(d+=Fs(l,p[6])),f>7&&(d+=Fs(u,p[7])),f>8&&(d+=Fs(c,p[8])),f>9&&(d+=Fs(h,p[9]));const m=pi(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,i,r,o,s,a,l,u,c,h);case 16384:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=mi(t,e.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&ki(t,e,0,n)&&(f=!0,m=Gr(t,d,e,0,n,m)),g>1&&ki(t,e,1,i)&&(f=!0,m=Gr(t,d,e,1,i,m)),g>2&&ki(t,e,2,r)&&(f=!0,m=Gr(t,d,e,2,r,m)),g>3&&ki(t,e,3,o)&&(f=!0,m=Gr(t,d,e,3,o,m)),g>4&&ki(t,e,4,s)&&(f=!0,m=Gr(t,d,e,4,s,m)),g>5&&ki(t,e,5,a)&&(f=!0,m=Gr(t,d,e,5,a,m)),g>6&&ki(t,e,6,l)&&(f=!0,m=Gr(t,d,e,6,l,m)),g>7&&ki(t,e,7,u)&&(f=!0,m=Gr(t,d,e,7,u,m)),g>8&&ki(t,e,8,c)&&(f=!0,m=Gr(t,d,e,8,c,m)),g>9&&ki(t,e,9,h)&&(f=!0,m=Gr(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&di(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Pi(t,e,0,n)&&(p=!0),f>1&&Pi(t,e,1,i)&&(p=!0),f>2&&Pi(t,e,2,r)&&(p=!0),f>3&&Pi(t,e,3,o)&&(p=!0),f>4&&Pi(t,e,4,s)&&(p=!0),f>5&&Pi(t,e,5,a)&&(p=!0),f>6&&Pi(t,e,6,l)&&(p=!0),f>7&&Pi(t,e,7,u)&&(p=!0),f>8&&Pi(t,e,8,c)&&(p=!0),f>9&&Pi(t,e,9,h)&&(p=!0),p){const p=gi(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=o),f>4&&(m[4]=s),f>5&&(m[5]=a),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=s),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(i);break;case 3:m=t.transform(i,r);break;case 4:m=t.transform(i,r,o);break;case 5:m=t.transform(i,r,o,s);break;case 6:m=t.transform(i,r,o,s,a);break;case 7:m=t.transform(i,r,o,s,a,l);break;case 8:m=t.transform(i,r,o,s,a,l,u);break;case 9:m=t.transform(i,r,o,s,a,l,u,c);break;case 10:m=t.transform(i,r,o,s,a,l,u,c,h)}}p.value=m}return p}(t,e,n,i,r,o,s,a,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,o,s,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)Ps(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)Pi(t,e,o,n[o])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Fs(n[t],i[t]);r=e.text.prefix+r;const o=pi(t,e.nodeIndex).renderText;t.renderer.setValue(o,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=mi(t,e.nodeIndex),r=i.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)ki(t,e,a,n[a])&&(o=!0,s=Gr(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&di(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)Pi(t,e,o,n[o])&&(r=!0);if(r){const r=gi(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let r=0;r<n.length;r++)o[i[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}r.value=o}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Xs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=fi(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,Ti(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Ks(t,e,n,i,r,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,u,c,h){const d=e.bindings.length;d>0&&Di(t,e,0,n),d>1&&Di(t,e,1,i),d>2&&Di(t,e,2,r),d>3&&Di(t,e,3,o),d>4&&Di(t,e,4,s),d>5&&Di(t,e,5,a),d>6&&Di(t,e,6,l),d>7&&Di(t,e,7,u),d>8&&Di(t,e,8,c),d>9&&Di(t,e,9,h)}(t,e,i,r,o,s,a,l,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)Di(t,e,i,n[i])}(t,e,i),!1}function Qs(t,e){if(vi(t,e.nodeIndex).dirty)throw li(yi.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Js(t){if(!(128&t.state)){if(na(t,ta.Destroy),ea(t,ta.Destroy),$r(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=ji(t);if(e){const n=e.template._projectedViews;n&&(Jt(n,n.indexOf(t)),yi.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(fi(t,n).renderElement):2&e.flags?t.renderer.destroyNode(pi(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&vi(t,n).destroy()}}(t),Ri(t)&&t.renderer.destroy(),t.state|=128}}const ta=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ea(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?ia(fi(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function na(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=fi(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ia(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ia(t,e){const n=t.state;switch(e){case ta.CheckNoChanges:0==(128&n)&&(12==(12&n)?qs(t):64&n&&ra(t,ta.CheckNoChangesProjectedViews));break;case ta.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?qs(t):64&n&&ra(t,e));break;case ta.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ys(t):64&n&&ra(t,ta.CheckAndUpdateProjectedViews));break;case ta.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ys(t):64&n&&ra(t,e));break;case ta.Destroy:Js(t);break;case ta.CreateViewNodes:Ws(t)}}function ra(t,e){na(t,e),ea(t,e)}function oa(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let o=0;o<r;o++){const r=t.def.nodes[o];if(r.flags&e&&r.flags&n)switch(yi.setCurrentNode(t,r.nodeIndex),i){case 0:Ts(t,r);break;case 1:Qs(t,r)}r.childFlags&e&&r.childFlags&n||(o+=r.childCount)}}let sa=!1;function aa(t,e,n,i,r,o){const s=r.injector.get(Fn);return Bs(ua(t,r,s,e,n),i,o)}function la(t,e,n,i,r,o){const s=r.injector.get(Fn),a=ua(t,r,new Ua(s),e,n),l=ba(i);return Va(Sa.create,Bs,null,[a,l,o])}function ua(t,e,n,i,r){const o=e.injector.get(Re),s=e.injector.get(ue),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ca(t,e,n,i){const r=ba(n);return Va(Sa.create,Us,null,[t,e,r,i])}function ha(t,e,n,i){return n=ma.get(e.element.componentProvider.provider.token)||ba(n),Va(Sa.create,Hs,null,[t,e,n,i])}function da(t,e,n,i){return Cr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===pa.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=pa.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{fa.forEach((i,r)=>{wt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=pa.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=Vi(r.deps),i.value=r.value)}if(fa.size>0){let e=new Set(t.modules);fa.forEach((i,r)=>{if(e.has(wt(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:Vi(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[wi(r)]=e}})}}(t=t.factory(()=>bi)),t):t}(i))}const pa=new Map,fa=new Map,ma=new Map;function ga(t){let e;pa.set(t.token,t),"function"==typeof t.token&&(e=wt(t.token))&&"function"==typeof e.providedIn&&fa.set(t.token,t)}function va(t,e){const n=Bi(e.viewDefFactory),i=Bi(n.nodes[0].element.componentView);ma.set(t,i)}function ya(){pa.clear(),fa.clear(),ma.clear()}function ba(t){if(0===pa.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&pa.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>bi);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=pa.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Vi(n.deps),t.value=n.value)}}}}function _a(t,e,n,i,r,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return Zs(t,p,n,i,r,o,s,a,l,u,c,h,d),224&p.flags?gi(t,e).value:void 0}function wa(t,e,n,i,r,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return Ks(t,p,n,i,r,o,s,a,l,u,c,h,d),224&p.flags?gi(t,e).value:void 0}function Ca(t){return Va(Sa.detectChanges,Ys,null,[t])}function xa(t){return Va(Sa.checkNoChanges,qs,null,[t])}function Ea(t){return Va(Sa.destroy,Js,null,[t])}const Sa=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let ka,Pa,Da;function Aa(t,e){Pa=t,Da=e}function Ta(t,e,n,i){return Aa(t,e),Va(Sa.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Ia(t,e){if(128&t.state)throw ci(Sa[ka]);return Aa(t,Ra(t,0)),t.def.updateDirectives((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?Oa(t,o,i,r):Ma(t,o,i,r),16384&o.flags&&Aa(t,Ra(t,n)),224&o.flags?gi(t,o.nodeIndex).value:void 0}),t)}function ja(t,e){if(128&t.state)throw ci(Sa[ka]);return Aa(t,Na(t,0)),t.def.updateRenderer((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?Oa(t,o,i,r):Ma(t,o,i,r),3&o.flags&&Aa(t,Na(t,n)),224&o.flags?gi(t,o.nodeIndex).value:void 0}),t)}function Oa(t,e,n,i){if(Zs(t,e,n,...i)){const s=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],a=s[t];8&i.flags&&(n[(r=i.nonMinifiedName,o=void 0,o=r.replace(/[$@]/g,"_"),`ng-reflect-${r=o.replace(Le,(...t)=>"-"+t[1].toLowerCase())}`)]=Ve(a))}const i=e.parent,a=fi(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(a,e,i):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var r,o}function Ma(t,e,n,i){Ks(t,e,n,...i)}function Ra(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Na(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Fa{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Oi(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return fi(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return vr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){La(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&La(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Ri(t);)t=t.parent;return t.parent?fi(t.parent,Oi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Mi(this.view,this.nodeDef):Mi(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let o=-1;n.factory(()=>++o===r?t.error.bind(t,...e):bi),o<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function La(t,e,n){for(let i in e.references)n[i]=js(t,e,e.references[i])}function Va(t,e,n,i){const r=ka,o=Pa,s=Da;try{ka=t;const a=e.apply(n,i);return Pa=o,Da=s,ka=r,a}catch(a){if(se(a)||!Pa)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),ui(t,e),t}(a,za())}}function za(){return Pa?new Fa(Pa,Da):null}class Ua{constructor(t){this.delegate=t}createRenderer(t,e){return new Ba(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ba{constructor(t){this.delegate=t,this.debugContextFactory=za,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=fs(t);!function(t){ps.delete(t.nativeNode)}(e),e instanceof hs&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new ds(n,null,i);e.name=t,ms(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ms(new hs(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ms(new hs(e,null,n)),e}appendChild(t,e){const n=fs(t),i=fs(e);n&&i&&n instanceof ds&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=fs(t),r=fs(e),o=fs(n);i&&r&&i instanceof ds&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=fs(t),i=fs(e);n&&i&&n instanceof ds&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=za();return i&&ms(new ds(n,null,i)),n}setAttribute(t,e,n,i){const r=fs(t);r&&r instanceof ds&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=fs(t);i&&i instanceof ds&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=fs(t);n&&n instanceof ds&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=fs(t);n&&n instanceof ds&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=fs(t);r&&r instanceof ds&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=fs(t);i&&i instanceof ds&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=fs(t);i&&i instanceof ds&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=fs(t);i&&i.listeners.push(new cs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Ha(t,e,n){return new Ga(t,e,n)}class Ga extends Kt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(sa)return;sa=!0;const t=de()?{setCurrentNode:Aa,createRootView:la,createEmbeddedView:ca,createComponentView:ha,createNgModuleRef:da,overrideProvider:ga,overrideComponentView:va,clearOverrides:ya,checkAndUpdateView:Ca,checkNoChangesView:xa,destroyView:Ea,createDebugContext:(t,e)=>new Fa(t,e),handleEvent:Ta,updateDirectives:Ia,updateRenderer:ja}:{setCurrentNode:()=>{},createRootView:aa,createEmbeddedView:Us,createComponentView:Hs,createNgModuleRef:Cr,overrideProvider:bi,overrideComponentView:bi,clearOverrides:bi,checkAndUpdateView:Ys,checkNoChangesView:qs,destroyView:Js,createDebugContext:(t,e)=>new Fa(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?_a:wa,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?_a:wa,t)};yi.setCurrentNode=t.setCurrentNode,yi.createRootView=t.createRootView,yi.createEmbeddedView=t.createEmbeddedView,yi.createComponentView=t.createComponentView,yi.createNgModuleRef=t.createNgModuleRef,yi.overrideProvider=t.overrideProvider,yi.overrideComponentView=t.overrideComponentView,yi.clearOverrides=t.clearOverrides,yi.checkAndUpdateView=t.checkAndUpdateView,yi.checkNoChangesView=t.checkNoChangesView,yi.destroyView=t.destroyView,yi.resolveDep=Br,yi.createDebugContext=t.createDebugContext,yi.handleEvent=t.handleEvent,yi.updateDirectives=t.updateDirectives,yi.updateRenderer=t.updateRenderer,yi.dirtyParentQueries=As}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(Bi(this._ngModuleDefFactory));return yi.createNgModuleRef(this.moduleType,t||on.NULL,this._bootstrapComponents,e)}}const $a=(()=>{const t=Element.prototype;return t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector})(),Wa={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return Wa.schedule(t,0);if(void 0===window.requestAnimationFrame)return Wa.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};function qa(t,e,n){let i=n;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((e,n)=>!("*"===e||!function(t,e){return $a.call(t,e)}(t,e)||(i=n,0))),i}const Ya=10;class Za{constructor(t,e){this.component=t,this.injector=e,this.componentFactory=e.get(Tn).resolveComponentFactory(t)}create(t){return new Xa(this.componentFactory,t)}}class Xa{constructor(t,e){this.componentFactory=t,this.injector=e,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.uninitializedInputs=new Set}connect(t){if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);this.componentRef||this.initializeComponent(t)}disconnect(){this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=Wa.schedule(()=>{this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},Ya))}getInputValue(t){return this.componentRef?this.componentRef.instance[t]:this.initialInputValues.get(t)}setInputValue(t,e){var n,i;this.componentRef?(n=e)===(i=this.getInputValue(t))||n!=n&&i!=i||(this.recordInputChange(t,e),this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)}initializeComponent(t){const e=on.create({providers:[],parent:this.injector}),n=function(t,e){const n=t.childNodes,i=e.map(()=>[]);let r=-1;e.some((t,e)=>"*"===t&&(r=e,!0));for(let o=0,s=n.length;o<s;++o){const t=n[o],s=qa(t,e,r);-1!==s&&i[s].push(t)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,t),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(),this.detectChanges(),this.injector.get(os).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)?this.setInputValue(t,this.initialInputValues.get(t)):this.uninitializedInputs.add(t)}),this.initialInputValues.clear()}initializeOutputs(){const t=this.componentFactory.outputs.map(({propName:t,templateName:e})=>this.componentRef.instance[t].pipe(B(t=>({name:e,value:t}))));this.events=Q(...t)}callNgOnChanges(){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,this.componentRef.instance.ngOnChanges(t)}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Wa.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(this.componentRef&&!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[t];if(n)return void(n.currentValue=e);const i=this.uninitializedInputs.has(t);this.uninitializedInputs.delete(t);const r=i?void 0:this.getInputValue(t);this.inputChanges[t]=new En(r,e,i)}detectChanges(){this.componentRef&&(this.callNgOnChanges(),this.componentRef.changeDetectorRef.detectChanges())}}class Ka extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function Qa(t,e){const n=function(t,e){return e.get(Tn).resolveComponentFactory(t).inputs}(t,e.injector),i=e.strategyFactory||new Za(t,e.injector),r=function(t){const e={};return t.forEach(({propName:t,templateName:n})=>{e[function(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(n)]=t}),e}(n);class o extends Ka{constructor(t){super(),this.ngElementStrategy=i.create(t||e.injector)}attributeChangedCallback(t,n,o,s){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.setInputValue(r[t],o)}connectedCallback(){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.connect(this),this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(t=>{const e=function(t,e,n){if("function"!=typeof CustomEvent){const i=t.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,n),i}return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,t.name,t.value);this.dispatchEvent(e)})}disconnectedCallback(){this.ngElementStrategy&&this.ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}}return o.observedAttributes=Object.keys(r),n.map(({propName:t})=>t).forEach(t=>{Object.defineProperty(o.prototype,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),o}class Ja{}const tl=new jt("Location Initialized");class el{}const nl=new jt("appBaseHref");class il{constructor(t,e){this._subject=new no,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=il.stripTrailingSlash(rl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+il.normalizeQueryParams(e))}normalize(t){return il.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,rl(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function rl(t){return t.replace(/\/index.html$/,"")}class ol extends el{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=il.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+il.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+il.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class sl extends el{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return il.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+il.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+il.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+il.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const al=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ll=function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Zr[e];if(n)return n;const i=e.split("-")[0];if(n=Zr[i])return n;if("en"===i)return Qr;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Xr.PluralCase]},ul=new jt("UseV4Plurals");class cl{}class hl extends cl{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):ll(e||this.locale)(t)){case al.Zero:return"zero";case al.One:return"one";case al.Two:return"two";case al.Few:return"few";case al.Many:return"many";default:return"other"}}}function dl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class pl{}class fl{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(_n(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${xt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let ml=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class gl extends ml{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class vl{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class yl{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){de()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new vl(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new bl(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new bl(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class bl{constructor(t,e){this.record=t,this.view=e}}class _l{constructor(t,e){this._viewContainer=t,this._context=new wl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class wl{constructor(){this.$implicit=null,this.ngIf=null}}function Cl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}class xl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class El{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Sl{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new xl(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class kl{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Pl{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Dl=new Pl,Al=new kl;class Tl{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):vn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,bn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Cn(t))return Dl;if(xn(t))return Al;throw Error(`InvalidPipeArgument: '${t}' for pipe '${xt(Tl)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class Il{}const jl=new jt("DocumentToken"),Ol="browser",Ml="server";function Rl(t){return t===Ol}function Nl(t){return t===Ml}let Fl=(()=>{class t{}return t.ngInjectableDef=_t({token:t,providedIn:"root",factory:()=>new Ll($t(jl),window,$t(ue))}),t})();class Ll{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}let Vl=null;function zl(){return Vl}class Ul{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Bl extends Ul{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Hl={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gl=3,$l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ql=(()=>{if(It.Node)return It.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Yl extends Bl{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Yl,Vl||(Vl=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Hl}contains(t,e){return ql.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Gl&&Wl.hasOwnProperty(e)&&(e=Wl[e]))}return $l[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Xl||(Xl=document.querySelector("base"))?Xl.getAttribute("href"):null;return null==e?null:(n=e,Zl||(Zl=document.createElement("a")),Zl.setAttribute("href",n),"/"===Zl.pathname.charAt(0)?Zl.pathname:"/"+Zl.pathname);var n}resetBaseElement(){Xl=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return dl(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Zl,Xl=null;function Kl(){return!!window.history.pushState}let Ql=(()=>{class t extends Ja{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=zl().getLocation(),this._history=zl().getHistory()}getBaseHrefFromDOM(){return zl().getBaseHref(this._doc)}onPopState(t){zl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){zl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Kl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Kl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[jl]}]}],t})();const Jl=new jt("TRANSITION_ID"),tu=[{provide:ho,useFactory:function(t,e,n){return()=>{n.get(po).donePromise.then(()=>{const n=zl();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Jl,jl,on],multi:!0}];class eu{static init(){var t;t=new eu,Xo=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?zl().isShadowRoot(e)?this.findTestabilityInTree(t,zl().getHost(e),!0):this.findTestabilityInTree(t,zl().parentElement(e),!0):null}}function nu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((It.ng=It.ng||{})[t]=e)}const iu=(()=>({ApplicationRef:os,NgZone:Vo}))();function ru(t){return fs(t)}const ou=new jt("EventManagerPlugins");class su{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class au{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=zl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class lu{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class uu extends lu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>zl().remove(t))}}const cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hu=/%COMP%/g,du="_nghost-%COMP%",pu="_ngcontent-%COMP%";function fu(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?fu(t,r,n):(r=r.replace(hu,t),n.push(r))}return n}function mu(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class gu{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new vu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ee.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new _u(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ee.Native:case ee.ShadowDom:return new wu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=fu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class vu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(cu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=cu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=cu[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Ln.DashCase?t.style.setProperty(e,n,i&Ln.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){bu(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return bu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mu(n)):this.eventManager.addEventListener(t,e,mu(n))}}const yu=(()=>"@".charCodeAt(0))();function bu(t,e){if(t.charCodeAt(0)===yu)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class _u extends vu{constructor(t,e,n,i){super(t),this.component=n;const r=fu(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr=pu.replace(hu,i+"-"+n.id),this.hostAttr=function(t){return du.replace(hu,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class wu extends vu{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ee.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=fu(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Cu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),xu=Cu("addEventListener"),Eu=Cu("removeEventListener"),Su={},ku="FALSE",Pu="ANGULAR",Du="addEventListener",Au="removeEventListener",Tu="__zone_symbol__propagationStopped",Iu="__zone_symbol__stopImmediatePropagation",ju=(()=>{const t="undefined"!=typeof Zone&&Zone[Cu("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Ou=function(t){return!!ju&&ju.hasOwnProperty(t)},Mu=function(t){const e=Su[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Tu];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};class Ru extends au{constructor(t,e,n){super(t),this.ngZone=e,n&&Nl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Iu])return;const t=Event.prototype[Iu]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Tu]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[xu]||Vo.isInAngularZone()&&!Ou(e))t[Du](e,i,!1);else{let n=Su[e];n||(n=Su[e]=Cu(Pu+e+ku));let r=t[n];const o=r&&r.length>0;r||(r=t[n]=[]);const s=Ou(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:s,handler:i})}o||t[xu](e,Mu,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[Eu];if(!i)return t[Au].apply(t,[e,n,!1]);let r=Su[e],o=r&&t[r];if(!o)return t[Au].apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,Mu,!1]):t[Au].apply(t,[e,n,!1])}}const Nu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Fu=new jt("HammerGestureConfig"),Lu=new jt("HammerLoader");class Vu{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class zu extends au{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!Nu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),o=function(t){i.runGuarded((function(){n(t)}))};return r.on(e,o),()=>{r.off(e,o),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Uu=["alt","control","meta","shift"],Bu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Hu extends au{constructor(t){super(t)}supports(t){return null!=Hu.parseEventName(t)}addEventListener(t,e,n){const i=Hu.parseEventName(e),r=Hu.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zl().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=Hu._normalizeKey(e.pop());let r="";if(Uu.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(t){let e="",n=zl().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Uu.forEach(i=>{i!=n&&(0,Bu[i])(t)&&(e+=i+".")}),e+=n}static eventCallback(t,e,n){return i=>{Hu.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Gu{}class $u extends Gu{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Me.NONE:return e;case Me.HTML:return e instanceof qu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{je=je||new pe(t);let i=e?String(e):"";n=je.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=je.getInertBodyElement(i)}while(i!==o);const s=new De,a=s.sanitizeChildren(Oe(n)||n);return de()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Oe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Me.STYLE:return e instanceof Yu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Fe);return e&&ge(e[1])===e[1]||t.match(Ne)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(de()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Me.SCRIPT:if(e instanceof Zu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Me.URL:return e instanceof Ku||e instanceof Xu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ge(String(e)));case Me.RESOURCE_URL:if(e instanceof Ku)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Wu)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new qu(t)}bypassSecurityTrustStyle(t){return new Yu(t)}bypassSecurityTrustScript(t){return new Zu(t)}bypassSecurityTrustUrl(t){return new Xu(t)}bypassSecurityTrustResourceUrl(t){return new Ku(t)}}class Wu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class qu extends Wu{getTypeName(){return"HTML"}}class Yu extends Wu{getTypeName(){return"Style"}}class Zu extends Wu{getTypeName(){return"Script"}}class Xu extends Wu{getTypeName(){return"URL"}}class Ku extends Wu{getTypeName(){return"ResourceURL"}}const Qu=es(gs,"browser",[{provide:yo,useValue:Ol},{provide:vo,useValue:function(){Yl.makeCurrent(),eu.init()},multi:!0},{provide:Ja,useClass:Ql,deps:[jl]},{provide:jl,useFactory:function(){return document},deps:[]}]);function Ju(){return new ue}class tc{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:tc,providers:[{provide:fo,useValue:t.appId},{provide:Jl,useExisting:fo},tu]}}}"undefined"!=typeof window&&window;const ec=new w(t=>t.complete());function nc(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):ec}function ic(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?ec:e?ic(t).pipe(B(t=>e(...t))):new w(e=>new rc(e,t))}class rc extends U{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=z(this,e[i],null,i);t&&this.add(t)}}notifyNext(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}const oc=new jt("NgValueAccessor"),sc=new jt("CompositionEventMode");class ac{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zl()?zl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class lc{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class uc extends lc{get formDirective(){return null}get path(){return null}}function cc(){throw new Error("unimplemented")}class hc extends lc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return cc()}get asyncValidator(){return cc()}}class dc{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class pc extends dc{constructor(t){super(t)}}class fc extends dc{constructor(t){super(t)}}function mc(t){return null==t||0===t.length}const gc=new jt("NgValidators"),vc=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class yc{static min(t){return e=>{if(mc(e.value)||mc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(mc(e.value)||mc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return mc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return mc(t.value)?null:vc.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(mc(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return yc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(mc(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(bc);return 0==e.length?null:function(t){return wc(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(bc);return 0==e.length?null:function(t){return ic(function(t,e){return e.map(e=>e(t))}(t,e).map(_c)).pipe(B(wc))}}}function bc(t){return null!=t}function _c(t){const e=Cn(t)?W(t):t;if(!xn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function wc(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Cc(t){return t.validate?e=>t.validate(e):t}function xc(t){return t.validate?e=>t.validate(e):t}class Ec{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Sc={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class kc{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Sc.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Sc.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Sc.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Sc.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Sc.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Sc.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Pc(t,e){return[...e.path,t]}function Dc(t,e){t||jc(e,"Cannot find control with"),e.valueAccessor||jc(e,"No value accessor for form control with"),t.validator=yc.compose([t.validator,e.validator]),t.asyncValidator=yc.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ac(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ac(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ac(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tc(t,e){null==t&&jc(e,"Cannot find control with"),t.validator=yc.compose([t.validator,e.validator]),t.asyncValidator=yc.composeAsync([t.asyncValidator,e.asyncValidator])}function Ic(t){return jc(t,"There is no FormControl instance attached to form control element with")}function jc(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Oc(t){return null!=t?yc.compose(t.map(Cc)):null}function Mc(t){return null!=t?yc.composeAsync(t.map(xc)):null}const Rc=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=vn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=vn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(hc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Nc(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Fc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lc="VALID",Vc="INVALID",zc="PENDING",Uc="DISABLED";function Bc(t){const e=Gc(t)?t.validators:t;return Array.isArray(e)?Oc(e):e||null}function Hc(t,e){const n=Gc(e)?e.asyncValidators:t;return Array.isArray(n)?Mc(n):n||null}function Gc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class $c{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Lc}get invalid(){return this.status===Vc}get pending(){return this.status==zc}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Bc(t)}setAsyncValidators(t){this.asyncValidator=Hc(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lc,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Lc&&this.status!==zc||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zc;const e=_c(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof qc?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Yc&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new no,this.statusChanges=new no}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?Vc:this._anyControlsHaveStatus(zc)?zc:this._anyControlsHaveStatus(Vc)?Vc:Lc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Wc extends $c{constructor(t=null,e,n){super(Bc(e),Hc(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class qc extends $c{constructor(t,e,n){super(Bc(e),Hc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Wc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Yc extends $c{constructor(t,e,n){super(Bc(e),Hc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Wc?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Zc=(()=>Promise.resolve(null))();class Xc extends uc{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new no,this.form=new qc({},Oc(t),Mc(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zc.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Dc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Fc(this._directives,t)})}addFormGroup(t){Zc.then(()=>{const e=this._findContainer(t.path),n=new qc({});Tc(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zc.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Zc.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Nc(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}const Kc=new jt("NgFormSelectorWarning");class Qc extends uc{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Pc(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Oc(this._validators)}get asyncValidator(){return Mc(this._asyncValidators)}_checkParentType(){}}class Jc{}const th=new jt("NgModelWithFormControlWarning");class eh extends uc{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new no}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Dc(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Fc(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Tc(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Tc(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Nc(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Ic(e)),e.valueAccessor.registerOnTouched(()=>Ic(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Dc(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Oc(this._validators);this.form.validator=yc.compose([this.form.validator,t]);const e=Mc(this._asyncValidators);this.form.asyncValidator=yc.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||kc.missingFormException()}}class nh extends Qc{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){rh(this._parent)&&kc.groupParentException()}}class ih extends uc{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Pc(this.name,this._parent)}get validator(){return Oc(this._validators)}get asyncValidator(){return Mc(this._asyncValidators)}_checkParentType(){rh(this._parent)&&kc.arrayParentException()}}function rh(t){return!(t instanceof nh||t instanceof eh||t instanceof ih)}let oh=(()=>{class t extends hc{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new no,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||jc(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{e.constructor===ac?n=e:function(t){return Rc.some(e=>t.constructor===e)}(e)?(i&&jc(t,"More than one built-in value accessor matches form control with"),i=e):(r&&jc(t,"More than one custom value accessor matches form control with"),r=e)}),r||i||n||(jc(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){kc.disabledAttrWarning()}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!vn(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,i=this._ngModelWarningConfig,de()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(kc.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Pc(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Oc(this._rawValidators)}get asyncValidator(){return Mc(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof nh)&&this._parent instanceof Qc?kc.ngModelGroupException():this._parent instanceof nh||this._parent instanceof eh||this._parent instanceof ih||kc.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class sh{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?yc.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class ah{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=yc.maxLength(parseInt(this.maxlength,10))}}class lh{}class uh{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new qc(n,{asyncValidators:r,updateOn:o,validators:i})}control(t,e,n){return new Wc(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Yc(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Wc||t instanceof qc||t instanceof Yc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class ch{static withConfig(t){return{ngModule:ch,providers:[{provide:Kc,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class hh{static withConfig(t){return{ngModule:hh,providers:[{provide:th,useValue:t.warnOnNgModelWithFormControl}]}}}function dh(t,e){return new w(e?n=>e.schedule(ph,0,{error:t,subscriber:n}):e=>e.error(t))}function ph({error:t,subscriber:e}){e.error(t)}class fh extends P{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}class mh extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class gh extends mh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class vh extends gh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let yh=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class bh extends yh{constructor(t,e=yh.now){super(t,()=>bh.delegate&&bh.delegate!==this?bh.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return bh.delegate&&bh.delegate!==this?bh.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class _h extends bh{}const wh=new _h(vh);function Ch(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function xh(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return nc(e);case 1:return e?$(t,e):Ch(t[0]);default:return $(t,e)}}let Eh=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return xh(this.value);case"E":return dh(this.error);case"C":return nc()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class Sh extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Sh.dispatch,this.delay,new kh(t,this.destination)))}_next(t){this.scheduleMessage(Eh.createNext(t))}_error(t){this.scheduleMessage(Eh.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Eh.createComplete()),this.unsubscribe()}}class kh{constructor(t,e){this.notification=t,this.destination=e}}class Ph extends P{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Dh(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new E;if(this.isStopped||this.hasError?o=d.EMPTY:(this.observers.push(t),o=new S(this,t)),i&&t.add(t=new Sh(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||wh).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class Dh{constructor(t,e){this.time=t,this.value=e}}function Ah(t){return function(e){const n=new Th(t),i=e.lift(n);return n.caught=i}}class Th{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ih(t,this.selector,this.caught))}}class Ih extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new T(this,void 0,void 0);this.add(i),z(this,n,void 0,void 0,i)}}}function jh(t,e){return q(t,e,1)}function Oh(t,e){return function(n){return n.lift(new Mh(t,e))}}class Mh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Rh(t,this.predicate,this.thisArg))}}class Rh extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Nh{}class Fh{}class Lh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Lh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Lh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Lh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===r.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Vh{encodeKey(t){return zh(t)}encodeValue(t){return zh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function zh(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Uh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new Uh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Bh(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Hh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Gh(t){return"undefined"!=typeof FormData&&t instanceof FormData}class $h{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Lh),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Uh,this.urlWithParams=e}serializeBody(){return null===this.body?null:Bh(this.body)||Hh(this.body)||Gh(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Gh(this.body)?null:Hh(this.body)?this.body.type||null:Bh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new $h(e,n,r,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}const Wh=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class qh{constructor(t,e=200,n="OK"){this.headers=t.headers||new Lh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Yh extends qh{constructor(t={}){super(t),this.type=Wh.ResponseHeader}clone(t={}){return new Yh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zh extends qh{constructor(t={}){super(t),this.type=Wh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Zh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xh extends qh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Kh(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Qh{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof $h)i=t;else{let r=void 0;r=n.headers instanceof Lh?n.headers:new Lh(n.headers);let o=void 0;n.params&&(o=n.params instanceof Uh?n.params:new Uh({fromObject:n.params})),i=new $h(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=xh(i).pipe(jh(t=>this.handler.handle(t)));if(t instanceof $h||"events"===n.observe)return r;const o=r.pipe(Oh(t=>t instanceof Zh));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(B(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(B(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(B(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(B(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Uh).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Kh(n,e))}post(t,e,n={}){return this.request("POST",t,Kh(n,e))}put(t,e,n={}){return this.request("PUT",t,Kh(n,e))}}class Jh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const td=new jt("HTTP_INTERCEPTORS");class ed{intercept(t,e){return e.handle(t)}}const nd=/^\)\]\}',?\n/;class id{}class rd{constructor(){}build(){return new XMLHttpRequest}}class od{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new Lh(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Yh({headers:o,status:e,statusText:i,url:s})},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(nd,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new Zh({body:l,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Xh({error:l,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Xh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const u=i=>{l||(e.next(o()),l=!0);let r={type:Wh.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:Wh.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:Wh.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const sd=new jt("XSRF_COOKIE_NAME"),ad=new jt("XSRF_HEADER_NAME");class ld{}class ud{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class cd{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}class hd{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(td,[]);this.chain=t.reduceRight((t,e)=>new Jh(t,e),this.backend)}return this.chain.handle(t)}}class dd{static disable(){return{ngModule:dd,providers:[{provide:cd,useClass:ed}]}}static withOptions(t={}){return{ngModule:dd,providers:[t.cookieName?{provide:sd,useValue:t.cookieName}:[],t.headerName?{provide:ad,useValue:t.headerName}:[]]}}}class pd{}var fd=function(t,e){return(fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function md(t,e){function n(){this.constructor=t}fd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gd=function(){return(gd=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function vd(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function yd(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var bd=function(t){function e(e,n){var i=this,r=this.constructor.prototype;return(i=t.call(this,e)||this).statusCode=n,i.__proto__=r,i}return md(e,t),e}(Error),_d=function(t){function e(e){void 0===e&&(e="A timeout occurred.");var n=this,i=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=i,n}return md(e,t),e}(Error),wd=function(t){function e(e){void 0===e&&(e="An abort occurred.");var n=this,i=this.constructor.prototype;return(n=t.call(this,e)||this).__proto__=i,n}return md(e,t),e}(Error),Cd=function(){return function(t,e,n){this.statusCode=t,this.statusText=e,this.content=n}}(),xd=function(){function t(){}return t.prototype.get=function(t,e){return this.send(gd({},e,{method:"GET",url:t}))},t.prototype.post=function(t,e){return this.send(gd({},e,{method:"POST",url:t}))},t.prototype.delete=function(t,e){return this.send(gd({},e,{method:"DELETE",url:t}))},t.prototype.getCookieString=function(t){return""},t}(),Ed=function(t){return t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None",t}({}),Sd=function(){function t(){}return t.prototype.log=function(t,e){},t.instance=new t,t}(),kd=function(){function t(){}return t.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},t.isIn=function(t,e,n){if(!(t in e))throw new Error("Unknown "+n+" value: "+t+".")},t}();function Pd(t,e){var n="";return Dd(t)?(n="Binary data of length "+t.byteLength,e&&(n+=". Content: '"+function(t){var e=new Uint8Array(t),n="";return e.forEach((function(t){n+="0x"+(t<16?"0":"")+t.toString(16)+" "})),n.substr(0,n.length-1)}(t)+"'")):"string"==typeof t&&(n="String data of length "+t.length,e&&(n+=". Content: '"+t+"'")),n}function Dd(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Ad(t,e,n,i,r,o,s){return vd(this,void 0,void 0,(function(){var a,l,u,c,h;return yd(this,(function(d){switch(d.label){case 0:return r?[4,r()]:[3,2];case 1:(u=d.sent())&&((a={}).Authorization="Bearer "+u,l=a),d.label=2;case 2:return t.log(Ed.Trace,"("+e+" transport) sending data. "+Pd(o,s)+"."),c=Dd(o)?"arraybuffer":"text",[4,n.post(i,{content:o,headers:l,responseType:c})];case 3:return h=d.sent(),t.log(Ed.Trace,"("+e+" transport) request complete. Response status: "+h.statusCode+"."),[2]}}))}))}var Td,Id=function(){function t(){this.observers=[]}return t.prototype.next=function(t){for(var e=0,n=this.observers;e<n.length;e++)n[e].next(t)},t.prototype.error=function(t){for(var e=0,n=this.observers;e<n.length;e++){var i=n[e];i.error&&i.error(t)}},t.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];n.complete&&n.complete()}},t.prototype.subscribe=function(t){return this.observers.push(t),new jd(this,t)},t}(),jd=function(){function t(t,e){this.subject=t,this.observer=e}return t.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(t){}))},t}(),Od=function(){function t(t){this.minimumLogLevel=t}return t.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case Ed.Critical:case Ed.Error:console.error("["+(new Date).toISOString()+"] "+Ed[t]+": "+e);break;case Ed.Warning:console.warn("["+(new Date).toISOString()+"] "+Ed[t]+": "+e);break;case Ed.Information:console.info("["+(new Date).toISOString()+"] "+Ed[t]+": "+e);break;default:console.log("["+(new Date).toISOString()+"] "+Ed[t]+": "+e)}},t}(),Md=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rd=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};if("undefined"==typeof XMLHttpRequest){var Nd=require;Td=Nd("request")}var Fd=function(t){function e(e){var n=t.call(this)||this;if(void 0===Td)throw new Error("The 'request' module could not be loaded.");return n.logger=e,n.cookieJar=Td.jar(),n.request=Td.defaults({jar:n.cookieJar}),n}return Md(e,t),e.prototype.send=function(t){var e=this;return new Promise((function(n,i){var r;r=Dd(t.content)?Buffer.from(t.content):t.content||"";var o=e.request(t.url,{body:r,encoding:"arraybuffer"===t.responseType?null:"utf8",headers:Rd({"X-Requested-With":"XMLHttpRequest"},t.headers),method:t.method,timeout:t.timeout},(function(r,o,s){if(t.abortSignal&&(t.abortSignal.onabort=null),r)return"ETIMEDOUT"===r.code&&(e.logger.log(Ed.Warning,"Timeout from HTTP request."),i(new _d)),e.logger.log(Ed.Warning,"Error from HTTP request. "+r),void i(r);o.statusCode>=200&&o.statusCode<300?n(new Cd(o.statusCode,o.statusMessage||"",s)):i(new bd(o.statusMessage||"",o.statusCode||0))}));t.abortSignal&&(t.abortSignal.onabort=function(){o.abort(),i(new wd)})}))},e.prototype.getCookieString=function(t){return this.cookieJar.getCookieString(t)},e}(xd),Ld=function(t){function e(e){var n=t.call(this)||this;return n.logger=e,n}return md(e,t),e.prototype.send=function(t){var e=this;return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new wd):t.method?t.url?new Promise((function(n,i){var r=new XMLHttpRequest;r.open(t.method,t.url,!0),r.withCredentials=!0,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var o=t.headers;o&&Object.keys(o).forEach((function(t){r.setRequestHeader(t,o[t])})),t.responseType&&(r.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=function(){r.abort(),i(new wd)}),t.timeout&&(r.timeout=t.timeout),r.onload=function(){t.abortSignal&&(t.abortSignal.onabort=null),r.status>=200&&r.status<300?n(new Cd(r.status,r.statusText,r.response||r.responseText)):i(new bd(r.statusText,r.status))},r.onerror=function(){e.logger.log(Ed.Warning,"Error from HTTP request. "+r.status+": "+r.statusText+"."),i(new bd(r.statusText,r.status))},r.ontimeout=function(){e.logger.log(Ed.Warning,"Timeout from HTTP request."),i(new _d)},r.send(t.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e}(xd),Vd=function(t){function e(e){var n=t.call(this)||this;return n.httpClient="undefined"!=typeof XMLHttpRequest?new Ld(e):new Fd(e),n}return md(e,t),e.prototype.send=function(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new wd):t.method?t.url?this.httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},e.prototype.getCookieString=function(t){return this.httpClient.getCookieString(t)},e}(xd),zd=function(){function t(){}return t.write=function(e){return""+e+t.RecordSeparator},t.parse=function(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");var n=e.split(t.RecordSeparator);return n.pop(),n},t.RecordSeparatorCode=30,t.RecordSeparator=String.fromCharCode(t.RecordSeparatorCode),t}(),Ud=function(){function t(){}return t.prototype.writeHandshakeRequest=function(t){return zd.write(JSON.stringify(t))},t.prototype.parseHandshakeResponse=function(t){var e,n;if(Dd(t)||"undefined"!=typeof Buffer&&t instanceof Buffer){var i=new Uint8Array(t);if(-1===(o=i.indexOf(zd.RecordSeparatorCode)))throw new Error("Message is incomplete.");var r=o+1;e=String.fromCharCode.apply(null,i.slice(0,r)),n=i.byteLength>r?i.slice(r).buffer:null}else{var o,s=t;if(-1===(o=s.indexOf(zd.RecordSeparator)))throw new Error("Message is incomplete.");e=s.substring(0,r=o+1),n=s.length>r?s.substring(r):null}var a=zd.parse(e),l=JSON.parse(a[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[n,l]},t}(),Bd=function(t){return t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t}({}),Hd=3e4,Gd=15e3,$d=function(t){return t[t.Disconnected=0]="Disconnected",t[t.Connected=1]="Connected",t}({}),Wd=function(){function t(t,e,n){var i=this;kd.isRequired(t,"connection"),kd.isRequired(e,"logger"),kd.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=Hd,this.keepAliveIntervalInMilliseconds=Gd,this.logger=e,this.protocol=n,this.connection=t,this.handshakeProtocol=new Ud,this.connection.onreceive=function(t){return i.processIncomingData(t)},this.connection.onclose=function(t){return i.connectionClosed(t)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0,this.receivedHandshakeResponse=!1,this.connectionState=$d.Disconnected,this.cachedPingMessage=this.protocol.writeMessage({type:Bd.Ping})}return t.create=function(e,n,i){return new t(e,n,i)},Object.defineProperty(t.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),t.prototype.start=function(){return vd(this,void 0,void 0,(function(){var t,e,n=this;return yd(this,(function(i){switch(i.label){case 0:return t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(Ed.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,e=new Promise((function(t,e){n.handshakeResolver=t,n.handshakeRejecter=e})),[4,this.connection.start(this.protocol.transferFormat)];case 1:return i.sent(),this.logger.log(Ed.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 2:return i.sent(),this.logger.log(Ed.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 3:return i.sent(),this.connectionState=$d.Connected,[2]}}))}))},t.prototype.stop=function(){return this.logger.log(Ed.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),this.connection.stop()},t.prototype.stream=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r,o=this.createStreamInvocation(t,n),s=new Id;s.cancelCallback=function(){var t=e.createCancelInvocation(o.invocationId),n=e.protocol.writeMessage(t);return delete e.callbacks[o.invocationId],r.then((function(){return e.sendMessage(n)}))},this.callbacks[o.invocationId]=function(t,e){e?s.error(e):t&&(t.type===Bd.Completion?t.error?s.error(new Error(t.error)):s.complete():s.next(t.item))};var a=this.protocol.writeMessage(o);return r=this.sendMessage(a).catch((function(t){s.error(t),delete e.callbacks[o.invocationId]})),s},t.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},t.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.createInvocation(t,e,!0),r=this.protocol.writeMessage(i);return this.sendMessage(r)},t.prototype.invoke=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.createInvocation(t,n,!1),o=new Promise((function(t,n){e.callbacks[r.invocationId]=function(e,i){i?n(i):e&&(e.type===Bd.Completion?e.error?n(new Error(e.error)):t(e.result):n(new Error("Unexpected message type: "+e.type)))};var i=e.protocol.writeMessage(r);e.sendMessage(i).catch((function(t){n(t),delete e.callbacks[r.invocationId]}))}));return o},t.prototype.on=function(t,e){t&&e&&(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},t.prototype.off=function(t,e){if(t){t=t.toLowerCase();var n=this.methods[t];if(n)if(e){var i=n.indexOf(e);-1!==i&&(n.splice(i,1),0===n.length&&delete this.methods[t])}else delete this.methods[t]}},t.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},t.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var e=0,n=this.protocol.parseMessages(t,this.logger);e<n.length;e++){var i=n[e];switch(i.type){case Bd.Invocation:this.invokeClientMethod(i);break;case Bd.StreamItem:case Bd.Completion:var r=this.callbacks[i.invocationId];null!=r&&(i.type===Bd.Completion&&delete this.callbacks[i.invocationId],r(i));break;case Bd.Ping:break;case Bd.Close:this.logger.log(Ed.Information,"Close message received from server."),this.connection.stop(i.error?new Error("Server returned an error on close: "+i.error):void 0);break;default:this.logger.log(Ed.Warning,"Invalid message type: "+i.type+".")}}this.resetTimeoutPeriod()},t.prototype.processHandshakeResponse=function(t){var e,n,i;try{i=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],n=e[1]}catch(s){var r;this.logger.log(Ed.Error,r="Error parsing handshake response: "+s);var o=new Error(r);throw this.connection.stop(o),this.handshakeRejecter(o),o}if(n.error)throw this.logger.log(Ed.Error,r="Server returned handshake error: "+n.error),this.handshakeRejecter(r),this.connection.stop(new Error(r)),new Error(r);return this.logger.log(Ed.Debug,"Server handshake complete."),this.handshakeResolver(),i},t.prototype.resetKeepAliveInterval=function(){var t=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return vd(t,void 0,void 0,(function(){return yd(this,(function(t){switch(t.label){case 0:if(this.connectionState!==$d.Connected)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return t.sent(),[3,4];case 3:return t.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds)},t.prototype.resetTimeoutPeriod=function(){var t=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return t.serverTimeout()}),this.serverTimeoutInMilliseconds))},t.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},t.prototype.invokeClientMethod=function(t){var e=this,n=this.methods[t.target.toLowerCase()];if(n){if(n.forEach((function(n){return n.apply(e,t.arguments)})),t.invocationId){var i="Server requested a response, which is not supported in this version of the client.";this.logger.log(Ed.Error,i),this.connection.stop(new Error(i))}}else this.logger.log(Ed.Warning,"No client method with the name '"+t.target+"' found.")},t.prototype.connectionClosed=function(t){var e=this,n=this.callbacks;this.callbacks={},this.connectionState=$d.Disconnected,this.handshakeRejecter&&this.handshakeRejecter(t),Object.keys(n).forEach((function(e){(0,n[e])(null,t||new Error("Invocation canceled due to connection being closed."))})),this.cleanupTimeout(),this.cleanupPingTimer(),this.closedCallbacks.forEach((function(n){return n.apply(e,[t])}))},t.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},t.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},t.prototype.createInvocation=function(t,e,n){if(n)return{arguments:e,target:t,type:Bd.Invocation};var i=this.id;return this.id++,{arguments:e,invocationId:i.toString(),target:t,type:Bd.Invocation}},t.prototype.createStreamInvocation=function(t,e){var n=this.id;return this.id++,{arguments:e,invocationId:n.toString(),target:t,type:Bd.StreamInvocation}},t.prototype.createCancelInvocation=function(t){return{invocationId:t,type:Bd.CancelInvocation}},t}(),qd=function(t){return t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling",t}({}),Yd=function(t){return t[t.Text=1]="Text",t[t.Binary=2]="Binary",t}({}),Zd=function(){function t(){this.isAborted=!1,this.onabort=null}return t.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(t.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),t}(),Xd=function(){function t(t,e,n,i){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.pollAbort=new Zd,this.logMessageContent=i,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(t.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),t.prototype.connect=function(t,e){return vd(this,void 0,void 0,(function(){var n,i,r,o;return yd(this,(function(s){switch(s.label){case 0:if(kd.isRequired(t,"url"),kd.isRequired(e,"transferFormat"),kd.isIn(e,Yd,"transferFormat"),this.url=t,this.logger.log(Ed.Trace,"(LongPolling transport) Connecting."),e===Yd.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},e===Yd.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return i=s.sent(),this.updateHeaderToken(n,i),r=t+"&_="+Date.now(),this.logger.log(Ed.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,n)];case 2:return 200!==(o=s.sent()).statusCode?(this.logger.log(Ed.Error,"(LongPolling transport) Unexpected response code: "+o.statusCode+"."),this.closeError=new bd(o.statusText||"",o.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}}))}))},t.prototype.getAccessToken=function(){return vd(this,void 0,void 0,(function(){return yd(this,(function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}}))}))},t.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},t.prototype.poll=function(t,e){return vd(this,void 0,void 0,(function(){var n,i,r,o;return yd(this,(function(s){switch(s.label){case 0:s.trys.push([0,,8,9]),s.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=s.sent(),this.updateHeaderToken(e,n),s.label=3;case 3:return s.trys.push([3,5,,6]),i=t+"&_="+Date.now(),this.logger.log(Ed.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,e)];case 4:return 204===(r=s.sent()).statusCode?(this.logger.log(Ed.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==r.statusCode?(this.logger.log(Ed.Error,"(LongPolling transport) Unexpected response code: "+r.statusCode+"."),this.closeError=new bd(r.statusText||"",r.statusCode),this.running=!1):r.content?(this.logger.log(Ed.Trace,"(LongPolling transport) data received. "+Pd(r.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(r.content)):this.logger.log(Ed.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return o=s.sent(),this.running?o instanceof _d?this.logger.log(Ed.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=o,this.running=!1):this.logger.log(Ed.Trace,"(LongPolling transport) Poll errored after shutdown: "+o.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(Ed.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},t.prototype.send=function(t){return vd(this,void 0,void 0,(function(){return yd(this,(function(e){return this.running?[2,Ad(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return vd(this,void 0,void 0,(function(){var t,e;return yd(this,(function(n){switch(n.label){case 0:this.logger.log(Ed.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(Ed.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={headers:{}},[4,this.getAccessToken()];case 3:return e=n.sent(),this.updateHeaderToken(t,e),[4,this.httpClient.delete(this.url,t)];case 4:return n.sent(),this.logger.log(Ed.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(Ed.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},t.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(Ed.Trace,t),this.onclose(this.closeError)}},t}(),Kd=function(){function t(t,e,n,i,r){this.httpClient=t,this.accessTokenFactory=e,this.logger=n,this.logMessageContent=i,this.eventSourceConstructor=r,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return vd(this,void 0,void 0,(function(){var n,i=this;return yd(this,(function(r){switch(r.label){case 0:return kd.isRequired(t,"url"),kd.isRequired(e,"transferFormat"),kd.isIn(e,Yd,"transferFormat"),this.logger.log(Ed.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=r.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),r.label=2;case 2:return[2,new Promise((function(n,r){var o=!1;if(e===Yd.Text){var s;if("undefined"!=typeof window)s=new i.eventSourceConstructor(t,{withCredentials:!0});else{var a=i.httpClient.getCookieString(t);s=new i.eventSourceConstructor(t,{withCredentials:!0,headers:{Cookie:a}})}try{s.onmessage=function(t){if(i.onreceive)try{i.logger.log(Ed.Trace,"(SSE transport) data received. "+Pd(t.data,i.logMessageContent)+"."),i.onreceive(t.data)}catch(e){return void i.close(e)}},s.onerror=function(t){var e=new Error(t.data||"Error occurred");o?i.close(e):r(e)},s.onopen=function(){i.logger.log(Ed.Information,"SSE connected to "+i.url),i.eventSource=s,o=!0,n()}}catch(l){return void r(l)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},t.prototype.send=function(t){return vd(this,void 0,void 0,(function(){return yd(this,(function(e){return this.eventSource?[2,Ad(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},t.prototype.stop=function(){return this.close(),Promise.resolve()},t.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},t}(),Qd=function(){function t(t,e,n,i,r){this.logger=n,this.accessTokenFactory=e,this.logMessageContent=i,this.webSocketConstructor=r,this.httpClient=t,this.onreceive=null,this.onclose=null}return t.prototype.connect=function(t,e){return vd(this,void 0,void 0,(function(){var n,i=this;return yd(this,(function(r){switch(r.label){case 0:return kd.isRequired(t,"url"),kd.isRequired(e,"transferFormat"),kd.isIn(e,Yd,"transferFormat"),this.logger.log(Ed.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=r.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),r.label=2;case 2:return[2,new Promise((function(n,r){var o;t=t.replace(/^http/,"ws");var s=i.httpClient.getCookieString(t);"undefined"==typeof window&&s&&(o=new i.webSocketConstructor(t,void 0,{headers:{Cookie:""+s}})),o||(o=new i.webSocketConstructor(t)),e===Yd.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(e){i.logger.log(Ed.Information,"WebSocket connected to "+t+"."),i.webSocket=o,n()},o.onerror=function(t){var e=null;"undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent&&(e=t.error),r(e)},o.onmessage=function(t){i.logger.log(Ed.Trace,"(WebSockets transport) data received. "+Pd(t.data,i.logMessageContent)+"."),i.onreceive&&i.onreceive(t.data)},o.onclose=function(t){return i.close(t)}}))]}}))}))},t.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(Ed.Trace,"(WebSockets transport) sending data. "+Pd(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},t.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},t.prototype.close=function(t){this.logger.log(Ed.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!t||!1!==t.wasClean&&1e3===t.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},t}(),Jd=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,e||[])).next())}))},tp=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ep=null,np=null;if("undefined"==typeof window){var ip=require;ep=ip("ws"),np=ip("eventsource")}var rp=function(){function t(t,e){var n;void 0===e&&(e={}),this.features={},kd.isRequired(t,"url"),this.logger=void 0===(n=e.logger)?new Od(Ed.Information):null===n?Sd.instance:n.log?n:new Od(n),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=e.logMessageContent||!1;var i="undefined"==typeof window;i||"undefined"==typeof WebSocket||e.WebSocket?i&&!e.WebSocket&&ep&&(e.WebSocket=ep):e.WebSocket=WebSocket,i||"undefined"==typeof EventSource||e.EventSource?i&&!e.EventSource&&void 0!==np&&(e.EventSource=np):e.EventSource=EventSource,this.httpClient=e.httpClient||new Vd(this.logger),this.connectionState=2,this.options=e,this.onreceive=null,this.onclose=null}return t.prototype.start=function(t){return kd.isIn(t=t||Yd.Binary,Yd,"transferFormat"),this.logger.log(Ed.Debug,"Starting connection with transfer format '"+Yd[t]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(t),this.startPromise)},t.prototype.send=function(t){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(t)},t.prototype.stop=function(t){return Jd(this,void 0,void 0,(function(){return tp(this,(function(e){switch(e.label){case 0:this.connectionState=2,this.stopError=t,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startPromise];case 2:case 3:return e.sent(),[3,4];case 4:return this.transport?[4,this.transport.stop()]:[3,6];case 5:e.sent(),this.transport=void 0,e.label=6;case 6:return[2]}}))}))},t.prototype.startInternal=function(t){return Jd(this,void 0,void 0,(function(){var e,n,i,r,o,s,a,l=this;return tp(this,(function(u){switch(u.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,u.label=1;case 1:return u.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==qd.WebSockets?[3,3]:(this.transport=this.constructTransport(qd.WebSockets),[4,this.transport.connect(e,t)]):[3,5];case 2:return u.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,i=0,r=function(){var t;return tp(this,(function(r){switch(r.label){case 0:return[4,o.getNegotiationResponse(e)];case 1:if(n=r.sent(),2===o.connectionState)return[2,{value:void 0}];if(n.error)throw Error(n.error);if(n.ProtocolVersion)throw Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(e=n.url),n.accessToken&&(t=n.accessToken,o.accessTokenFactory=function(){return t}),i++,[2]}}))},o=this,u.label=6;case 6:return[5,r()];case 7:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=8;case 8:if(n.url&&i<100)return[3,6];u.label=9;case 9:if(100===i&&n.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,n,t)];case 10:u.sent(),u.label=11;case 11:return this.transport instanceof Xd&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(t){return l.stopConnection(t)},this.changeState(0,1),[3,13];case 12:throw a=u.sent(),this.logger.log(Ed.Error,"Failed to start the connection: "+a),this.connectionState=2,this.transport=void 0,a;case 13:return[2]}}))}))},t.prototype.getNegotiationResponse=function(t){return Jd(this,void 0,void 0,(function(){var e,n,i,r,o,s;return tp(this,(function(a){switch(a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=a.sent())&&((e={}).Authorization="Bearer "+i,n=e),a.label=2;case 2:r=this.resolveNegotiateUrl(t),this.logger.log(Ed.Debug,"Sending negotiation request: "+r+"."),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.httpClient.post(r,{content:"",headers:n})];case 4:if(200!==(o=a.sent()).statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 5:throw s=a.sent(),this.logger.log(Ed.Error,"Failed to complete negotiation with the server: "+s),s;case 6:return[2]}}))}))},t.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},t.prototype.createTransport=function(t,e,n,i){return Jd(this,void 0,void 0,(function(){var r,o,s,a,l,u;return tp(this,(function(c){switch(c.label){case 0:return r=this.createConnectUrl(t,n.connectionId),this.isITransport(e)?(this.logger.log(Ed.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.transport.connect(r,i)]):[3,2];case 1:return c.sent(),this.changeState(0,1),[2];case 2:o=0,s=n.availableTransports||[],c.label=3;case 3:return o<s.length?(a=s[o],this.connectionState=0,"number"!=typeof(l=this.resolveTransport(a,e,i))?[3,8]:(this.transport=this.constructTransport(l),n.connectionId?[3,5]:[4,this.getNegotiationResponse(t)])):[3,9];case 4:n=c.sent(),r=this.createConnectUrl(t,n.connectionId),c.label=5;case 5:return c.trys.push([5,7,,8]),[4,this.transport.connect(r,i)];case 6:return c.sent(),this.changeState(0,1),[2];case 7:return u=c.sent(),this.logger.log(Ed.Error,"Failed to start the transport '"+qd[l]+"': "+u),this.connectionState=2,n.connectionId=void 0,[3,8];case 8:return o++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}}))}))},t.prototype.constructTransport=function(t){switch(t){case qd.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Qd(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case qd.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Kd(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case qd.LongPolling:return new Xd(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+t+".")}},t.prototype.resolveTransport=function(t,e,n){var i=qd[t.transport];if(null==i)this.logger.log(Ed.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client.");else{var r=t.transferFormats.map((function(t){return Yd[t]}));if(function(t,e){return!t||0!=(e&t)}(e,i))if(r.indexOf(n)>=0){if((i!==qd.WebSockets||this.options.WebSocket)&&(i!==qd.ServerSentEvents||this.options.EventSource))return this.logger.log(Ed.Debug,"Selecting transport '"+qd[i]+"'."),i;this.logger.log(Ed.Debug,"Skipping transport '"+qd[i]+"' because it is not supported in your environment.'")}else this.logger.log(Ed.Debug,"Skipping transport '"+qd[i]+"' because it does not support the requested transfer format '"+Yd[n]+"'.");else this.logger.log(Ed.Debug,"Skipping transport '"+qd[i]+"' because it was disabled by the client.")}return null},t.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},t.prototype.changeState=function(t,e){return this.connectionState===t&&(this.connectionState=e,!0)},t.prototype.stopConnection=function(t){this.transport=void 0,(t=this.stopError||t)?this.logger.log(Ed.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(Ed.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(t)},t.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(Ed.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},t.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),(n+="negotiate")+(-1===e?"":t.substring(e))},t}(),op="json",sp=function(){function t(){this.name=op,this.version=1,this.transferFormat=Yd.Text}return t.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=Sd.instance);for(var n=[],i=0,r=zd.parse(t);i<r.length;i++){var o=JSON.parse(r[i]);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case Bd.Invocation:this.isInvocationMessage(o);break;case Bd.StreamItem:this.isStreamItemMessage(o);break;case Bd.Completion:this.isCompletionMessage(o);break;case Bd.Ping:case Bd.Close:break;default:e.log(Ed.Information,"Unknown message type '"+o.type+"' ignored.");continue}n.push(o)}return n},t.prototype.writeMessage=function(t){return zd.write(JSON.stringify(t))},t.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},t.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},t.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},t.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},t}(),ap=function(){function t(){}return t.prototype.configureLogging=function(t){return kd.isRequired(t,"logging"),this.logger=void 0!==t.log?t:new Od(t),this},t.prototype.withUrl=function(t,e){return kd.isRequired(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof e?e:{transport:e},this},t.prototype.withHubProtocol=function(t){return kd.isRequired(t,"protocol"),this.protocol=t,this},t.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new rp(this.url,t);return Wd.create(e,this.logger||Sd.instance,this.protocol||new sp)},t}();function lp(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}lp.prototype=Object.create(Error.prototype);const up=lp,cp={};function hp(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),$(t,n).lift(new dp(e))}class dp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pp(t,this.resultSelector))}}class pp extends U{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(cp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(z(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const o=this.values,s=this.toRespond?o[n]===cp?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function fp(t){return new w(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?W(n):nc()).subscribe(e)})}function mp(){return K(1)}function gp(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}gp.prototype=Object.create(Error.prototype);const vp=gp;function yp(t){return function(e){return 0===t?nc():e.lift(new bp(t))}}class bp{constructor(t){if(this.total=t,this.total<0)throw new vp}call(t,e){return e.subscribe(new _p(t,this.total))}}class _p extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function wp(t,e,n){return function(i){return i.lift(new Cp(t,e,n))}}class Cp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new xp(t,this.nextOrObserver,this.error,this.complete))}}class xp extends m{constructor(t,e,n,r){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Ep=(t=Sp)=>wp({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Sp(){return new up}function kp(t=null){return e=>e.lift(new Pp(t))}class Pp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Dp(t,this.defaultValue))}}class Dp extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ap(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Oh((e,n)=>t(e,n,i)):X,yp(1),n?kp(e):Ep(()=>new up))}function Tp(t){return e=>0===t?nc():e.lift(new Ip(t))}class Ip{constructor(t){if(this.total=t,this.total<0)throw new vp}call(t,e){return e.subscribe(new jp(t,this.total))}}class jp extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Op(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Oh((e,n)=>t(e,n,i)):X,Tp(1),n?kp(e):Ep(()=>new up))}class Mp{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Rp(t,this.predicate,this.thisArg,this.source))}}class Rp extends m{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Np(t,e){return"function"==typeof e?n=>n.pipe(Np((n,i)=>W(t(n,i)).pipe(B((t,r)=>e(n,t,i,r))))):e=>e.lift(new Fp(t))}class Fp{constructor(t){this.project=t}call(t,e){return e.subscribe(new Lp(t,this.project))}}class Lp extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new T(this,void 0,void 0);this.destination.add(r),this.innerSubscription=z(this,t,e,n,r)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function Vp(...t){return mp()(xh(...t))}function zp(...t){return e=>{let n=t[t.length-1];A(n)?t.pop():n=null;const i=t.length;return Vp(1!==i||n?i>0?$(t,n):nc(n):Ch(t[0]),e)}}function Up(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Bp(t,e,n))}}class Bp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Hp(t,this.accumulator,this.seed,this.hasSeed))}}class Hp extends m{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Gp(t){return e=>e.lift(new $p(t))}class $p{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Wp(t,this.callback))}}class Wp extends m{constructor(t,e){super(t),this.add(new d(e))}}class qp{constructor(t,e){this.id=t,this.url=e}}class Yp extends qp{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zp extends qp{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xp extends qp{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kp extends qp{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qp extends qp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jp extends qp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tf extends qp{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ef extends qp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nf extends qp{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class of{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class af{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hf{}const df="primary";class pf{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ff(t){return new pf(t)}const mf="ngNavigationCancelingError";function gf(t){const e=Error("NavigationCancelingError: "+t);return e[mf]=!0,e}function vf(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class yf{constructor(t,e){this.routes=t,this.module=e}}function bf(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];_f(i,wf(e,i))}}function _f(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==df)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&bf(t.children,e)}function wf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Cf(t){const e=t.children&&t.children.map(Cf),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==df&&(n.component=hf),n}function xf(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(t[r=n[o]]!==e[r])return!1;return!0}function Ef(t){return Array.prototype.concat.apply([],t)}function Sf(t){return t.length>0?t[t.length-1]:null}function kf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pf(t){return xn(t)?t:Cn(t)?W(Promise.resolve(t)):xh(t)}function Df(t,e,n){return n?function(t,e){return xf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!jf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!jf(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!jf(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!jf(n.segments,t)&&!!n.children[df]&&e(n.children[df],i,o)}}(e,n,n.segments)}(t.root,e.root)}class Af{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return Nf.serialize(this)}}class Tf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,kf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ff(this)}}class If{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ff(this.parameters)),this._parameterMap}toString(){return Hf(this)}}function jf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Of(t,e){let n=[];return kf(t.children,(t,i)=>{i===df&&(n=n.concat(e(t,i)))}),kf(t.children,(t,i)=>{i!==df&&(n=n.concat(e(t,i)))}),n}class Mf{}class Rf{parse(t){const e=new Yf(t);return new Af(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Ff(e);if(n){const n=e.children[df]?t(e.children[df],!1):"",i=[];return kf(e.children,(e,n)=>{n!==df&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Of(e,(n,i)=>i===df?[t(e.children[df],!1)]:[`${i}:${t(n,!1)}`]);return`${Ff(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Vf(e)}=${Vf(t)}`).join("&"):`${Vf(e)}=${Vf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Nf=new Rf;function Ff(t){return t.segments.map(t=>Hf(t)).join("/")}function Lf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vf(t){return Lf(t).replace(/%3B/gi,";")}function zf(t){return Lf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uf(t){return decodeURIComponent(t)}function Bf(t){return Uf(t.replace(/\+/g,"%20"))}function Hf(t){return`${zf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zf(t)}=${zf(e[t])}`).join("")}`;var e}const Gf=/^[^\/()?;=#]+/;function $f(t){const e=t.match(Gf);return e?e[0]:""}const Wf=/^[^=?&#]+/,qf=/^[^?&#]+/;class Yf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tf([],{}):new Tf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[df]=new Tf(t,e)),n}parseSegment(){const t=$f(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new If(Uf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$f(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$f(this.remaining);t&&this.capture(n=t)}t[Uf(e)]=Uf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qf);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const i=Bf(e),r=Bf(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(t[i]=e=[e]),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$f(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=df);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[df]:new Tf([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Xf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Kf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Kf(t,this._root).map(t=>t.value)}}function Xf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Xf(t,n);if(e)return e}return null}function Kf(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Kf(t,n);if(i.length)return i.unshift(e),i}return[]}class Qf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class tm extends Zf{constructor(t,e){super(t),this.snapshot=e,sm(this,t)}toString(){return this.snapshot.toString()}}function em(t,e){const n=function(t,e){const n=new rm([],{},{},"",{},df,e,null,t.root,-1,{});return new om("",new Qf(n,[]))}(t,e),i=new fh([new If("",{})]),r=new fh({}),o=new fh({}),s=new fh({}),a=new fh(""),l=new nm(i,r,s,a,o,df,e,n.root);return l.snapshot=n.root,new tm(new Qf(l,[]),n)}class nm{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(t=>ff(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(t=>ff(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function im(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class rm{constructor(t,e,n,i,r,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ff(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class om extends Zf{constructor(t,e){super(e),this.url=t,sm(this,e)}toString(){return am(this._root)}}function sm(t,e){e.value._routerState=t,e.children.forEach(e=>sm(t,e))}function am(t){const e=t.children.length>0?` { ${t.children.map(am).join(", ")} } `:"";return`${t.value}${e}`}function lm(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function um(t,e){var n,i;return xf(t.params,e.params)&&jf(n=t.url,i=e.url)&&n.every((t,e)=>xf(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||um(t.parent,e.parent))}function cm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hm(t,e,n,i,r){let o={};return i&&kf(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Af(n.root===t?e:function t(e,n,i){const r={};return kf(e.children,(e,o)=>{r[o]=e===n?i:t(e,n,i)}),new Tf(e.segments,r)}(n.root,t,e),o,r)}class dm{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&cm(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==Sf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pm{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fm(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[df]:`${t}`}function mm(t,e,n){if(t||(t=new Tf([],{})),0===t.segments.length&&t.hasChildren())return gm(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=fm(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!_m(s,a,e))return o;i+=2}else{if(!_m(s,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Tf(t.segments.slice(0,i.pathIndex),{});return e.children[df]=new Tf(t.segments.slice(i.pathIndex),t.children),gm(e,0,r)}return i.match&&0===r.length?new Tf(t.segments,{}):i.match&&!t.hasChildren()?vm(t,e,n):i.match?gm(t,0,r):vm(t,e,n)}function gm(t,e,n){if(0===n.length)return new Tf(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{[df]:t}:void 0===t[0].outlets?{[df]:t}:t[0].outlets}(n),r={};return kf(i,(n,i)=>{null!==n&&(r[i]=mm(t.children[i],e,n))}),kf(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Tf(t.segments,r)}}function vm(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=ym(n[r].outlets);return new Tf(i,t)}if(0===r&&cm(n[0])){i.push(new If(t.segments[e].path,n[0])),r++;continue}const o=fm(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&cm(s)?(i.push(new If(o,bm(s))),r+=2):(i.push(new If(o,{})),r++)}return new Tf(i,{})}function ym(t){const e={};return kf(t,(t,n)=>{null!==t&&(e[n]=vm(new Tf([],{}),0,t))}),e}function bm(t){const e={};return kf(t,(t,n)=>e[n]=`${t}`),e}function _m(t,e,n){return t==n.path&&xf(e,n.parameters)}const wm=(t,e,n)=>B(i=>(new Cm(e,i.targetRouterState,i.currentRouterState,n).activate(t),i));class Cm{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lm(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Jf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),kf(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Jf(t),r=t.value.component?n.children:e;kf(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Jf(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new uf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new af(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(lm(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),xm(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function xm(t){lm(t.value),t.children.forEach(xm)}function Em(t){return"function"==typeof t}function Sm(t){return t instanceof Af}class km{constructor(t){this.segmentGroup=t||null}}class Pm{constructor(t){this.urlTree=t}}function Dm(t){return new w(e=>e.error(new km(t)))}function Am(t){return new w(e=>e.error(new Pm(t)))}function Tm(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Im{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Xt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,df).pipe(B(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ah(t=>{if(t instanceof Pm)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof km)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,df).pipe(B(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ah(t=>{if(t instanceof km)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Tf([],{[df]:t}):t;return new Af(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B(t=>new Tf([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return xh({});const n=[],i=[],r={};return kf(t,(t,o)=>{const s=e(o,t).pipe(B(t=>r[o]=t));o===df?n.push(s):i.push(s)}),xh.apply(null,n.concat(i)).pipe(mp(),Ap(),B(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){return xh(...n).pipe(B(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Ah(t=>{if(t instanceof km)return xh(null);throw t}))),mp(),Op(t=>!!t),Ah((t,n)=>{if(t instanceof up||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return xh(new Tf([],{}));throw new km(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return Rm(i)!==o?Dm(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Dm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Am(r):this.lineralizeSegments(n,r).pipe(q(n=>{const r=new Tf(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=jm(e,i,r);if(!s)return Dm(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Am(c):this.lineralizeSegments(i,c).pipe(q(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B(t=>(n._loadedConfig=t,new Tf(i,{})))):xh(new Tf(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=jm(e,n,i);if(!r)return Dm(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(q(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Mm(t,e,n)&&Rm(n)!==df)}(t,n,i)?{segmentGroup:Om(new Tf(e,function(t,e){const n={};n[df]=e;for(const i of t)""===i.path&&Rm(i)!==df&&(n[Rm(i)]=new Tf([],{}));return n}(i,new Tf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Mm(t,e,n))}(t,n,i)?{segmentGroup:Om(new Tf(t.segments,function(t,e,n,i){const r={};for(const o of n)Mm(t,e,o)&&!i[Rm(o)]&&(r[Rm(o)]=new Tf([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(B(t=>new Tf(o,t))):0===i.length&&0===s.length?xh(new Tf(o,{})):this.expandSegment(n,r,i,s,df,!0).pipe(B(t=>new Tf(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?xh(new yf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?xh(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?W(i).pipe(B(i=>{const r=t.get(i);let o;if(function(t){return t&&Em(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!Em(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return Pf(o)})).pipe(mp(),(r=t=>!0===t,t=>t.lift(new Mp(r,void 0,t)))):xh(!0);var r}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(B(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(gf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):xh(new yf([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return xh(n);if(i.numberOfChildren>1||!i.children[df])return Tm(t.redirectTo);i=i.children[df]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Af(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return kf(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return kf(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new Tf(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function jm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||vf)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Om(t){if(1===t.numberOfChildren&&t.children[df]){const e=t.children[df];return new Tf(t.segments.concat(e.segments),e.children)}return t}function Mm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Rm(t){return t.outlet||df}class Nm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fm{constructor(t,e){this.component=t,this.route=e}}function Lm(t,e,n){const i=t._root;return function t(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jf(n);return e.children.forEach(e=>{!function(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!jf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jf(t.url,e.url)||!xf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(t,e)||!xf(t.queryParams,e.queryParams);case"paramsChange":default:return!um(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Nm(r)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:i,r,o),u&&o.canDeactivateChecks.push(new Fm(l&&l.outlet&&l.outlet.component||null,a))}else a&&zm(n,l,o),o.canActivateChecks.push(new Nm(r)),t(e,null,s.component?l?l.children:null:i,r,o)}(e,s[e.value.outlet],i,r.concat([e.value]),o),delete s[e.value.outlet]}),kf(s,(t,e)=>zm(t,i.getContext(e),o)),o}(i,e?e._root:null,n,[i.value])}function Vm(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function zm(t,e,n){const i=Jf(t),r=t.value;kf(i,(t,i)=>{zm(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Fm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const Um=Symbol("INITIAL_VALUE");function Bm(){return Np(t=>hp(...t.map(t=>t.pipe(Tp(1),zp(Um)))).pipe(Up((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Um)return t;if(i===Um&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Sm(i))return i}return t},t)},Um),Oh(t=>t!==Um),B(t=>Sm(t)?t:!0===t),Tp(1)))}function Hm(t,e){return null!==t&&e&&e(new lf(t)),xh(!0)}function Gm(t,e){return null!==t&&e&&e(new sf(t)),xh(!0)}function $m(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?xh(i.map(i=>fp(()=>{const r=Vm(i,e,n);let o;if(function(t){return t&&Em(t.canActivate)}(r))o=Pf(r.canActivate(e,t));else{if(!Em(r))throw new Error("Invalid CanActivate guard");o=Pf(r(e,t))}return o.pipe(Op())}))).pipe(Bm()):xh(!0)}function Wm(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>fp(()=>xh(e.guards.map(r=>{const o=Vm(r,e.node,n);let s;if(function(t){return t&&Em(t.canActivateChild)}(o))s=Pf(o.canActivateChild(i,t));else{if(!Em(o))throw new Error("Invalid CanActivateChild guard");s=Pf(o(i,t))}return s.pipe(Op())})).pipe(Bm())));return xh(r).pipe(Bm())}class qm{}class Ym{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=Km(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,df),n=new rm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},df,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qf(n,e),r=new om(this.url,i);return this.inheritParamsAndData(r._root),xh(r)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=im(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Of(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===df?-1:e.value.outlet===df?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(r){if(!(r instanceof qm))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new qm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new qm;if((t.outlet||df)!==i)throw new qm;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?Sf(n).parameters:{};r=new rm(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(t),i,t.component,t,Zm(e),Xm(e)+n.length,eg(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new qm;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||vf)(n,t,e);if(!i)throw new qm;const r={};kf(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new rm(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(t),i,t.component,t,Zm(e),Xm(e)+o.length,eg(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Km(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Qf(r,t)]}if(0===a.length&&0===u.length)return[new Qf(r,[])];const c=this.processSegment(a,l,u,df);return[new Qf(r,c)]}}function Zm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Km(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Qm(t,e,n)&&Jm(n)!==df)}(t,n,i)){const r=new Tf(e,function(t,e,n,i){const r={};r[df]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Jm(o)!==df){const n=new Tf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Jm(o)]=n}return r}(t,e,i,new Tf(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Qm(t,e,n))}(t,n,i)){const o=new Tf(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Qm(t,n,a)&&!r[Jm(a)]){const n=new Tf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Jm(a)]=n}return Object.assign({},r,s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Tf(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Qm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jm(t){return t.outlet||df}function tg(t){return t.data||{}}function eg(t){return t.resolve||{}}function ng(t,e,n,i){const r=Vm(t,e,i);return Pf(r.resolve?r.resolve(e,n):r(e,n))}function ig(t){return function(e){return e.pipe(Np(e=>{const n=t(e);return n?W(n).pipe(B(()=>e)):W([e])}))}}class rg{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const og=new jt("ROUTES");class sg{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new yf(Ef(i.injector.get(og)).map(Cf),i)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):Pf(t()).pipe(q(t=>t instanceof Kt?xh(t):W(this.compiler.compileModuleAsync(t))))}}class ag{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lg(t){throw t}function ug(t,e,n){return e.parse("/")}function cg(t,e){return xh(null)}class hg{constructor(t,e,n,i,r,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new P,this.errorHandler=lg,this.malformedUriErrorHandler=ug,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cg,afterPreactivation:cg},this.urlHandlingStrategy=new ag,this.routeReuseStrategy=new rg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Xt),this.console=r.get(_o);const l=r.get(Vo);this.isNgZoneEnabled=l instanceof Vo,this.resetConfig(a),this.currentUrlTree=new Af(new Tf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sg(o,s,t=>this.triggerEvent(new rf(t)),t=>this.triggerEvent(new of(t))),this.routerState=em(this.currentUrlTree,this.rootComponentType),this.transitions=new fh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Oh(t=>0!==t.id),B(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Np(t=>{let n=!1,i=!1;return xh(t).pipe(wp(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Np(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return xh(t).pipe(Np(t=>{const n=this.transitions.getValue();return e.next(new Yp(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ec:[t]}),Np(t=>Promise.resolve(t)),function(t,e,n,i){return function(r){return r.pipe(Np(r=>(function(t,e,n,i,r){return new Im(t,e,n,i,r).apply()})(t,e,n,r.extractedUrl,i).pipe(B(t=>Object.assign({},r,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wp(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(q(o=>(function(t,e,n,i,r="emptyOnly",o="legacy"){return new Ym(t,e,n,i,r,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(B(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),wp(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wp(t=>{const n=new Qp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Yp(n,this.serializeUrl(i),r,o);e.next(a);const l=em(i,this.rootComponentType).snapshot;return xh(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ec}),ig(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),wp(t=>{const e=new Jp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),B(t=>Object.assign({},t,{guards:Lm(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?xh(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return W(t).pipe(q(t=>(function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xh(o.map(o=>{const s=Vm(o,e,r);let a;if(function(t){return t&&Em(t.canDeactivate)}(s))a=Pf(s.canDeactivate(t,e,n,i));else{if(!Em(s))throw new Error("Invalid CanDeactivate guard");a=Pf(s(t,e,n,i))}return a.pipe(Op())})).pipe(Bm()):xh(!0)})(t.component,t.route,n,e,i)),Op(t=>!0!==t,!0))}(s,i,r,t).pipe(q(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return W(e).pipe(jh(e=>W([Gm(e.route.parent,i),Hm(e.route,i),Wm(t,e.path,n),$m(t,e.route,n)]).pipe(mp(),Op(t=>!0!==t,!0))),Op(t=>!0!==t,!0))}(i,o,t,e):xh(n)),B(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),wp(t=>{if(Sm(t.guardsResult)){const e=gf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),wp(t=>{const e=new tf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Oh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xp(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ig(t=>{if(t.guards.canActivateChecks.length)return xh(t).pipe(wp(t=>{const e=new ef(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;return r.length?W(r).pipe(jh(n=>(function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return xh({});if(1===r.length){const o=r[0];return ng(t[o],e,n,i).pipe(B(t=>({[o]:t})))}const o={};return W(r).pipe(q(r=>ng(t[r],e,n,i).pipe(B(t=>(o[r]=t,t))))).pipe(Ap(),B(()=>o))}(t._resolve,t,e,i).pipe(B(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,im(t,n).resolve),null)))})(n.route,i,t,e)),function(t,e){return arguments.length>=2?function(n){return b(Up(t,e),yp(1),kp(e))(n)}:function(e){return b(Up((e,n,i)=>t(e,n,i+1)),yp(1))(e)}}((t,e)=>t),B(t=>n)):xh(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),wp(t=>{const e=new nf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ig(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),B(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const o=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Qf(r,o)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new nm(new fh((r=n.value).url),new fh(r.params),new fh(r.queryParams),new fh(r.fragment),new fh(r.data),r.outlet,r.component,r),o=n.children.map(n=>t(e,n));return new Qf(i,o)}}var r}(t,e._root,n?n._root:void 0);return new tm(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),wp(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wm(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),wp({next(){n=!0},complete(){n=!0}}),Gp(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Xp(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Ah(n=>{if(i=!0,function(t){return t&&t[mf]}(n)){const i=Sm(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Xp(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Kp(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(r){t.reject(r)}}return ec}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bf(t),this.config=t.map(Cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;de()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return hm(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dm(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return kf(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new dm(n,e,i)}(n);if(o.toRoot())return hm(e.root,new Tf([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new pm(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pm(n.snapshot._urlSegment,!0,0);const i=cm(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new pm(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?gm(s.segmentGroup,s.index,o.commands):mm(s.segmentGroup,s.index,o.commands);return hm(s.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){de()&&this.isNgZoneEnabled&&!Vo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Sm(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Sm(t))return Df(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Df(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Zp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class dg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pg,this.attachRef=null}}class pg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dg,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fg{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new no,this.deactivateEvents=new no,this.name=i||df,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new mg(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class mg{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===nm?this.route:t===pg?this.childContexts:this.parent.get(t,e)}}class gg{}class vg{preload(t,e){return xh(null)}}class yg{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new sg(e,n,e=>t.triggerEvent(new rf(e)),e=>t.triggerEvent(new of(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oh(t=>t instanceof Zp),jh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return W(n).pipe(K(),B(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class bg{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new cf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const _g=new jt("ROUTER_CONFIGURATION"),wg=new jt("ROUTER_FORROOT_GUARD"),Cg=[il,{provide:Mf,useClass:Rf},{provide:hg,useFactory:function(t,e,n,i,r,o,s,a,l={},u,c){const h=new hg(null,e,n,i,r,o,s,Ef(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=zl();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h},deps:[os,Mf,pg,il,on,as,Do,og,_g,[class{},new mt],[class{},new mt]]},pg,{provide:nm,useFactory:function(t){return t.routerState.root},deps:[hg]},{provide:as,useClass:class{constructor(t,e){this._compiler=t,this._config=e||ls}load(t){return!Co&&this._compiler instanceof Do?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>us(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>us(t,e,i))}}},yg,vg,class{preload(t,e){return e().pipe(Ah(()=>xh(null)))}},{provide:_g,useValue:{enableTracing:!1}}];function xg(){return new ts("Router",hg)}class Eg{constructor(t,e){}static forRoot(t,e){return{ngModule:Eg,providers:[Cg,Dg(t),{provide:wg,useFactory:Pg,deps:[[hg,new mt,new vt]]},{provide:_g,useValue:e||{}},{provide:el,useFactory:kg,deps:[Ja,[new ft(nl),new mt],_g]},{provide:bg,useFactory:Sg,deps:[hg,Fl,_g]},{provide:gg,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:vg},{provide:ts,multi:!0,useFactory:xg},[Ag,{provide:ho,multi:!0,useFactory:Tg,deps:[Ag]},{provide:jg,useFactory:Ig,deps:[Ag]},{provide:bo,multi:!0,useExisting:jg}]]}}static forChild(t){return{ngModule:Eg,providers:[Dg(t)]}}}function Sg(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bg(t,e,n)}function kg(t,e,n={}){return n.useHash?new ol(t,e):new sl(t,e)}function Pg(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dg(t){return[{provide:fn,multi:!0,useValue:t},{provide:og,multi:!0,useValue:t}]}class Ag{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new P}appInitializer(){return this.injector.get(tl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(hg),i=this.injector.get(_g);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?xh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(_g),n=this.injector.get(yg),i=this.injector.get(bg),r=this.injector.get(hg),o=this.injector.get(os);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Tg(t){return t.appInitializer.bind(t)}function Ig(t){return t.bootstrapListener.bind(t)}const jg=new jt("Router Initializer");let Og;n("9HG0");try{Og="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(eI){Og=!1}let Mg,Rg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Rl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Og)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=_t({factory:function(){return new t($t(yo,8))},token:t,providedIn:"root"}),t})();class Ng{}const Fg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Lg(){if(Mg)return Mg;if("object"!=typeof document||!document)return Mg=new Set(Fg);let t=document.createElement("input");return Mg=new Set(Fg.filter(e=>(t.setAttribute("type",e),t.type===e)))}let Vg;function zg(t){return function(){if(null==Vg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vg=!0}))}finally{Vg=Vg||!1}return Vg}()?t:!!t.capture}const Ug=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let Bg,Hg;function Gg(){if("object"!=typeof document||!document)return Ug.NORMAL;if(!Bg){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Bg=Ug.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Bg=0===t.scrollLeft?Ug.NEGATED:Ug.INVERTED),t.parentNode.removeChild(t)}return Bg}function $g(t){return null!=t&&"false"!==`${t}`}function Wg(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function qg(t){return Array.isArray(t)?t:[t]}function Yg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Zg(t){return t instanceof Mn?t.nativeElement:t}const Xg=new bh(gh);function Kg(t){return!l(t)&&t-parseFloat(t)+1>=0}function Qg(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}class Jg extends gh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class tv extends bh{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const ev=new tv(Jg);function nv(t){return e=>e.lift(new iv(t))}class iv{constructor(t){this.notifier=t}call(t,e){const n=new rv(t),i=z(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class rv extends U{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function ov(t,e,n,r){return i(n)&&(r=n,n=void 0),r?ov(t,e,n).pipe(B(t=>l(t)?r(...t):r(t))):new w(i=>{!function t(e,n,i,r,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,o),s=()=>t.removeEventListener(n,i,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),s=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),s=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,i,r,o)}r.add(s)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class sv{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new av(t,this.compare,this.keySelector))}}class av extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class lv{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new uv(t,this.durationSelector))}}class uv extends U{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=z(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function cv(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function hv(t,e=Xg){return n=()=>(function(t=0,e,n){let i=-1;return Kg(e)?i=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=Xg),new w(e=>{const r=Kg(t)?t:+t-n.now();return n.schedule(cv,r,{index:0,period:i,subscriber:e})})})(t,e),function(t){return t.lift(new lv(n))};var n}const dv=20;let pv=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new P,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=dv){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(hv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Oh(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ov(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Vo),$t(Rg))},token:t,providedIn:"root"}),t})();class fv{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new P,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>ov(this.elementRef.nativeElement,"scroll").pipe(nv(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&Gg()!=Ug.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),Gg()==Ug.INVERTED?t.left=t.right:Gg()==Ug.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&Gg()==Ug.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&Gg()==Ug.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}class mv{}const gv=20;let vv=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Q(ov(window,"resize"),ov(window,"orientationchange")):xh(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=gv){return t>0?this._change.pipe(hv(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Rg),$t(Vo))},token:t,providedIn:"root"}),t})();function yv(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function bv(t,e){const n=e?"":"none";yv(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function _v(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function wv(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const Cv=zg({passive:!0}),xv=zg({passive:!1}),Ev=800;class Sv{constructor(t,e,n,i,r,o){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new P,this._pointerMoveSubscription=d.EMPTY,this._pointerUpSubscription=d.EMPTY,this._scrollSubscription=d.EMPTY,this._resizeSubscription=d.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new P,this.started=new P,this.released=new P,this.ended=new P,this.entered=new P,this.exited=new P,this.dropped=new P,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=$g(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>Zg(t)),this._handles.forEach(t=>bv(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Zg(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,xv),e.addEventListener("touchstart",this._pointerDown,Cv),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?Zg(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Av(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Av(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Av(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),Tv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const n=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(i,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(n),this._dropContainer.start()}var e}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=Tv(e),r=!i&&0!==e.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+Ev>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(zp(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const a=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):Zg(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r}),e.drop(this,n,this._initialContainer,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=kv(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let n;if(e){const i=t.viewContainer.createEmbeddedView(e,t.context);n=Iv(i,this._document),this._previewRef=i,n.style.transform=kv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();(n=Pv(t)).style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=kv(e.left,e.top)}return yv(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),bv(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=kv(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=wv(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),o=wv(e,"transition-duration"),s=wv(e,"transition-delay");return _v(o[r])+_v(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=Iv(this._placeholderRef,this._document)):n=Pv(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,o=Tv(e)?e.targetTouches[0]:e;return{x:r.left-n.left+(o.pageX-r.left-this._scrollPosition.left),y:r.top-n.top+(o.pageY-r.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=Tv(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,r=this._previewRect,o=i.top+e,s=i.bottom-(r.height-e);n.x=Dv(n.x,i.left+t,i.right-(r.width-t)),n.y=Dv(n.y,o,s)}return n}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,bv(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,xv),t.removeEventListener("touchstart",this._pointerDown,Cv)}_applyRootElementTransform(t,e){const n=kv(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),r=n.left-i.left,o=i.right-n.right,s=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,n.height>i.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}}function kv(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Pv(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function Dv(t,e,n){return Math.max(e,Math.min(n,t))}function Av(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Tv(t){return"t"===t.type[0]}function Iv(t,e){const n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){const t=e.createElement("div");return t.appendChild(n),t}return n}function jv(t,e){return Math.max(0,Math.min(e,t))}let Ov=0;const Mv=.05,Rv=.05,Nv=2;class Fv{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.id=`cdk-drop-list-ref-${Ov++}`,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new P,this.entered=new P,this.exited=new P,this.dropped=new P,this.sorted=new P,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=d.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new P,this._handleScroll=()=>{if(!this.isDragging())return;const t=Zg(this.element);this._updateAfterScroll(this._scrollPosition,t.scrollTop,t.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Xg){return(!Kg(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Xg),new w(n=>(n.add(e.schedule(Qg,t,{subscriber:n,counter:0,period:t})),n))}(0,ev).pipe(nv(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Bv(t,-Nv):2===this._verticalScrollDirection&&Bv(t,Nv),1===this._horizontalScrollDirection?Hv(t,-Nv):2===this._horizontalScrollDirection&&Hv(t,Nv)})};const o=this.element=Zg(t);this._shadowRoot=function(t){if(function(){if(null==Hg){const t="undefined"!=typeof document?document.head:null;Hg=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Hg}()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(o)||n,e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Zg(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>t.addEventListener("scroll",this._handleScroll)):t.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(t,e,n){this.start();let i=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n));const r=this._activeDraggables,o=r.indexOf(t),s=t.getPlaceholderElement();let a=r[i];if(a===t&&(a=r[i+1]),o>-1&&r.splice(o,1),a&&!this._dragDropRegistry.isDragging(a)){const e=a.getRootElement();e.parentElement.insertBefore(s,e),r.splice(i,0,t)}else Zg(this.element).appendChild(s),r.push(t);s.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r={x:0,y:0}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){return this._isDragging?Vv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._isPointerNearDropContainer(e,n))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===o&&r.length>0)return;const s="horizontal"===this._orientation,a=Vv(r,e=>e.drag===t),l=r[o],u=r[a].clientRect,c=l.clientRect,h=a>o?1:-1;this._previousSwap.drag=l.drag,this._previousSwap.delta=s?i.x:i.y;const d=this._getItemOffsetPx(u,c,h),p=this._getSiblingOffsetPx(a,r,h),f=r.slice();!function(t,e,n){const i=jv(e,t.length-1),r=jv(n,t.length-1);if(i===r)return;const o=t[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)t[a]=t[a+s];t[r]=o}(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?d:p,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Lv(e.clientRect,0,r)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Lv(e.clientRect,r,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._isPointerNearDropContainer(t,e)){const o=Zg(this.element);[i,r]=function(t,e,n,i){const r=Gv(e,i),o=$v(e,n);let s=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(o,this._clientRect,t,e),(i||r)&&(n=o)}if(this._viewportRuler&&!i&&!r){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};i=Gv(a,e),r=$v(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const t=Zg(this.element);this._clientRect=Uv(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement();return{drag:t,offset:0,clientRect:Uv(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*n];let s=r[i?"width":"height"]*n;if(o){const t=i?"left":"top",e=i?"right":"bottom";-1===n?s-=o.clientRect[t]-r[e]:s+=r[t]-o.clientRect[e]}return s}_isPointerNearDropContainer(t,e){const{top:n,right:i,bottom:r,left:o,width:s,height:a}=this._clientRect,l=s*Mv,u=a*Mv;return e>n-u&&e<r+u&&t>o-l&&t<i+l}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return Vv(this._itemPositions,({drag:o,clientRect:s},a,l)=>{if(o===t)return l.length<2;if(i){const t=r?i.x:i.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(s.left)&&e<=Math.floor(s.right):n>=Math.floor(s.top)&&n<=Math.floor(s.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(t,e,n,i){const r=t.top-e,o=t.left-n;i&&Lv(i,r,o),this._itemPositions.forEach(({clientRect:t})=>{Lv(t,r,o)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),t.top=e,t.left=n}_removeListeners(){Zg(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(t,e){return zv(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this.enterPredicate(t,this)||!zv(this._clientRect,e,n))return!1;const i=this._shadowRoot.elementFromPoint(e,n);if(!i)return!1;const r=Zg(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const t=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,t.top,t.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function Lv(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Vv(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function zv(t,e,n){const{top:i,bottom:r,left:o,right:s}=t;return n>=i&&n<=r&&e>=o&&e<=s}function Uv(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Bv(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Hv(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Gv(t,e){const{top:n,bottom:i,height:r}=t,o=r*Rv;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}function $v(t,e){const{left:n,right:i,width:r}=t,o=r*Rv;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}const Wv=zg({passive:!1,capture:!0});let qv=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new P,this.pointerUp=new P,this.scroll=new P,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,Wv)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Wv)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:Wv}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t)}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Wv}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Vo),$t(jl))},token:t,providedIn:"root"}),t})();const Yv={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Zv=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Yv){return new Sv(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Fv(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(jl),$t(Vo),$t(vv),$t(qv))},token:t,providedIn:"root"}),t})();class Xv{}class Kv{}const Qv=13,Jv=27,ty=32,ey=33,ny=34,iy=35,ry=36,oy=37,sy=38,ay=39,ly=40;function uy(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function cy(t,e=Xg){return n=>n.lift(new hy(t,e))}class hy{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new dy(t,this.dueTime,this.scheduler))}}class dy extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(py,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function py(t){t.debouncedNext()}const fy=" ";function my(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const gy="cdk-describedby-message-container",vy="cdk-describedby-message",yy="cdk-describedby-host";let by=0;const _y=new Map;let wy=null,Cy=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),_y.set(e,{messageElement:e,referenceCount:0})):_y.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=_y.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}wy&&0===wy.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll(`[${yy}]`);for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(yy);wy&&this._deleteMessagesContainer(),_y.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),wy.appendChild(e),_y.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`${vy}-${by++}`)}_deleteMessageElement(t){const e=_y.get(t),n=e&&e.messageElement;wy&&n&&wy.removeChild(n),_y.delete(t)}_createMessagesContainer(){if(!wy){const t=this._document.getElementById(gy);t&&t.parentNode.removeChild(t),(wy=this._document.createElement("div")).id=gy,wy.setAttribute("aria-hidden","true"),wy.style.display="none",this._document.body.appendChild(wy)}}_deleteMessagesContainer(){wy&&wy.parentNode&&(wy.parentNode.removeChild(wy),wy=null)}_removeCdkDescribedByReferenceIds(t){const e=my(t,"aria-describedby").filter(t=>0!=t.indexOf(vy));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=_y.get(e);!function(t,e,n){const i=my(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(fy)))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(yy,""),n.referenceCount++}_removeMessageReference(t,e){const n=_y.get(e);n.referenceCount--,function(t,e,n){const i=my(t,e).filter(t=>t!=n.trim());t.setAttribute(e,i.join(fy))}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(yy)}_isElementDescribedByMessage(t,e){const n=my(t,"aria-describedby"),i=_y.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.ngInjectableDef=_t({factory:function(){return new t($t(jl))},token:t,providedIn:"root"}),t})(),xy=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(eI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Sy(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=Sy(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ey(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Rg))},token:t,providedIn:"root"}),t})();function Ey(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Sy(t){if(!Ey(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ky{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),de()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Tp(1)).subscribe(t)}}let Py=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new ky(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(xy),$t(Vo),$t(jl))},token:t,providedIn:"root"}),t})();class Dy{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=$g(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=$g(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}const Ay=new jt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ty=new jt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Iy=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Ay,8),$t(Vo),$t(jl),$t(Ty,8))},token:t,providedIn:"root"}),t})();class jy{constructor(t,e,n,i){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=i,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}const Oy=650,My=zg({passive:!0,capture:!0});let Ry=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Oy)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return xh(null);const n=Zg(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:e,subject:new P};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",o,!0)}),i.unlisten=()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",o,!0)},i.subject.asObservable()}stopMonitoring(t){const e=Zg(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const i=Zg(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,My),document.addEventListener("mousedown",this._documentMousedownListener,My),document.addEventListener("touchstart",this._documentTouchstartListener,My),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,My),document.removeEventListener("mousedown",this._documentMousedownListener,My),document.removeEventListener("touchstart",this._documentTouchstartListener,My),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Vo),$t(Rg))},token:t,providedIn:"root"}),t})();class Ny{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new no,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}class Fy{}const Ly=new Un("8.2.0"),Vy=new Un("8.2.0"),zy=new jt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Uy{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&de()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){Vy.full!==Ly.full&&console.warn("The Angular Material version ("+Vy.full+") does not match the Angular CDK version ("+Ly.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function By(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=$g(t)}}}function Hy(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Gy(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=$g(t)}}}function $y(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new P}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const Wy=new jt("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Wt(wo)}});class qy{constructor(){this._localeChanges=new P}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const Yy=new jt("mat-date-formats");let Zy;try{Zy="undefined"!=typeof Intl}catch(eI){Zy=!1}const Xy={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Ky=tb(31,t=>String(t+1)),Qy={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Jy=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tb(t,e){const n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}class eb extends qy{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(Zy){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return tb(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Xy[t]}getDateNames(){if(Zy){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tb(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Ky}getDayOfWeekNames(t){if(Zy){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return tb(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Qy[t]}getYearName(t){if(Zy){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(t,e,n);if(i.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return i}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Zy){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign({},e,{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Jy.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const i=new Date(t,e,n);return t>=0&&t<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}const nb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class ib{}class rb{}let ob=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();const sb=new jt("MAT_HAMMER_OPTIONS"),ab=["longpress","slide","slidestart","slideend","slideright","slideleft"],lb={on:()=>{},off:()=>{}};class ub extends Vu{constructor(t,e){super(),this._hammerOptions=t,this.events=ab,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return lb;const n=new e(t,this._hammerOptions||void 0),i=new e.Pan,r=new e.Swipe,o=new e.Press,s=this._createRecognizer(i,{event:"slide",threshold:0},r),a=this._createRecognizer(o,{event:"longpress",time:500});return i.recognizeWith(r),a.recognizeWith(s),n.add([r,o,i,s,a]),n}_createRecognizer(t,e,...n){let i=new t.constructor(e);return n.push(t),n.forEach(t=>i.recognizeWith(t)),i}}class cb{}function hb(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}class db{}const pb=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class fb{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=pb.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const mb={enterDuration:450,exitDuration:400},gb=800,vb=zg({passive:!0});class yb{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+gb;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===pb.VISIBLE||t.config.terminateOnPointerUp&&t.state===pb.FADING_IN)&&t.fadeOut()}))},i.isBrowser&&(this._containerElement=Zg(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign({},mb,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${a-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new fb(this,u,n);return c.state=pb.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=pb.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign({},mb,t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=pb.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=pb.HIDDEN,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Zg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,vb)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,vb)})}}const bb=new jt("mat-ripple-global-options");class _b{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new yb(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class wb{}class Cb{}class xb{}const Eb=new jt("mat-label-global-options");function Sb(){throw Error("Host already has a portal attached")}class kb{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Sb(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Pb extends kb{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Db extends kb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ab{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Sb(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Pb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Db?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Tb extends Ab{constructor(t,e,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class Ib extends Ab{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new no}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class jb{}class Ob{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}class Mb{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Yg(-this._previousScrollPosition.left),t.style.top=Yg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Rb(){return Error("Scroll strategy has already been attached.")}class Nb{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Rb();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Fb{enable(){}disable(){}attach(){}}function Lb(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Vb(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class zb{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Rb();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Lb(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ub=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Fb,this.close=t=>new Nb(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Mb(this._viewportRuler,this._document),this.reposition=t=>new zb(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.ngInjectableDef=_t({factory:function(){return new t($t(pv),$t(vv),$t(Vo),$t(jl))},token:t,providedIn:"root"}),t})();class Bb{constructor(t){if(this.scrollStrategy=new Fb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Hb{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Gb{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function $b(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function Wb(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let qb=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(jl))},token:t,providedIn:"root"}),t})(),Yb=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=_t({factory:function(){return new t($t(jl))},token:t,providedIn:"root"}),t})();class Zb{constructor(t,e,n,i,r,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new P,this._attachments=new P,this._detachments=new P,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new P,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Tp(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Yg(this._config.width),t.height=Yg(this._config.height),t.minWidth=Yg(this._config.minWidth),t.minHeight=Yg(this._config.minHeight),t.maxWidth=Yg(this._config.maxWidth),t.maxHeight=Yg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;qg(e).forEach(t=>{n?i.add(t):i.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(nv(Q(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Xb="cdk-overlay-connected-position-bounding-box";class Kb{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new P,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(Xb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Xb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+i,y:t.y+(r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),o=Math.max(t.y+e.height-i.bottom,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,y:u=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Gb(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,l,u;if("top"===e.overlayY)r=n.height-(o=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)r=n.height-(s=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;o=t.y-e,(r=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:o,left:l,bottom:s,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Yg(n.height),i.top=Yg(n.top),i.bottom=Yg(n.bottom),i.width=Yg(n.width),i.left=Yg(n.left),i.right=Yg(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Yg(t)),r&&(i.maxWidth=Yg(r))}this._lastBoundingBoxSize=n,Qb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const i=this._viewportRuler.getViewportScrollPosition();Qb(n,this._getExactOverlayY(e,t,i)),Qb(n,this._getExactOverlayX(e,t,i))}else n.position="static";let i="",r=this._getOffset(e,"x"),o=this._getOffset(e,"y");r&&(i+=`translateX(${r}px) `),o&&(i+=`translateY(${o}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Qb(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=Yg(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"==(i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:r.left=Yg(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vb(t,n),isOriginOutsideView:Lb(t,n),isOverlayClipped:Vb(e,n),isOverlayOutsideView:Lb(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{Wb("originX",t.originX),$b("originY",t.originY),Wb("overlayX",t.overlayX),$b("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&qg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Mn)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Qb(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class Jb{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Kb(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new Hb(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const t_="cdk-global-overlay-wrapper";class e_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(t_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(t_),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let n_=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new e_}connectedTo(t,e,n){return new Jb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Kb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(vv),$t(jl),$t(Rg),$t(Yb))},token:t,providedIn:"root"}),t})(),i_=0;class r_{constructor(t,e,n,i,r,o,s,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Bb(t);return r.direction=r.direction||this._directionality.value,new Zb(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${i_++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(os)),new Tb(t,this._componentFactoryResolver,this._appRef,this._injector)}}const o_=new jt("cdk-connected-overlay-scroll-strategy");function s_(t){return()=>t.scrollStrategies.reposition()}class a_{}const l_=new jt("mat-autocomplete-scroll-strategy");function u_(t){return()=>t.scrollStrategies.reposition()}class c_{}class h_{}const d_="accent",p_=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class f_{constructor(t){this._elementRef=t}}const m_=Hy(By(Gy(f_)));class g_ extends m_{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of p_)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=d_)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class v_ extends g_{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}class y_{}class b_{}class __{}class w_{}class C_{}const x_=new jt("mat-chips-default-options");class E_{}class S_{}class k_{}const P_="*";function D_(t,e=null){return{type:2,steps:t,options:e}}function A_(t){return{type:6,styles:t,offset:null}}function T_(t){Promise.resolve(null).then(t)}class I_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){T_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class j_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?T_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const O_="!";function M_(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}let R_=(()=>{class t{constructor(){this.changes=new P,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();class N_{constructor(t,e,n,i,r){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=i,this.cssClasses=r}}class F_{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new no}_cellClicked(t){t.enabled&&this.selectedValueChange.emit(t.value)}ngOnChanges(t){const e=t.numCols,{rows:n,numCols:i}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/i}%`),!e&&this._cellWidth||(this._cellWidth=`${100/i}%`)}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Tp(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()})})}}const L_=7;class V_{constructor(t,e,n,i){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this.selectedChange=new no,this._userSelection=new no,this.activeDateChange=new no,!this._dateAdapter)throw M_("DateAdapter");if(!this._dateFormats)throw M_("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_dateSelected(t){if(this._selectedDate!=t){const e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(i)}this._userSelection.emit()}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case oy:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case ay:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case sy:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case ly:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case ry:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case iy:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case ey:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case ny:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Qv:case ty:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(L_+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%L_,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow");let n=this._dateAdapter.getDayOfWeekNames("long").map((t,n)=>({long:t,narrow:e[n]}));this._weekdays=n.slice(t).concat(n.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<t;n++,i++){i==L_&&(this._weeks.push([]),i=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=this._shouldEnableDate(t),o=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(t):void 0;this._weeks[this._weeks.length-1].push(new N_(n+1,e[n],o,r,s))}}_shouldEnableDate(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}const z_=24,U_=4;class B_{constructor(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this.selectedChange=new no,this.yearSelected=new no,this.activeDateChange=new no,!this._dateAdapter)throw M_("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),H_(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-G_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let e=0,n=[];e<z_;e++)n.push(t+e),n.length==U_&&(this._years.push(n.map(t=>this._createCellForYear(t))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case oy:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case ay:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case sy:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-U_);break;case ly:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,U_);break;case ry:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-G_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case iy:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,z_-G_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case ey:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-z_:-z_);break;case ny:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*z_:z_);break;case Qv:case ty:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return G_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new N_(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}function H_(t,e,n,i,r){const o=t.getYear(e),s=t.getYear(n),a=$_(t,i,r);return Math.floor((o-a)/z_)===Math.floor((s-a)/z_)}function G_(t,e,n,i){return((t.getYear(e)-$_(t,n,i))%(r=z_)+r)%r;var r}function $_(t,e,n){let i=0;return n?i=t.getYear(n)-z_+1:e&&(i=t.getYear(e)),i}class W_{constructor(t,e,n,i){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=i,this.selectedChange=new no,this.monthSelected=new no,this.activeDateChange=new no,!this._dateAdapter)throw M_("DateAdapter");if(!this._dateFormats)throw M_("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_monthSelected(t){const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);const n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case oy:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case ay:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case sy:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case ly:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case ry:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case iy:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case ey:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case ny:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case Qv:case ty:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new N_(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>i}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<i}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class q_{constructor(t,e,n,i,r){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=i,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate)-G_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate);return`${t} \u2013 ${t+z_-1}`}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-z_)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:z_)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):H_(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate)}}class Y_{constructor(t,e,n,i){if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new no,this.yearSelected=new no,this.monthSelected=new no,this._userSelection=new no,this.stateChanges=new P,!this._dateAdapter)throw M_("DateAdapter");if(!this._dateFormats)throw M_("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{i.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new Pb(this.headerComponent||q_),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()}_dateSelected(t){this._dateAdapter.sameDate(t,this.selected)||this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}const Z_=new jt("mat-datepicker-scroll-strategy");function X_(t){return()=>t.scrollStrategies.reposition()}class K_{constructor(t){this._elementRef=t}}const Q_=Hy(K_);class J_ extends Q_{constructor(t){super(t)}ngAfterViewInit(){this._calendar.focusActiveCell()}}class tw{}const ew=new jt("cdk-dir-doc",{providedIn:"root",factory:function(){return Wt(jl)}});let nw=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new no,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=_t({factory:function(){return new t($t(ew,8))},token:t,providedIn:"root"}),t})();class iw{}class rw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function ow(){throw Error("Attempting to attach dialog content after content is already attached")}class sw extends Ab{constructor(t,e,n,i,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=i,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new no,this._ariaLabelledBy=r.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&ow(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&ow(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let aw=0;class lw{constructor(t,e,n,i=`mat-dialog-${aw++}`){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new P,this._afterClosed=new P,this._beforeClosed=new P,this._state=0,e._id=i,e._animationStateChanged.pipe(Oh(t=>"done"===t.phaseName&&"enter"===t.toState),Tp(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Oh(t=>"done"===t.phaseName&&"exit"===t.toState),Tp(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Oh(t=>t.keyCode===Jv&&!this.disableClose&&!uy(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Oh(t=>"start"===t.phaseName),Tp(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const uw=new jt("MatDialogData"),cw=new jt("mat-dialog-default-options"),hw=new jt("mat-dialog-scroll-strategy");function dw(t){return()=>t.scrollStrategies.block()}class pw{constructor(t,e,n,i,r,o,s){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new P,this._afterOpenedAtThisLevel=new P,this._ariaHiddenElements=new Map,this.afterAllClosed=fp(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(zp(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new rw)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Bb({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new Ob(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[rw,e]])),i=new Pb(sw,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new lw(n,e,this._location,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(()=>{r.disableClose||r.close()}),t instanceof ri)e.attachTemplatePortal(new Db(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),o=e.attachComponentPortal(new Pb(t,void 0,n));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[sw,n],[uw,t.data],[lw,e]]);return!t.direction||i&&i.get(nw,null)||r.set(nw,{value:t.direction,change:xh()}),new Ob(i||this._injector,r)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}class fw{}class mw{}class gw{}class vw{}class yw{}function bw(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let _w=0;const ww=.75,Cw=5;class xw{constructor(t){this._elementRef=t}}const Ew=Hy(xw,"primary"),Sw=new jt("MAT_FORM_FIELD_DEFAULT_OPTIONS");class kw extends Ew{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new P,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${_w++}`,this._labelId=`mat-form-field-label-${_w++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=$g(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(zp(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(nv(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(nv(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(zp(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(zp(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(nv(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,ov(this._label.nativeElement,"transitionend").pipe(Tp(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw bw("start");t=n}else if("end"===n.align){if(e)throw bw("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=s-o-Cw,n=a>0?a*ww+2*Cw:0}for(let s=0;s<r.length;s++)r.item(s).style.width=`${e}px`;for(let s=0;s<o.length;s++)o.item(s).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}class Pw{}class Dw{}function Aw(t){return Error(`Unable to find icon with the name "${t}"`)}function Tw(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Iw(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class jw{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let Ow=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new jw(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Me.HTML,n);if(!r)throw Iw(n);const o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new jw(o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new jw(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Me.HTML,e);if(!i)throw Iw(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new jw(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Me.RESOURCE_URL,t);if(!e)throw Tw(t);const n=this._cachedIconsByUrl.get(e);return n?xh(Mw(n)):this._loadSvgIconFromConfig(new jw(t)).pipe(wp(t=>this._cachedIconsByUrl.set(e,t)),B(t=>Mw(t)))}getNamedSvgIcon(t,e=""){const n=Rw(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):dh(Aw(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?xh(Mw(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(wp(e=>t.svgElement=e),B(t=>Mw(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?xh(n):ic(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Ah(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Me.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),xh(null)})))).pipe(B(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Aw(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(B(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?xh(t.svgElement):this._fetchUrl(t.url).pipe(B(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Me.RESOURCE_URL,t);if(!e)throw Tw(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(Gp(()=>this._inProgressUrlFetches.delete(e)),st());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Rw(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Qh,8),$t(Gu),$t(jl,8),$t(ue,8))},token:t,providedIn:"root"}),t})();function Mw(t){return t.cloneNode(!0)}function Rw(t,e){return t+":"+e}class Nw{constructor(t){this._elementRef=t}}const Fw=Hy(Nw),Lw=new jt("mat-icon-location",{providedIn:"root",factory:function(){const t=Wt(jl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Vw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zw=Vw.map(t=>`[${t}]`).join(", "),Uw=/^url\(['"]?#(.*?)['"]?\)$/;class Bw extends Fw{constructor(t,e,n,i){super(t),this._iconRegistry=e,this._location=i,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=$g(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Tp(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(zw),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Vw.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(Uw):null;if(s){let e=n.get(r);e||n.set(r,e=[]),e.push({name:t,value:s[1]})}})}}class Hw{}const Gw=zg({passive:!0});let $w=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ec;const e=Zg(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new P,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Gw),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,Gw)}}),i.asObservable()}stopMonitoring(t){const e=Zg(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Rg),$t(Vo))},token:t,providedIn:"root"}),t})();class Ww{}const qw=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Yw=0;class Zw{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Xw=$y(Zw);class Kw extends Xw{constructor(t,e,n,i,r,o,s,a,l){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${Yw++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new P,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Lg().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=$g(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=$g(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Lg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$g(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(qw.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class Qw{}class Jw{}const tC=Gy(Jw);class eC{}const nC=Gy(eC);class iC extends tC{constructor(){super(...arguments),this._stateChanges=new P}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}class rC extends tC{constructor(t){super(),this._elementRef=t,this._stateChanges=new P,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}class oC extends nC{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new P,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(nv(this._destroyed)).subscribe(()=>{e.markForCheck()})}ngAfterContentInit(){var t,e;e=this._element,(t=this._lines).changes.pipe(zp(t)).subscribe(({length:t})=>{hb(e,"mat-2-line",!1),hb(e,"mat-3-line",!1),hb(e,"mat-multi-line",!1),2===t||3===t?hb(e,`mat-${t}-line`,!0):t>3&&hb(e,"mat-multi-line",!0)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}class sC{}const aC=new jt("mat-menu-scroll-strategy");function lC(t){return()=>t.scrollStrategies.reposition()}class uC{}class cC{}let hC=(()=>{class t{constructor(){this.changes=new P,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();function dC(t){return t||new hC}class pC{}class fC{}const mC=100,gC=10;class vC{constructor(t){this._elementRef=t}}const yC=Hy(vC,"primary"),bC=new jt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:mC}}}),_C="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";let wC=(()=>{class t extends yC{constructor(e,n,i,r,o){super(e),this._elementRef=e,this._document=i,this._diameter=mC,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=t._diameters;s.has(i.head)||s.set(i.head,new Set([mC])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Wg(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Wg(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Wg(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){const n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){const e=t.getRootNode?t.getRootNode():null;if(e instanceof window.ShadowRoot)return e}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-gC)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){return _C.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t._diameters=new WeakMap,t})();class CC extends wC{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}class xC{}class EC{}const SC=new jt("mat-select-scroll-strategy");function kC(t){return()=>t.scrollStrategies.reposition()}class PC{}function DC(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const AC=new jt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});class TC extends fv{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}class IC{constructor(t,e,n,i,r,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new P,this._animationEnd=new P,this._animationState="void",this.openedChange=new no(!0),this._destroyed=new P,this.onPositionChanged=new no,this._modeChanged=new P,this._opened=!1,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{ov(this._elementRef.nativeElement,"keydown").pipe(Oh(t=>t.keyCode===Jv&&!this.disableClose&&!uy(t)),nv(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(function(t,e){return e=>e.lift(new sv(t,void 0))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=$g(t)}get autoFocus(){return this._autoFocus}set autoFocus(t){this._autoFocus=$g(t)}get _openedStream(){return this.openedChange.pipe(Oh(t=>t),B(()=>{}))}get openedStart(){return this._animationStarted.pipe(Oh(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),B(()=>{}))}get _closedStream(){return this.openedChange.pipe(Oh(t=>!t),B(()=>{}))}get closedStart(){return this._animationStarted.pipe(Oh(t=>t.fromState!==t.toState&&"void"===t.toState),B(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}get opened(){return this._opened}set opened(t){this.toggle($g(t))}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Tp(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}class jC{constructor(t,e,n,i,r,o=!1,s){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=s,this.backdropClick=new no,this._destroyed=new P,this._doCheckSubject=new P,this._contentMargins={left:null,right:null},this._contentMarginChanges=new P,t&&t.change.pipe(nv(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(nv(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=$g(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:$g(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._drawers.changes.pipe(zp(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(cy(10),nv(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}e=e||null,(t=t||null)===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Oh(t=>t.fromState!==t.toState),nv(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(nv(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(nv(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Tp(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(nv(Q(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&DC("end"),this._end=t):(null!=this._start&&DC("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}class OC{}class MC{}class RC{}class NC{}class FC{constructor(t){this.total=t}call(t,e){return e.subscribe(new LC(t,this.total))}}class LC extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const VC=new Set;let zC,UC=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BC}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!VC.has(t))try{zC||((zC=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(zC)),zC.sheet&&(zC.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),VC.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Rg))},token:t,providedIn:"root"}),t})();function BC(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let HC=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new P}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return GC(qg(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=hp(GC(qg(t)).map(t=>this._registerQuery(t).observable));return(e=Vp(e.pipe(Tp(1)),e.pipe(t=>t.lift(new FC(1)),cy(0)))).pipe(B(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new w(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(zp(e),B(e=>({query:t,matches:e.matches})),nv(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.ngInjectableDef=_t({factory:function(){return new t($t(UC),$t(Vo))},token:t,providedIn:"root"}),t})();function GC(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const $C={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};class WC{constructor(t,e){this._overlayRef=e,this._afterDismissed=new P,this._afterOpened=new P,this._onAction=new P,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const qC=new jt("MatSnackBarData");class YC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class ZC{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class XC extends Ab{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new P,this._onEnter=new P,this._animationState="void",this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Tp(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class KC{}let QC=(()=>{class t{constructor(){this.changes=new P,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();function JC(t){return t||new QC}class tx{}class ex{}let nx=(()=>{class t{constructor(){this.changes=new P,this.optionalLabel="Optional"}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();function ix(t){return t||new nx}class rx{}class ox{}class sx{}class ax{constructor(t){this._elementRef=t}}const lx=Hy(ax);class ux extends lx{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){de()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class cx{}const hx=20,dx="mat-tooltip-panel";function px(t){return Error(`Tooltip position "${t}" is invalid.`)}const fx=new jt("mat-tooltip-scroll-strategy");function mx(t){return()=>t.scrollStrategies.reposition({scrollThrottle:hx})}const gx=new jt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});class vx{constructor(t,e,n,i,r,o,s,a,l,u,c,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._ariaDescriber=s,this._focusMonitor=a,this._dir=u,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new P,this._scrollStrategy=l;const d=e.nativeElement,p="undefined"==typeof window||window.Hammer||h;o.IOS||o.ANDROID?p||this._manualListeners.set("touchstart",()=>this.show()):this._manualListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide()),this._manualListeners.forEach((t,e)=>d.addEventListener(e,t)),a.monitor(e).pipe(nv(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),c&&c.position&&(this.position=c.position)}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=$g(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){const t=this._elementRef.nativeElement,e=t.style;"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(e.webkitUserSelect=e.userSelect=e.msUserSelect=""),t.draggable&&"none"===e.webkitUserDrag&&(e.webkitUserDrag="")}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((t,e)=>{this._elementRef.nativeElement.removeEventListener(e,t)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Pb(yx,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(nv(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(t){this._isTooltipVisible()&&t.keyCode===Jv&&!uy(t)&&(t.preventDefault(),t.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions.touchendHideDelay)}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(nv(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:dx,scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(nv(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign({},e.main,n.main),Object.assign({},e.fallback,n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw px(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw px(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Tp(1),nv(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}}class yx{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new P,this._isHandset=this._breakpointObserver.observe($C.Handset)}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}class bx{}const _x=new jt("MatBottomSheetData");class wx{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}class Cx extends Ab{constructor(t,e,n,i,r,o){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=o,this._animationState="void",this._animationStateChanged=new no,this._elementFocusedBeforeOpened=null,this._document=r,this._breakpointSubscription=i.observe([$C.Medium,$C.Large,$C.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched($C.Medium)),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched($C.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched($C.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}class xx{}class Ex{constructor(t,e,n){this._overlayRef=e,this._afterDismissed=new P,this._afterOpened=new P,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Oh(t=>"done"===t.phaseName&&"visible"===t.toState),Tp(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Oh(t=>"done"===t.phaseName&&"hidden"===t.toState),Tp(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Tp(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Q(e.backdropClick(),e.keydownEvents().pipe(Oh(t=>t.keyCode===Jv))).subscribe(t=>{this.disableClose||"keydown"===t.type&&uy(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Oh(t=>"start"===t.phaseName),Tp(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const Sx=new jt("mat-bottom-sheet-default-options");let kx=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._location=i,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign({},t,e)}(this._defaultOptions||new wx,e),i=this._createOverlay(n),r=this._attachContainer(i,n),o=new Ex(r,i,this._location);if(t instanceof ri)r.attachTemplatePortal(new Db(t,null,{$implicit:n.data,bottomSheetRef:o}));else{const e=new Pb(t,void 0,this._createInjector(n,o)),i=r.attachComponentPortal(e);o.instance=i.instance}return o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss()}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=new Ob(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[wx,e]])),i=new Pb(Cx,e.viewContainerRef,n);return t.attach(i).instance}_createOverlay(t){const e=new Bb({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[Ex,e],[_x,t.data]]);return!t.direction||n&&n.get(nw,null)||i.set(nw,{value:t.direction,change:xh()}),new Ob(n||this._injector,i)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(r_),$t(Ot),$t(t,12),$t(il,8),$t(Sx,8))},token:t,providedIn:xx}),t})();class Px{}class Dx{constructor(){this.loader=new fh(!1),this.subject=new fh(this.defaultValue()),this.Context=this.subject.asObservable(),this.Loading=this.loader.asObservable()}loading(t){this.loader.next(t)}defaultValue(){return null}}let Ax=(()=>{class t{constructor(t){this.injector=t,this.ReconnectionAttempt=new P,this.connectionAttempts=0;try{this.Settings=t.get(Px),this.zone=t.get(Vo)}catch(e){}this.started=new Ph,this.Started=this.started.asObservable(),this.start()}Start(){return new Promise((t,e)=>{this.buildHub("").then(n=>{this.hub=n,this.hub.serverTimeoutInMilliseconds=6e5,this.hub.onclose(t=>{console.log("onclose: "+t),this.retryConnection()});try{this.hub.start().then(()=>{console.log("Connection started"),t(this.hub)}).catch(t=>{this.retryConnection(),this.showConnectionError&&(e(t),console.log("Error while starting connection: "+t),this.showConnectionError=!1)})}catch(i){console.log("Error while starting connection 02: "+i),this.retryConnection()}})})}RegisterHandler(t){return this.WithHub(e=>w.create(n=>{try{e.on(t,t=>{n.next(t),this.zone.run(()=>{})})}catch(i){console.log(`Error while handling ${t}: `+i),n.error(i),this.retryConnection()}}))}Invoke(t,...e){return this.WithHub(n=>w.create(i=>{try{n.invoke(t,...e).then(t=>{i.next(t),this.zone.run(()=>{})}).catch(t=>{i.error(t)})}catch(r){console.log(`Error while invoking ${t}: `+r),i.error(r),this.retryConnection()}}))}WithHub(t){try{return w.create(e=>{this.hub.state!==$d.Connected?this.Start().then(n=>{console.log("Restarting connection in flight..."),this.runWithHub(e,t)}):this.runWithHub(e,t)})}catch(e){return w.create(t=>{t.error(e),t.complete()})}}buildHub(t){return vd(this,void 0,void 0,(function*(){return this.url=this.buildHubUrl(t),(new ap).configureLogging(Ed.Information).withUrl(this.url).build()}))}buildHubUrl(t){return this.loadHubUrl(t)}loadHubPath(){return`${this.loadStateRoot()}?lcu-app-id=${this.Settings.AppConfig.ID}&lcu-app-ent-api-key=${this.Settings.AppConfig.EnterpriseAPIKey}`}loadHubUrl(t){return`${this.Settings&&this.Settings.APIRoot||""}${t||""}${this.loadHubPath()}`}loadStateRoot(){return this.Settings.StateConfig&&void 0!==this.Settings.StateConfig.Root?this.Settings.StateConfig.Root:"/state"}runWithHub(t,e){const n=e(this.hub);n&&n.subscribe(e=>{t.next(e),this.zone.run(()=>{})},e=>{t.error(e)})}start(){setTimeout(()=>{this.Start().then(t=>this.started.next(t))},50)}stop(){this.showConnectionError=!0}retryConnection(){this.connectionAttempts<5?(console.log(`Retrying connection attempt ${this.connectionAttempts}`),this.connectionAttempts+=1,this.reconnect()):this.connectionAttempts>=5&&this.stopReconnection()}reconnect(){this.attemptingToReconnect=!0,this.reconnectionMessage(),this.start()}stopReconnection(){this.attemptingToReconnect=!1,this.reconnectionMessage(),this.stop()}reconnectionMessage(){this.ReconnectionAttempt.next(this.attemptingToReconnect)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Ot))},token:t,providedIn:"root"}),t})();class Tx{constructor(t){this.injector=t}ngOnInit(){}SetContext(t){this.context=t}}class Ix{constructor(t){this.settings=t}intercept(t,e){const n=t.clone({headers:t.headers.set("lcu-app-id",this.settings.AppConfig.ID).set("lcu-app-ent-api-key",this.settings.AppConfig.EnterpriseAPIKey)});return e.handle(n)}}const jx=window;class Ox{static DefaultServiceSettings(t,e){return{APIRoot:t.production?"":jx.LCU&&jx.LCU.APIRoot?jx.LCU.APIRoot:"http://localhost:52235",AppConfig:{ID:jx.LCU&&jx.LCU.Application&&jx.LCU.Application.ID?jx.LCU.Application.ID:"test-app",EnterpriseAPIKey:jx.LCU&&jx.LCU.Application.EnterprisePrimaryAPIKey?jx.LCU.Application.EnterprisePrimaryAPIKey:"test-app"},StateConfig:{Environment:jx.LCU.State?jx.LCU.State.Environment:"",Root:jx.LCU.State?jx.LCU.State.Root:"",UsernameMock:jx.LCU.State?jx.LCU.State.UsernameMock:""}}}static forRoot(){return{ngModule:Ox,providers:[Ax,{provide:td,useClass:Ix,multi:!0,deps:[Px]}]}}}class Mx extends Dx{constructor(t){super(),this.injector=t,this.ReconnectionAttempt=new P,this.rt||(this.rt=t.get(Ax)),this.setup(),this.rt.ReconnectionAttempt.subscribe(t=>{this.ReconnectionAttempt.next(t)})}get rt(){return window["lcu:state:rt"]}set rt(t){window["lcu:state:rt"]=t}Execute(t){return this.executeAction(t)}Setup(t){return vd(this,void 0,void 0,(function*(){this.rt.Started.subscribe(()=>vd(this,void 0,void 0,(function*(){yield this.setupReceiveState(),yield this.connectToState(t),this.$Refresh()})))}))}$Refresh(t={}){this.Execute({Arguments:t,Type:"$refresh"})}connectToState(t){return vd(this,void 0,void 0,(function*(){const e=yield this.loadStateKey(),n=yield this.loadStateName(),i=yield this.loadEnvironment(),r=yield this.loadUsernameMock();return this.rt.Invoke("ConnectToState",{ShouldSend:t,Key:e,State:n,Environment:i,UsernameMock:r}).subscribe()}))}defaultValue(){return{}}executeAction(t){return vd(this,void 0,void 0,(function*(){const e=yield this.loadStateKey(),n=yield this.loadStateName();return this.rt.Invoke("ExecuteAction",Object.assign({},t,{Key:e,State:n})).subscribe()}))}loadEnvironment(){return vd(this,void 0,void 0,(function*(){return this.rt.Settings.StateConfig?this.rt.Settings.StateConfig.Environment:null}))}loadUsernameMock(){return vd(this,void 0,void 0,(function*(){return this.rt.Settings.StateConfig?this.rt.Settings.StateConfig.UsernameMock:null}))}setup(){this.Setup(!1).then()}setupReceiveState(){return vd(this,void 0,void 0,(function*(){const t=yield this.loadStateKey(),e=yield this.loadStateName();this.rt.RegisterHandler(`ReceiveState${e}${t}`).subscribe(t=>{this.subject.next(t.State)})}))}}class Rx{static forRoot(){return{ngModule:Rx,providers:[kx]}}}const Nx={Rectangle:"Rectangle",Circle:"Circle",Ellipse:"Ellipse",Custom:"Custom"};var Fx=n("c5UZ"),Lx=function(){function t(){}return t.prototype.getNode=function(){return this.toolkit.getNode(this.toolkit.getNodeId(this.obj))},t.prototype.addPort=function(t){return this.surface.asynchronousPortRendered(t.getNativeElement(),this.getNode(),t.obj)},t.prototype.removePort=function(t){},t.prototype.addNewPort=function(t,e){this.toolkit.addNewPort(this.getNode(),t,e)},t.prototype.updateNode=function(t){this.toolkit.updateNode(this.getNode(),t)},t.prototype.removeNode=function(){this.toolkit.removeNode(this.getNode())},t}(),Vx=(function(){function t(t){this.elementRef=t}t.prototype.ngAfterViewInit=function(){var t=this.parent.addPort(this);null!=t?this.getNativeElement().setAttribute("data-port-id",t.id):Fx.jsPlumbUtil.log("NG: rendered port element but no corresponding port found in the model.")},t.prototype.ngOnDestroy=function(){this.parent.removePort(this)},t.prototype.getPort=function(){return this.parent.getNode().getPort(this.parent.toolkit.getPortId(this.obj))},t.prototype.getPortId=function(){return this.parent.toolkit.getPortId(this.obj)},t.prototype.getNativeElement=function(){return this.elementRef.nativeElement.childNodes[0]},t.prototype.updatePort=function(t){this.parent.toolkit.updatePort(this.getPort(),t)},t.prototype.removePort=function(){this.parent.toolkit.removePort(this.parent.getNode(),this.getPortId())},t.propDecorators={parent:[{type:so}],obj:[{type:so}]}}(),function(){function t(){this.toolkits={},this.surfaces={},this.miniviews={},this._workQueues={}}return t.prototype.getToolkit=function(t,e){if(null==t)throw new Error("Cannot retrieve Toolkit with undefined id");return this.toolkits[t]||(this.toolkits[t]=Fx.jsPlumbToolkit.newInstance(e||{})),this.toolkits[t]},t.prototype.addSurface=function(t,e){if(this.surfaces[t]=e,e._ngId=t,this._workQueues[t])for(var n=0;n<this._workQueues[t].length;n++)try{this._workQueues[t][n][0](e,this._workQueues[t][n][1])}catch(i){"undefined"!=typeof console&&console.log("Cannot create component "+i)}delete this._workQueues[t]},t.prototype.removeSurface=function(t,e){e.destroy(),delete this.surfaces[t],delete this.miniviews[t]},t.prototype.getSurface=function(t,e,n){var i=this.surfaces[t];if(!e)return i;i?e(i):(this._workQueues[t]=this._workQueues[t]||[],this._workQueues[t].push([e,n||{}]))},t.prototype.addMiniview=function(t,e){var n=this;this.getSurface(t,(function(i){var r=i.createMiniview({container:e.container});i.getToolkit().bind("dataLoadEnd",(function(){setTimeout(r.invalidate,0)})),i.getToolkit().bind("nodeAdded",(function(t){setTimeout((function(){r.invalidate(t.node.id)}),0)})),n.miniviews[t]=r}),null)},t.decorators=[{type:tn}],t.ctorParameters=function(){return[]},t}()),zx=function(){function t(t,e,n,i){this.el=t,this.$jsplumb=e,this.componentFactoryResolver=n,this.viewContainerRef=i}return t.prototype.getNativeElement=function(t){return(t._nativeElement||t.location.nativeElement).childNodes[0]},t.prototype.nodeOrGroupUpdated=function(t){var e=this.surface.getObjectInfo(t.node||t.group);e.el&&e.el._jsPlumbNgComponent&&(e.el._jsPlumbNgComponent.obj=(t.node||t.group).data)},t.prototype.ngOnInit=function(){if(!this.toolkitId)throw new Error("toolkitId attribute not specified on jsplumb-surface component")},t.prototype.ngAfterViewInit=function(){var t=this,e=Fx.jsPlumb.extend(this.renderParams||{},{templateRenderer:function(e,n,i,r,o,s){var a;null==s.component?t.nodeResolver?a=t.nodeResolver(e):console.log("No nodeResolver set on Surface component and component not provided for "+e+" : cannot render this component"):a=s.component;var l=t.componentFactoryResolver.resolveComponentFactory(a),u=t.viewContainerRef.createComponent(l),c=u._component||u.instance;c.obj=n||{},c.toolkit=i,c.surface=o,u.changeDetectorRef.detectChanges();var h=t.getNativeElement(u);c._el=h,c._el._jsPlumbNgComponent=c,u._parentView&&u._parentView.detectChanges(!1);var d=t.methods||{};for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p]);return h},renderPortsAsynchronously:!0,view:this.view||{},container:t.el.nativeElement.childNodes[0],connectionHandler:function(e,n){var i=t.surface.getRenderedElement(e.target)||t.surface.getRenderedEndpoint(e.target),r=t.surface.getRenderedElement(e.source)||t.surface.getRenderedEndpoint(e.source);null==i||null==r?t.surface.addUnrenderedEdge(e,n):n()}}),n=this.$jsplumb.getToolkit(this.toolkitId);this.toolkit=n,this.surface=n.render(e),this.$jsplumb.addSurface(this.surfaceId,this.surface),this.nodeUpdateFn=this.nodeOrGroupUpdated.bind(this),n.bind("nodeUpdated",this.nodeUpdateFn),n.bind("portAdded",this.nodeUpdateFn),n.bind("groupUpdated",this.nodeUpdateFn)},t.prototype.ngOnDestroy=function(){this.$jsplumb.removeSurface(this.surfaceId,this.surface),this.toolkit.unbind("nodeUpdated",this.nodeUpdateFn),this.toolkit.unbind("groupUpdated",this.nodeUpdateFn),this.toolkit.unbind("portAdded",this.nodeUpdateFn)},t.decorators=[{type:oo,args:[{selector:"jsplumb-surface",template:"<div></div>"}]}],t.ctorParameters=function(){return[{type:Mn},{type:Vx},{type:Tn},{type:si}]},t.propDecorators={toolkitId:[{type:so}],surfaceId:[{type:so}],view:[{type:so}],renderParams:[{type:so}],methods:[{type:so}],nodeResolver:[{type:so}]},t}(),Ux=function(){function t(t,e,n,i){this.el=t,this.$jsplumb=e,this.componentFactoryResolver=n,this.viewContainerRef=i}return t.prototype.ngAfterViewInit=function(){if(!this.surfaceId)throw new Error("surface-id attribute not specified on jsplumb-miniview component");this.$jsplumb.addMiniview(this.surfaceId,{container:this.el.nativeElement.childNodes[0]})},t.decorators=[{type:oo,args:[{selector:"jsplumb-miniview",template:"<div></div>"}]}],t.ctorParameters=function(){return[{type:Mn},{type:Vx},{type:Tn},{type:si}]},t.propDecorators={surfaceId:[{type:so}]},t}(),Bx=function(){function t(t,e){this.el=t,this.$jsplumb=e}return t.prototype.ngAfterViewInit=function(){var t=this,e=this;if(!this.surfaceId)throw new Error("jsplumb-palette: surfaceId attribute not set.");if(!this.selector)throw new Error("jsplumb-palette: selector attribute not set.");this.$jsplumb.getSurface(this.surfaceId,(function(n){n.registerDroppableNodes({source:e.el.nativeElement,selector:e.selector,dragOptions:t.dragOptions||{zIndex:5e4,cursor:"move",clone:!0},typeExtractor:e.typeExtractor,dataGenerator:e.dataGenerator,locationSetter:e.locationSetter})}),null)},t.decorators=[{type:oo,args:[{selector:"[jsplumb-palette]",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:Mn},{type:Vx}]},t.propDecorators={selector:[{type:so}],surfaceId:[{type:so}],typeExtractor:[{type:so}],locationSetter:[{type:so}],dataGenerator:[{type:so}],dragOptions:[{type:so}]},t}(),Hx=function(){function t(){}return t.decorators=[{type:uo,args:[{providers:[Vx],declarations:[Ux,Bx,zx],exports:[Ux,Bx,zx]}]}],t.ctorParameters=function(){return[]},t}(),Gx=n("Qt/4"),$x=function(){function t(t,e){this.el=t,this.$jsplumb=e}return t.prototype.ngAfterViewInit=function(){var t=this;if(!this.surfaceId)throw new Error("jsplumb-drag-drop: surfaceId attribute not set.");if(!this.selector)throw new Error("jsplumb-drag-drop: selector attribute not set.");this.$jsplumb.getSurface(this.surfaceId,(function(e){var n=t,i={source:n.el.nativeElement,selector:n.selector,surface:e,dataGenerator:function(t){return n.dataGenerator?n.dataGenerator(t):{type:"default"}}};n.onEdgeDrop&&(i.onEdgeDrop=function(t,i,r,o,s){var a=e.mapLocation.apply(e,s);n.onEdgeDrop(e,t,i,a,r,o,s)}),n.onCanvasDrop&&(i.onCanvasDrop=function(t,i){n.onCanvasDrop(e,t,i)}),n.onDrop&&(i.onDrop=function(t,i,r,o,s){n.onDrop(e,t,i,s,r,o)}),t.dropManager=new Gx.jsPlumbToolkitDropManager(i)}),null)},t.decorators=[{type:oo,args:[{selector:"[jsplumb-drag-drop]",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:Mn},{type:Vx}]},t.propDecorators={selector:[{type:so}],surfaceId:[{type:so}],dataGenerator:[{type:so}],onEdgeDrop:[{type:so}],onDrop:[{type:so}],onCanvasDrop:[{type:so}]},t}(),Wx=function(){function t(t,e){this.el=t,this.$jsplumb=e}return t.prototype.ngAfterViewInit=function(){var t=this;if(!this.surfaceId)throw new Error("jsplumb-surface-drop: surfaceId attribute not set.");if(!this.selector)throw new Error("jsplumb-surface-drop: selector attribute not set.");this.$jsplumb.getSurface(this.surfaceId,(function(e){var n=t,i={source:n.el.nativeElement,selector:n.selector,surface:e,dataGenerator:function(t){return n.dataGenerator?n.dataGenerator(t):{type:"default"}},allowDropOnEdge:"false"!==t.allowDropOnEdge,allowDropOnCanvas:"false"!==t.allowDropOnCanvas,allowDropOnGroup:"false"!==t.allowDropOnGroup};null!=t.typeGenerator&&(i.typeGenerator=t.typeGenerator),null!=t.groupIdentifier&&(i.groupIdentifier=t.groupIdentifier),t.dropManager=new Gx.SurfaceDropManager(i)}),null)},t.decorators=[{type:oo,args:[{selector:"[jsplumb-surface-drop]",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:Mn},{type:Vx}]},t.propDecorators={selector:[{type:so}],surfaceId:[{type:so}],dataGenerator:[{type:so}],typeGenerator:[{type:so}],groupIdentifier:[{type:so}],allowDropOnEdge:[{type:so}],allowDropOnGroup:[{type:so}],allowDropOnCanvas:[{type:so}]},t}(),qx=function(){function t(){}return t.decorators=[{type:uo,args:[{declarations:[$x,Wx],exports:[$x,Wx]}]}],t.ctorParameters=function(){return[]},t}(),Yx=n("aiQ1");let Zx=(()=>{class t extends Mx{constructor(t){super(t),this.injector=t}DeleteDataFlow(t){this.Execute({Arguments:{DataFlowLookup:t},Type:"DeleteDataFlow"})}DeployDataFlow(t){this.Execute({Arguments:{DataFlowLookup:t},Type:"DeployDataFlow"})}SaveDataFlow(t){this.Execute({Arguments:{DataFlow:t},Type:"SaveDataFlow"})}SetActiveDataFlow(t){this.Execute({Arguments:{DataFlowLookup:t},Type:"SetActiveDataFlow"})}ToggleCreationModules(){this.Execute({Arguments:{},Type:"ToggleCreationModules"})}ToggleIsCreating(){this.Execute({Arguments:{},Type:"ToggleIsCreating"})}defaultValue(){return{Loading:!0}}loadStateKey(){return vd(this,void 0,void 0,(function*(){return"main"}))}loadStateName(){return vd(this,void 0,void 0,(function*(){return"data-flow-manager"}))}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Ot))},token:t,providedIn:"root"}),t})();const Xx="lcu-data-flow-manager-element";class Kx extends Tx{constructor(t,e){super(t),this.injector=t,this.state=e}ngOnInit(){super.ngOnInit(),this.state.Context.subscribe(t=>{this.State=t,this.handleStateChanged()})}handleStateChanged(){}}class Qx extends Tx{constructor(t,e,n){super(t),this.injector=t,this.formBldr=e,this.state=n}ngOnInit(){super.ngOnInit(),this.CreateNewDataFlowForm=this.formBldr.group({name:["",yc.required],desc:["",yc.required],lookup:["",yc.required]}),this.state.Context.subscribe(t=>{this.State=t,this.handleStateChanged()})}DeleteDataFlow(t){confirm(`Are you sure you want to delete the data flow for '${t.Name}'?`)&&(this.State.Loading=!0,this.state.DeleteDataFlow(t.Lookup))}CreateNewDataFlow(){this.State.Loading=!0,this.state.SaveDataFlow({Name:this.CreateNewDataFlowForm.controls.name.value,Description:this.CreateNewDataFlowForm.controls.desc.value,Lookup:this.CreateNewDataFlowForm.controls.lookup.value})}SetAcitveDataFlow(t){this.State.Loading=!0,this.state.SetActiveDataFlow(t.Lookup)}ToggleIsCreating(){this.State.Loading=!0,this.state.ToggleIsCreating()}handleStateChanged(){}}class Jx extends Lx{editNode(){const t=this.getNode();Fx.Dialogs.show({id:"dlgText",data:t.data,title:"Edit "+t.data.type+" name",onOK:e=>{e.text&&e.text.length>2&&this.toolkit.updateNode(t,e)}})}}class tE extends Jx{constructor(){super(),this.ModuleShapes=Nx,this.ManageEvent=new no}get Module(){return this.obj}ngOnInit(){}Abs(t){return Math.abs(t)}ManageModule(t){this.ManageEvent.emit(Object.assign({},this.Module))}RemoveNode(){null!=this.Module&&Fx.Dialogs.show({id:"dlgConfirm",data:{msg:`Delete '${this.Module.Text}'?`},onOK:()=>{this.toolkit.removeNode(this.obj)}})}}let eE=(()=>{class t{constructor(t){this.jsPlumb=t,Fx.jsPlumbToolkitIO.parsers["data-flow-output"]=this.parseOutput,Fx.jsPlumbToolkitIO.exporters["data-flow-output"]=this.exportOutput,this.EdgeAdded=new no,this.EdgeDoubleClicked=new no,this.EdgeLabelClicked=new no,this.NodeAdded=new no,this.NodeFactoried=new no,this.ToggleSelection=new no}ExportFromSurface(t){return vd(this,void 0,void 0,(function*(){return t.getToolkit().exportData({type:"data-flow-output",parameters:{}})}))}GetSurface(t){return vd(this,void 0,void 0,(function*(){return new Promise(e=>{this.jsPlumb.getSurface(t,t=>{e(t)})})}))}LoadOntoSurface(t,e,n,i=null){return vd(this,void 0,void 0,(function*(){i?Object(Yx.isString)(i)&&(i=this.loadDefaultLayoutSpec(i)):i=this.loadDefaultLayoutSpec(),n&&(yield this.LoadOutput(t,e)),t.repaintEverything(),t.setLayout(i),t.zoomToFit()}))}LoadOutput(t,e){return vd(this,void 0,void 0,(function*(){return new Promise(n=>{t.getToolkit().load({type:"data-flow-output",data:e,parameters:{},onload(){n()}})})}))}LoadRenderParams(t="Spring"){return{layout:{type:t},events:{edgeAdded:t=>{this.EdgeAdded.emit(t)},nodeAdded:t=>{this.NodeAdded.emit(t)}},consumeRightClick:!1,dragOptions:{filter:".jtk-draw-handle, .node-action, .node-action i, .bank-module"}}}LoadToolkitParams(){return{nodeFactory:(t,e,n)=>{this.NodeFactoried.emit({Type:t,Data:e,Callback:n})},beforeStartConnect:(t,e)=>this.beforeStartConnect(t,e)}}LoadView(){return{nodes:{},edges:{default:{anchor:"AutoDefault",endpoint:"Blank",connector:["Flowchart",{cornerRadius:5,anchors:["Bottom","Top"]}],paintStyle:{strokeWidth:2,stroke:"rgb(132, 172, 179)",outlineWidth:3,outlineStroke:"transparent"},hoverPaintStyle:{strokeWidth:2,stroke:"rgb(67,67,67)"},events:{dblclick:t=>{this.EdgeDoubleClicked.emit(t)}},overlays:[["Arrow",{location:1,width:10,length:10}],["Arrow",{location:.3,width:10,length:10}]]},connection:{parent:"default",overlays:[["Label",{label:"${label}",events:{click:t=>{this.EdgeLabelClicked.emit(t)}}}]]}},ports:{start:{endpoint:"Blank",anchor:"Continuous",uniqueEndpoint:!0,edgeType:"default"},source:{endpoint:"Blank",paintStyle:{fill:"#84acb3"},anchor:"AutoDefault",maxConnections:-1,edgeType:"connection"},target:{maxConnections:-1,endpoint:"Blank",anchor:"AutoDefault",paintStyle:{fill:"#84acb3"},isTarget:!0}}}}SetViewNodes(t,e,n=tE){t&&e&&(e.nodes={selectable:{events:{tap:t=>{this.ToggleSelection.emit(t)}}}},t&&t.forEach(t=>{e.nodes[t.ModuleType]={parent:"selectable",component:n}}))}beforeStartConnect(t,e){return{label:""}}exportOutput(t,e){const n=t.getNodes(),i=t.getAllEdges(),r={Modules:[],Streams:[]};return n.forEach(t=>{const e={ID:t.id,Text:t.data.name,Display:t.data.Display,Deleted:t.data.Deleted,Status:t.data.Status};e.Display.Left=t.data.left,e.Display.Top=t.data.top,e.Display.Width=t.data.w,e.Display.Height=t.data.h,r.Modules.push(e)}),i.forEach(t=>{r.Streams.push({ID:t.data.id,InputModuleID:t.source.id,OutputModuleID:t.target.id,Title:t.data.label})}),r}loadDefaultLayoutSpec(t="Hierarchical"){return{type:t,parameters:{padding:[150,150],orientation:"vertical"}}}parseOutput(t,e,n){t&&(e.clear(),t.Modules.filter(t=>!t.Deleted).forEach(t=>{const n=Object.assign({},t,{id:t.ID,name:t.Text,type:t.Display.ModuleType,left:t.Display.Left,top:t.Display.Top,w:t.Display.Width,h:t.Display.Height});e.addNode(n)}),t.Streams.forEach(t=>{e.addEdge({source:t.InputModuleID,target:t.OutputModuleID,data:{id:t.ID,label:t.Title,type:"connection"}})}))}removeEdge(t,e){e.removeEdge(t)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Vx))},token:t,providedIn:"root"}),t})();class nE extends Tx{constructor(t,e,n,i){super(t),this.injector=t,this.state=e,this.$jsplumb=n,this.io=i,this.SelectMode="pan"}ngAfterViewInit(){return vd(this,void 0,void 0,(function*(){this.surface=this.SurfaceComponent.surface,this.surface&&(this.toolkit=this.surface.getToolkit(),this.drawing=new Fx.DrawingTools({renderer:this.surface}),this.io.SetViewNodes(this.State.ModuleOptions,this.View),yield this.Relayout(!0))}))}ngOnDestroy(){console.log("flowchart being destroyed")}ngOnInit(){super.ngOnInit(),this.setupJsPlumbSurface(),this.state.Context.subscribe(t=>vd(this,void 0,void 0,(function*(){this.State=t,yield this.handleStateChanged()})))}CancelActive(){this.State.Loading=!0,this.state.SetActiveDataFlow(null)}Deploy(){this.State.Loading=!0,this.state.DeployDataFlow(this.State.ActiveDataFlow.Lookup)}Relayout(t=!1){return vd(this,void 0,void 0,(function*(){this.surface&&this.State.ActiveDataFlow&&(yield this.io.LoadOntoSurface(this.surface,this.State.ActiveDataFlow.Output,t))}))}Save(){return vd(this,void 0,void 0,(function*(){this.State.Loading=!0,this.State.ActiveDataFlow.Output=yield this.io.ExportFromSurface(this.surface),this.state.SaveDataFlow(this.State.ActiveDataFlow)}))}ToggleCreationModules(){this.State.Loading=!0,this.state.ToggleCreationModules()}ToggleSelectMode(){this.SelectMode="pan"===this.SelectMode?"select":"pan",this.surface.setMode(this.SelectMode)}ZoomToFit(){this.surface.zoomToFit()}edgeAdded(t){}editLabel(t){Fx.Dialogs.show({id:"dlgText",data:{text:t.data.label||""},onOK:e=>{this.toolkit.updateEdge(t,{label:e.text})}})}handleStateChanged(){return vd(this,void 0,void 0,(function*(){this.State.ActiveDataFlow&&(this.toolkit=this.$jsplumb.getToolkit(this.State.ActiveDataFlow.Lookup,this.ToolkitParams),this.io.SetViewNodes(this.State.ModuleOptions,this.View)),yield this.Relayout(!0)}))}nodeAdded(t){}nodeFactory(t){Fx.Dialogs.show({id:"dlgText",title:`Enter ${t.Data.type} name:`,onOK:e=>{const n=Object.assign({},t.Data,{name:e.text,Text:e.text});n.text=e.text,n.text&&(n.text.length>=2?(n.id=Fx.jsPlumbUtil.uuid(),t.Callback(n)):alert(`${n.type} names must be at least 2 characters!`))}})}removeEdge(t){this.toolkit.removeEdge(t)}setupJsPlumbSurface(){this.RenderParams=this.io.LoadRenderParams(),this.ToolkitParams=this.io.LoadToolkitParams(),this.View=this.io.LoadView(),this.io.EdgeAdded.subscribe(t=>{this.edgeAdded(t)}),this.io.EdgeDoubleClicked.subscribe(t=>{this.removeEdge(t.edge)}),this.io.EdgeLabelClicked.subscribe(t=>{this.editLabel(t.edge)}),this.io.NodeAdded.subscribe(t=>{this.nodeAdded(t.node)}),this.io.NodeFactoried.subscribe(t=>{this.nodeFactory(t)}),this.io.ToggleSelection.subscribe(t=>{this.toggleSelection(t.node)})}toggleSelection(t){this.toolkit.toggleSelection(t)}}const iE=function(){var t={Grid:0,List:1};return t[t.Grid]="Grid",t[t.List]="List",t}();class rE extends Tx{constructor(t){super(t),this.injector=t,this.ViewTypes=iE,this.View=iE.List}get Categories(){return this.Options.map(t=>this.GetDisplay(t.ModuleType).Category).filter((t,e,n)=>n.indexOf(t)===e)}ngOnInit(){super.ngOnInit()}DataGenerator(t){const e=t.getAttribute("module-type"),n=JSON.parse(t.getAttribute("module-display"));return{name:e,type:e,w:n.Width,h:n.Height,Display:n}}GetDisplay(t){return this.Displays.find(e=>e.ModuleType===t)}GetObjString(t){return JSON.stringify(t)}GetOptions(t){return this.Options.filter(e=>this.GetDisplay(e.ModuleType).Category===t)}}const oE="lcu-data-flow-data-flow-analytics-element";class sE extends Tx{constructor(t){super(t),this.injector=t}ngOnInit(){super.ngOnInit()}}class aE{constructor(){Fx.Dialogs.initialize({selector:".dlg"})}static forRoot(){return{ngModule:aE,providers:[eE]}}}class lE{constructor(t){this.injector=t,Fx.Dialogs.initialize({selector:".dlg"})}ngDoBootstrap(){const t=Qa(sE,{injector:this.injector});customElements.define(oE,t);const e=Qa(Kx,{injector:this.injector});customElements.define(Xx,e)}}var uE=Ei({encapsulation:2,styles:[],data:{}});function cE(t){return Ls(0,[(t()(),xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jr(1,212992,null,0,fg,[pg,si,Tn,[8,null],ze],null,null)],(function(t,e){t(e,1,0)}),null)}function hE(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"ng-component",[],null,null,null,cE,uE)),jr(1,49152,null,0,hf,[],null,null)],null,null)}var dE=lr("ng-component",hf,hE,{},{},[]),pE=Ei({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function fE(t){return Ls(0,[(t()(),Cs(0,null,null,0))],null,null)}function mE(t){return Ls(0,[Ds(402653184,1,{_portalOutlet:0}),(t()(),Cs(16777216,null,null,1,null,fE)),jr(2,212992,[[1,4]],0,Ib,[Tn,si],{portal:[0,"portal"]},null)],(function(t,e){t(e,2,0,"")}),null)}function gE(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],(function(t,e,n){var i=!0;return"component:@dialogContainer.start"===e&&(i=!1!==br(t,1)._onAnimationStart(n)&&i),"component:@dialogContainer.done"===e&&(i=!1!==br(t,1)._onAnimationDone(n)&&i),i}),mE,pE)),jr(1,49152,null,0,sw,[Mn,Py,ze,[2,jl],rw],null,null)],null,(function(t,e){t(e,0,0,br(e,1)._id,br(e,1)._config.role,br(e,1)._config.ariaLabel?null:br(e,1)._ariaLabelledBy,br(e,1)._config.ariaLabel,br(e,1)._config.ariaDescribedBy||null,br(e,1)._state)}))}var vE=lr("mat-dialog-container",sw,gE,{},{},[]);let yE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})(),bE=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Zg(t);return new w(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new P,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=_t({factory:function(){return new t($t(yE))},token:t,providedIn:"root"}),t})();class _E{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new no,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=$g(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Wg(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(cy(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class wE{}function CE(){return"undefined"!=typeof process}function xE(t){switch(t.length){case 0:return new I_;case 1:return t[0];default:return new j_(t)}}function EE(t,e,n,i,r={},o={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case O_:a=r[n];break;case P_:a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}c[i]=a}),i||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function SE(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&kE(n,"start",t)));break;case"done":t.onDone(()=>i(n&&kE(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&kE(n,"destroy",t)))}}function kE(t,e,n){const i=n.totalTime,r=PE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function PE(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function DE(t,e,n){let i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function AE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let TE=(t,e)=>!1,IE=(t,e)=>!1,jE=(t,e,n)=>[];const OE=CE();(OE||"undefined"!=typeof Element)&&(TE=(t,e)=>t.contains(e),IE=(()=>{if(OE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):IE}})(),jE=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let ME=null,RE=!1;function NE(t){ME||(ME=("undefined"!=typeof document?document.body:null)||{},RE=!!ME.style&&"WebkitAppearance"in ME.style);let e=!0;return ME.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in ME.style)&&RE&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ME.style),e}const FE=IE,LE=TE,VE=jE;function zE(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class UE{validateStyleProperty(t){return NE(t)}matchesElement(t,e){return FE(t,e)}containsElement(t,e){return LE(t,e)}query(t,e,n){return VE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new I_(n,i)}}let BE=(()=>{class t{}return t.NOOP=new UE,t})();const HE=1e3,GE="{{",$E="ng-enter",WE="ng-leave",qE="ng-trigger",YE=".ng-trigger",ZE="ng-animating",XE=".ng-animating";function KE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QE(parseFloat(e[1]),e[2])}function QE(t,e){switch(e){case"s":return t*HE;default:return t}}function JE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=QE(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=QE(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function tS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function eS(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else tS(t,n);return n}function nS(t,e,n){return n?e+":"+n+";":""}function iS(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=nS(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=nS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function rS(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=dS(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),CE()&&iS(t))}function oS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=dS(e);t.style[n]=""}),CE()&&iS(t))}function sS(t){return Array.isArray(t)?1==t.length?t[0]:D_(t):t}const aS=new RegExp(`${GE}\\s*(.+?)\\s*}}`,"g");function lS(t){let e=[];if("string"==typeof t){const n=t.toString();let i;for(;i=aS.exec(n);)e.push(i[1]);aS.lastIndex=0}return e}function uS(t,e,n){const i=t.toString(),r=i.replace(aS,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function cS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hS=/-+([a-z0-9])/g;function dS(t){return t.replace(hS,(...t)=>t[1].toUpperCase())}function pS(t,e){return 0===t||0===e}function fS(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach((function(e){n[e]=gS(t,e)}))}}return e}function mS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function gS(t,e){return window.getComputedStyle(t)[e]}const vS="*";function yS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(wS(r,s)),"<"!=o[0]||r==vS&&s==vS||e.push(wS(s,r))})(t,n,e)):n.push(t),n}const bS=new Set(["true","1"]),_S=new Set(["false","0"]);function wS(t,e){const n=bS.has(t)||_S.has(t),i=bS.has(e)||_S.has(e);return(r,o)=>{let s=t==vS||t==r,a=e==vS||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?bS.has(t):_S.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?bS.has(e):_S.has(e)),s&&a}}const CS=":self",xS=new RegExp(`s*${CS}s*,?`,"g");function ES(t,e,n){return new kS(t).build(e,n)}const SS="";class kS{constructor(t){this._driver=t}build(t,e){const n=new PS(e);return this._resetContextStyleTimingState(n),mS(this,sS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=SS,t.collectedStyles={},t.collectedStyles[SS]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(DS(t)){const e=t;Object.keys(e).forEach(t=>{lS(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=cS(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=mS(this,sS(t.animation),e);return{type:1,matchers:yS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:AS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>mS(this,t,e)),options:AS(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=mS(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:AS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return TS(JE(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=TS(0,0,"");return t.dynamic=!0,t.strValue=i,t}return TS((n=n||JE(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:A_({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=A_(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==P_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(DS(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf(GE)>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=lS(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(DS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(DS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(i++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,r.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const o=c>0?i==h?1:c*i:r[i],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:mS(this,sS(t.animation),e),options:AS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:AS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:AS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==CS);return e&&(t=t.replace(xS,"")),[t=t.replace(/@\*/g,YE).replace(/@\w+/g,t=>YE+"-"+t.substr(1)).replace(/:animating/g,XE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,DE(e.collectedStyles,e.currentQuerySelector,{});const s=mS(this,sS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:AS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:JE(t.timings,e.errors,!0);return{type:12,animation:mS(this,sS(t.animation),e),timings:n,options:null}}}class PS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function DS(t){return!Array.isArray(t)&&"object"==typeof t}function AS(t){var e;return t?(t=tS(t)).params&&(t.params=(e=t.params)?tS(e):null):t={},t}function TS(t,e,n){return{duration:t,delay:e,easing:n}}function IS(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class jS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const OS=1,MS=new RegExp(":enter","g"),RS=new RegExp(":leave","g");function NS(t,e,n,i,r,o={},s={},a,l,u=[]){return(new FS).buildKeyframes(t,e,n,i,r,o,s,a,l,u)}class FS{buildKeyframes(t,e,n,i,r,o,s,a,l,u=[]){l=l||new jS;const c=new VS(t,e,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),mS(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[IS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?KE(n.duration):null,o=null!=n.delay?KE(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),mS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&((i=e.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=LS);const t=KE(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>mS(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?KE(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),mS(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return JE(e.params?uS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?KE(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=LS);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),mS(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;mS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const LS={};class VS{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new zS(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=KE(n.duration)),null!=n.delay&&(i.delay=KE(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=uS(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new VS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=LS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new US(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(MS,"."+this._enterClassName)).replace(RS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class zS{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=OS,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||P_,this._currentKeyframe[t]=P_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e)).forEach(t=>{n[t]=P_}):eS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=uS(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:P_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=eS(r,!0);Object.keys(s).forEach(n=>{const i=s[n];i==O_?t.add(n):i==P_&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?cS(t.values()):[],o=e.size?cS(e.values()):[];if(n){const t=i[0],e=tS(t);t.offset=0,e.offset=1,i=[t,e]}return IS(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class US extends zS{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=eS(t[0],!1);a.offset=0,r.push(a);const l=eS(t[0],!1);l.offset=BS(s),r.push(l);const u=t.length-1;for(let i=1;i<=u;i++){let s=eS(t[i],!1);s.offset=BS((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return IS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function BS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class HS{}class GS extends HS{normalizePropertyName(t,e){return dS(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if($S[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const $S=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WS(t,e,n,i,r,o,s,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const qS={};class YS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||qS,d=this.buildStyles(n,s&&s.params||qS,c),p=a&&a.params||qS,f=this.buildStyles(i,p,c),m=new Set,g=new Map,v=new Map,y="void"===i,b={params:Object.assign({},h,p)},_=u?[]:NS(t,e,this.ast.animation,r,o,d,f,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return WS(e,this._triggerName,n,i,y,d,f,[],[],g,v,w,c);_.forEach(t=>{const n=t.element,i=DE(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=DE(v,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=cS(m.values());return WS(e,this._triggerName,n,i,y,d,f,_,C,g,v,w)}}class ZS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=tS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=uS(o,i,e)),n[t]=o})}}),n}}class XS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ZS(t.style,t.options&&t.options.params||{})}),KS(this.states,"true","1"),KS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new YS(t,e,this.states))}),this.fallbackTransition=new YS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function KS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const QS=new jS;class JS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=ES(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=EE(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=NS(this._driver,e,r,$E,WE,{},{},n,QS,i)).forEach(t=>{const e=DE(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,P_)})});const a=xE(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=PE(e,"","","");return SE(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const tk="ng-animate-queued",ek=".ng-animate-queued",nk="ng-animate-disabled",ik=".ng-animate-disabled",rk="ng-star-inserted",ok=".ng-star-inserted",sk=[],ak={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uk="__ng_removed";class ck{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=tS(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const hk="void",dk=new ck(hk);class pk{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wk(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=DE(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=DE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(wk(t,qE),wk(t,qE+"-"+e),a[e]=dk),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new mk(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(wk(t,qE),wk(t,qE+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new ck(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=dk),l.value!==hk&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{oS(t,n),rS(t,i)})}return}const u=DE(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(wk(t,tk),o.onStart(()=>{Ck(t,tk)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,YE,!0).forEach(t=>{if(t[uk])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,hk,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&xE(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||dk,s=new ck(hk),a=new mk(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}this.prepareLeaveAnimationListeners(t),i?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){wk(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=PE(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,SE(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class fk{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new pk(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(gk(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!gk(e))return;const r=e[uk];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wk(t,nk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ck(t,nk))}removeNode(t,e,n,i){if(gk(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e[uk]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return gk(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,YE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,XE,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xE(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[uk];if(e&&e.setForRemoval){if(t[uk]=ak,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ik)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ik,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wk(this.collectedEnterElements[n],rk);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xE(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new jS,i=[],r=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,ek,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=bk(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=$E+f++;p.set(e,n),t.forEach(t=>wk(t,n))});const m=[],g=new Set,v=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const t=this.collectedLeaveElements[T],e=t[uk];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,ok,!0).forEach(t=>g.add(t)):v.add(t))}const y=new Map,b=bk(h,Array.from(g));b.forEach((t,e)=>{const n=WE+f++;y.set(e,n),t.forEach(t=>wk(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Ck(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Ck(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r[uk];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,r),h=y.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>oS(r,f.fromStyles)),e.onDestroy(()=>rS(r,f.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>oS(r,f.fromStyles)),e.onDestroy(()=>rS(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>DE(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,x=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{DE(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>Ek(t,a,l)),S=new Map;yk(S,this.driver,v,l,P_).forEach(t=>{Ek(t,a,l)&&E.push(t)});const k=new Map;d.forEach((t,e)=>{yk(k,this.driver,new Set(t),a,O_)}),E.forEach(t=>{const e=S.get(t),n=k.get(t);S.set(t,Object.assign({},e,n))});const P=[],D=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>rS(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=A;if(x.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>x.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,r,k,S);if(o.setRealPlayer(n),t===A)P.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=xE(e)),i.push(o)}}else oS(e,s.fromStyles),o.onDestroy(()=>rS(e,s.toStyles)),D.push(o),u.has(e)&&i.push(o)}),D.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=xE(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let T=0;T<m.length;T++){const t=m[T],e=t[uk];if(Ck(t,WE),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,XE,!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?xk(this,t,i):this.processLeaveNode(t)}return m.length=0,P.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),P}elementContainsData(t,e){let n=!1;const i=e[uk];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==hk;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,l=DE(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}oS(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[uk];if(d&&d.removedBeforeQueried)return new I_(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof j_?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||sk).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=o.get(h),v=EE(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,v,f);if(e.subTimeline&&i&&c.add(h),p){const e=new mk(t,s,h);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{DE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e)){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>wk(t,ZE));const d=xE(h);return d.onDestroy(()=>{u.forEach(t=>Ck(t,ZE)),rS(a,e.toStyles)}),c.forEach(t=>{DE(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new I_(t.duration,t.delay)}}class mk{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new I_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>SE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){DE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gk(t){return t&&1===t.nodeType}function vk(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function yk(t,e,n,i,r){const o=[];n.forEach(t=>o.push(vk(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i[uk]=lk,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>vk(t,o[a++])),s}function bk(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=r.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:i.has(s)?1:t(s),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const _k="$$classes";function wk(t,e){if(t.classList)t.classList.add(e);else{let n=t[_k];n||(n=t[_k]={}),n[e]=!0}}function Ck(t,e){if(t.classList)t.classList.remove(e);else{let n=t[_k];n&&delete n[e]}}function xk(t,e,n){xE(n).onDone(()=>t.processLeaveNode(e))}function Ek(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Sk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new fk(t,e,n),this._timelineEngine=new JS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=ES(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new XS(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=AE(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=AE(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function kk(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Dk(e[0]),e.length>1&&(i=Dk(e[e.length-1]))):e&&(n=Dk(e)),n||i?new Pk(t,n,i):null}let Pk=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&rS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rS(this._element,this._initialStyles),this._endStyles&&(rS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(oS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oS(this._element,this._endStyles),this._endStyles=null),rS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Dk(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Ak(r)&&((e=e||{})[r]=t[r])}return e}function Ak(t){return"display"===t||"position"===t}const Tk=3,Ik="animation",jk="animationend",Ok=1e3;class Mk{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=zk(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Vk(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Lk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Rk(this._element,this._name,"paused")}resume(){Rk(this._element,this._name,"running")}setPosition(t){const e=Nk(this._element,this._name);this._position=t*this._duration,Vk(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Tk))*Ok;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Lk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=zk(t,"").split(","),i=Fk(n,e);i>=0&&(n.splice(i,1),Vk(t,"",n.join(",")))}(this._element,this._name))}}function Rk(t,e,n){Vk(t,"PlayState",n,Nk(t,e))}function Nk(t,e){const n=zk(t,"");return n.indexOf(",")>0?Fk(n.split(","),e):Fk([n],e)}function Fk(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Lk(t,e,n){n?t.removeEventListener(jk,e):t.addEventListener(jk,e)}function Vk(t,e,n,i){const r=Ik+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function zk(t,e){return t.style[Ik+e]}const Uk="forwards",Bk="linear";class Hk{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||Bk,this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Mk(this.element,this.animationName,this._duration,this._delay,this.easing,Uk,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:gS(this.element,n))})}this.currentSnapshot=t}}class Gk extends I_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=zE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const $k="gen_css_kf_",Wk=" ";class qk{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return NE(t)}matchesElement(t,e){return FE(t,e)}containsElement(t,e){return LE(t,e)}query(t,e,n){return VE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>zE(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=Wk;const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=Wk,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.innerHTML=i,o}animate(t,e,n,i,r,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Hk),l={};pS(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=fS(t,e,l));if(0==n)return new Gk(t,u);const c=`${$k}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=kk(t,e),p=new Hk(t,e,c,n,i,r,u,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Yk{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:gS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Zk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xk().toString()),this._cssKeyframesDriver=new qk}validateStyleProperty(t){return NE(t)}matchesElement(t,e){return FE(t,e)}containsElement(t,e){return LE(t,e)}query(t,e,n){return VE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},u=o.filter(t=>t instanceof Yk);pS(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=kk(t,e=fS(t,e=e.map(t=>eS(t,!1)),l));return new Yk(t,e,a,c)}}function Xk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Kk extends S_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ee.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?D_(t):t;return tP(this._renderer,null,e,"register",[n]),new Qk(e,this._renderer)}}class Qk extends k_{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Jk(this._id,t,e||{},this._renderer)}}class Jk{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function tP(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const eP="@",nP="@.disabled";class iP{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new rP("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,t),e.data.animation.forEach(e=>this.engine.registerTrigger(i,r,t,e.name,e)),new oP(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class rP{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==eP&&e==nP?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oP extends rP{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==eP?"."==e.charAt(1)&&e==nP?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==eP){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return r.charAt(0)!=eP&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class sP extends Sk{constructor(t,e,n){super(t.body,e,n)}}function aP(){return"function"==typeof Xk()?new Zk:new qk}function lP(){return new GS}function uP(t,e,n){return new iP(t,e,n)}const cP=new jt("AnimationModuleType");class hP{}var dP=Ei({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function pP(t){return Ls(2,[Ds(671088640,1,{ripple:0}),(t()(),xs(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Os(null,0),(t()(),xs(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),jr(4,212992,[[1,4]],0,_b,[Mn,Vo,Rg,[2,bb],[2,cP]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),xs(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,br(e,4).unbounded)}))}var fP=Ei({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function mP(t){return Ls(2,[Ds(671088640,1,{ripple:0}),(t()(),xs(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Os(null,0),(t()(),xs(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),jr(4,212992,[[1,4]],0,_b,[Mn,Vo,Rg,[2,bb],[2,cP]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),xs(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,br(e,4).unbounded)}))}var gP=Ei({encapsulation:2,styles:[],data:{}});function vP(t){return Ls(2,[(t()(),xs(0,0,null,null,12,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,11,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,4,"button",[["cdkAriaLive","polite"],["class","mat-calendar-period-button"],["mat-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.currentPeriodClicked()&&i),i}),pP,dP)),jr(3,180224,null,0,g_,[Mn,Ry,[2,cP]],null,null),jr(4,147456,null,0,jy,[Mn,Iy,bE,Vo],{politeness:[0,"politeness"]},null),(t()(),Rs(5,0,["",""])),(t()(),xs(6,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(t()(),xs(7,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),Os(null,0),(t()(),xs(9,0,null,null,1,"button",[["class","mat-calendar-previous-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.previousClicked()&&i),i}),pP,dP)),jr(10,180224,null,0,g_,[Mn,Ry,[2,cP]],{disabled:[0,"disabled"]},null),(t()(),xs(11,0,null,null,1,"button",[["class","mat-calendar-next-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.nextClicked()&&i),i}),pP,dP)),jr(12,180224,null,0,g_,[Mn,Ry,[2,cP]],{disabled:[0,"disabled"]},null)],(function(t,e){var n=e.component;t(e,4,0,"polite"),t(e,10,0,!n.previousEnabled()),t(e,12,0,!n.nextEnabled())}),(function(t,e){var n=e.component;t(e,2,0,n.periodButtonLabel,br(e,3).disabled||null,"NoopAnimations"===br(e,3)._animationMode),t(e,5,0,n.periodButtonText),t(e,6,0,"month"!=n.calendar.currentView),t(e,9,0,n.prevButtonLabel,br(e,10).disabled||null,"NoopAnimations"===br(e,10)._animationMode),t(e,11,0,n.nextButtonLabel,br(e,12).disabled||null,"NoopAnimations"===br(e,12)._animationMode)}))}function yP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-calendar-header",[],null,null,null,vP,gP)),jr(1,49152,null,0,q_,[R_,Y_,[2,qy],[2,Yy],ze],null,null)],null,null)}var bP=lr("mat-calendar-header",q_,yP,{},{},["*"]),_P=Ei({encapsulation:2,styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],data:{}});function wP(t){return Ls(0,[(t()(),Cs(0,null,null,0))],null,null)}function CP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-month-view",[],null,[[null,"activeDateChange"],[null,"selectedChange"],[null,"_userSelection"]],(function(t,e,n){var i=!0,r=t.component;return"activeDateChange"===e&&(i=!1!==(r.activeDate=n)&&i),"selectedChange"===e&&(i=!1!==r._dateSelected(n)&&i),"_userSelection"===e&&(i=!1!==r._userSelected()&&i),i}),LP,NP)),jr(1,1097728,[[1,4]],0,V_,[ze,[2,Yy],[2,qy],[2,nw]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"],dateClass:[5,"dateClass"]},{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"})],(function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter,n.dateClass)}),null)}function xP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-year-view",[],null,[[null,"activeDateChange"],[null,"monthSelected"],[null,"selectedChange"]],(function(t,e,n){var i=!0,r=t.component;return"activeDateChange"===e&&(i=!1!==(r.activeDate=n)&&i),"monthSelected"===e&&(i=!1!==r._monthSelectedInYearView(n)&&i),"selectedChange"===e&&(i=!1!==r._goToDateInView(n,"month")&&i),i}),zP,VP)),jr(1,1097728,[[2,4]],0,W_,[ze,[2,Yy],[2,qy],[2,nw]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"})],(function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function EP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"activeDateChange"],[null,"yearSelected"],[null,"selectedChange"]],(function(t,e,n){var i=!0,r=t.component;return"activeDateChange"===e&&(i=!1!==(r.activeDate=n)&&i),"yearSelected"===e&&(i=!1!==r._yearSelectedInMultiYearView(n)&&i),"selectedChange"===e&&(i=!1!==r._goToDateInView(n,"year")&&i),i}),BP,UP)),jr(1,1097728,[[3,4]],0,B_,[ze,[2,qy],[2,nw]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"})],(function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)}),null)}function SP(t){return Ls(2,[Ds(671088640,1,{monthView:0}),Ds(671088640,2,{yearView:0}),Ds(671088640,3,{multiYearView:0}),(t()(),Cs(16777216,null,null,1,null,wP)),jr(4,212992,null,0,Ib,[Tn,si],{portal:[0,"portal"]},null),(t()(),xs(5,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,null,null,null,null)),jr(6,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),jr(7,147456,null,0,Ny,[Mn,Ry],null,null),(t()(),Cs(16777216,null,null,1,null,CP)),jr(9,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,xP)),jr(11,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,EP)),jr(13,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,4,0,n._calendarHeaderPortal),t(e,6,0,n.currentView),t(e,9,0,"month"),t(e,11,0,"year"),t(e,13,0,"multi-year")}),null)}var kP=Ei({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],data:{}});function PP(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(t()(),Rs(2,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.numCols,n._cellPadding,n._cellPadding),t(e,2,0,n.label)}))}function DP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(t()(),Rs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._firstRowOffset,n._cellPadding,n._cellPadding),t(e,1,0,n._firstRowOffset>=n.labelMinRequiredCells?n.label:"")}))}function AP(t){return Ls(0,[(t()(),xs(0,0,null,null,4,"td",[["class","mat-calendar-body-cell"],["role","button"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[1,"aria-selected",0],[4,"width",null],[4,"paddingTop",null],[4,"paddingBottom",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._cellClicked(t.context.$implicit)&&i),i}),null,null)),Or(512,null,pl,fl,[Jn,ti,Mn,Vn]),jr(2,278528,null,0,gl,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),xs(3,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(t()(),Rs(4,null,["",""]))],(function(t,e){t(e,2,0,"mat-calendar-body-cell",e.context.$implicit.cssClasses)}),(function(t,e){var n=e.component;t(e,0,0,n._isActiveCell(e.parent.context.index,e.context.index)?0:-1,!e.context.$implicit.enabled,n._isActiveCell(e.parent.context.index,e.context.index),e.context.$implicit.ariaLabel,!e.context.$implicit.enabled||null,n.selectedValue===e.context.$implicit.value,n._cellWidth,n._cellPadding,n._cellPadding),t(e,3,0,n.selectedValue===e.context.$implicit.value,n.todayValue===e.context.$implicit.value),t(e,4,0,e.context.$implicit.displayValue)}))}function TP(t){return Ls(0,[(t()(),xs(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,DP)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,AP)),jr(4,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,0===e.context.index&&e.component._firstRowOffset),t(e,4,0,e.context.$implicit)}),null)}function IP(t){return Ls(2,[(t()(),Cs(16777216,null,null,1,null,PP)),jr(1,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,TP)),jr(3,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._firstRowOffset<n.labelMinRequiredCells),t(e,3,0,n.rows)}),null)}var jP=Ei({encapsulation:2,styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(1, 0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms linear"},options:null}],options:{}},{type:7,name:"fadeInCalendar",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null}],options:{}}]}});function OP(t){return Ls(2,[Ds(671088640,1,{_calendar:0}),(t()(),xs(1,0,null,null,4,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0],[24,"@fadeInCalendar",0]],[[null,"selectedChange"],[null,"yearSelected"],[null,"monthSelected"],[null,"_userSelection"]],(function(t,e,n){var i=!0,r=t.component;return"selectedChange"===e&&(i=!1!==r.datepicker.select(n)&&i),"yearSelected"===e&&(i=!1!==r.datepicker._selectYear(n)&&i),"monthSelected"===e&&(i=!1!==r.datepicker._selectMonth(n)&&i),"_userSelection"===e&&(i=!1!==r.datepicker.close()&&i),i}),SP,_P)),Or(512,null,pl,fl,[Jn,ti,Mn,Vn]),jr(3,278528,null,0,gl,[pl],{ngClass:[0,"ngClass"]},null),jr(4,1458176,null,0,Dy,[Mn,Py,jl],{enabled:[0,"enabled"]},null),jr(5,10141696,[[1,4]],0,Y_,[R_,[2,qy],[2,Yy],ze],{headerComponent:[0,"headerComponent"],startAt:[1,"startAt"],startView:[2,"startView"],selected:[3,"selected"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],dateFilter:[6,"dateFilter"],dateClass:[7,"dateClass"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"})],(function(t,e){var n=e.component;t(e,3,0,n.datepicker.panelClass),t(e,4,0,""),t(e,5,0,n.datepicker.calendarHeaderComponent,n.datepicker.startAt,n.datepicker.startView,n.datepicker._selected,n.datepicker._minDate,n.datepicker._maxDate,n.datepicker._dateFilter,n.datepicker.dateClass)}),(function(t,e){t(e,1,0,e.component.datepicker.id,"enter")}))}function MP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[40,"@transformPanel",0],[2,"mat-datepicker-content-touch",null]],null,null,OP,jP)),jr(1,4243456,null,0,J_,[Mn],null,null)],null,(function(t,e){t(e,0,0,"enter",br(e,1).datepicker.touchUi)}))}var RP=lr("mat-datepicker-content",J_,MP,{color:"color"},{},[]),NP=Ei({encapsulation:2,styles:[],data:{}});function FP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"th",[],[[1,"aria-label",0]],null,null,null,null)),(t()(),Rs(1,null,["",""]))],null,(function(t,e){t(e,0,0,e.context.$implicit.long),t(e,1,0,e.context.$implicit.narrow)}))}function LP(t){return Ls(2,[Ds(671088640,1,{_matCalendarBody:0}),(t()(),xs(1,0,null,null,8,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,FP)),jr(5,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(6,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),xs(7,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"selectedValueChange"===e&&(i=!1!==r._dateSelected(n)&&i),"keydown"===e&&(i=!1!==r._handleCalendarBodyKeydown(n)&&i),i}),IP,kP)),jr(9,573440,[[1,4]],0,F_,[Mn,Vo],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],(function(t,e){var n=e.component;t(e,5,0,n._weekdays),t(e,9,0,n._monthLabel,n._weeks,n._todayDate,n._selectedDate,3,n._dateAdapter.getDate(n.activeDate)-1)}),null)}var VP=Ei({encapsulation:2,styles:[],data:{}});function zP(t){return Ls(2,[Ds(671088640,1,{_matCalendarBody:0}),(t()(),xs(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"selectedValueChange"===e&&(i=!1!==r._monthSelected(n)&&i),"keydown"===e&&(i=!1!==r._handleCalendarBodyKeydown(n)&&i),i}),IP,kP)),jr(6,573440,[[1,4]],0,F_,[Mn,Vo],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],activeCell:[6,"activeCell"],cellAspectRatio:[7,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(t,e){var n=e.component;t(e,6,0,n._yearLabel,n._months,n._todayMonth,n._selectedMonth,2,4,n._dateAdapter.getMonth(n.activeDate),4/7)}),null)}var UP=Ei({encapsulation:2,styles:[],data:{}});function BP(t){return Ls(2,[Ds(671088640,1,{_matCalendarBody:0}),(t()(),xs(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"selectedValueChange"===e&&(i=!1!==r._yearSelected(n)&&i),"keydown"===e&&(i=!1!==r._handleCalendarBodyKeydown(n)&&i),i}),IP,kP)),jr(6,573440,[[1,4]],0,F_,[Mn,Vo],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],activeCell:[4,"activeCell"],cellAspectRatio:[5,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(t,e){var n=e.component;t(e,6,0,n._years,n._todayYear,n._selectedYear,4,n._getActiveCell(),4/7)}),null)}var HP=Ei({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function GP(t){return Ls(2,[(t()(),xs(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],(function(t,e,n){var i=!0,r=t.component;return"@state.start"===e&&(i=!1!==r._animationStart()&&i),"@state.done"===e&&(i=!1!==r._animationDone(n)&&i),i}),null,null)),Or(512,null,pl,fl,[Jn,ti,Mn,Vn]),jr(2,278528,null,0,gl,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e=131072,n=Tl,i=[ze],Mr(-1,e|=16,null,0,n,n,i)),(t()(),Rs(4,null,["",""]))],(function(t,e){t(e,2,0,"mat-tooltip",e.component.tooltipClass)}),(function(t,e){var n,i=e.component;t(e,0,0,null==(n=function(t,e,n,i){if(bn.isWrapped(i)){i=bn.unwrap(i);const e=t.def.nodes[0].bindingIndex+0,n=bn.unwrap(t.oldValues[e]);t.oldValues[e]=new bn(n)}return i}(e,0,0,br(e,3).transform(i._isHandset)))?null:n.matches,i._visibility),t(e,4,0,i.message)}));var e,n,i}function $P(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],(function(t,e,n){var i=!0;return"body:click"===e&&(i=!1!==br(t,1)._handleBodyInteraction()&&i),i}),GP,HP)),jr(1,180224,null,0,yx,[ze,HC],null,null)],null,(function(t,e){t(e,0,0,"visible"===br(e,1)._visibility?1:null)}))}var WP=lr("mat-tooltip-component",yx,$P,{},{},[]),qP=Ei({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function YP(t){return Ls(0,[(t()(),Cs(0,null,null,0))],null,null)}function ZP(t){return Ls(0,[Ds(402653184,1,{_portalOutlet:0}),(t()(),Cs(16777216,null,null,1,null,YP)),jr(2,212992,[[1,4]],0,Ib,[Tn,si],{portal:[0,"portal"]},null)],(function(t,e){t(e,2,0,"")}),null)}function XP(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],(function(t,e,n){var i=!0;return"component:@state.done"===e&&(i=!1!==br(t,1).onAnimationEnd(n)&&i),i}),ZP,qP)),jr(1,180224,null,0,XC,[Vo,Mn,ze,YC],null,null)],null,(function(t,e){t(e,0,0,br(e,1)._role,br(e,1)._animationState)}))}var KP=lr("snack-bar-container",XC,XP,{},{},[]),QP=Ei({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function JP(t){return Ls(0,[(t()(),xs(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.action()&&i),i}),pP,dP)),jr(2,180224,null,0,g_,[Mn,Ry,[2,cP]],null,null),(t()(),Rs(3,0,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,br(e,2).disabled||null,"NoopAnimations"===br(e,2)._animationMode),t(e,3,0,n.data.action)}))}function tD(t){return Ls(2,[(t()(),xs(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Rs(1,null,["",""])),(t()(),Cs(16777216,null,null,1,null,JP)),jr(3,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.hasAction)}),(function(t,e){t(e,1,0,e.component.data.message)}))}function eD(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,tD,QP)),jr(1,49152,null,0,ZC,[WC,qC],null,null)],null,null)}var nD=lr("simple-snack-bar",ZC,eD,{},{},[]);class iD{}class rD{constructor(t=!1,e="all",n="",i="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i,this.priority=r,this.property=""}clone(){return new rD(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let oD=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();const sD={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},aD=new jt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>sD}),lD=new jt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),uD=new jt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function cD(t,e){return t=t?t.clone():new rD,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const hD="inline",dD=["row","column","row-reverse","column-reverse"];function pD(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}class fD{constructor(t,e,n,i){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new P,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,i=n.shouldCache;let r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,i]=this.styler.getFlowDirection(t);if(!i&&e){const e=function(t){let[e,n,i]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return dD.find(t=>t===e)||(e=dD[0]),n===hD&&(n=i!==hD?i:"",i=hD),[e,pD(n),!!i]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}const mD=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],gD="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",vD="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",yD="(orientation: portrait) and (min-width: 840px)",bD="(orientation: landscape) and (min-width: 1280px)",_D={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${gD} , ${vD}`,WEB:`${yD}, ${bD} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${gD} `,WEB_PORTRAIT:`${yD}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${vD}`,WEB_LANDSCAPE:`${bD}`},wD=[{alias:"handset",priority:2e3,mediaQuery:_D.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:_D.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:_D.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:_D.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:_D.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:_D.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:_D.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:_D.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:_D.WEB_PORTRAIT,overlapping:!0}],CD=/(\.|-|_)/g;function xD(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const ED=new jt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Wt(uD),e=Wt(aD),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(i=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(CD,"|").split("|").map(xD).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i;var i}((e.disableDefaultBps?[]:mD).concat(e.addOrientationBps?wD:[]),n)}});function SD(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function kD(t,e){return(t.priority||0)-(e.priority||0)}let PD=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(kD)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.ngInjectableDef=_t({factory:function(){return new t($t(ED))},token:t,providedIn:"root"}),t})(),DD=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new fh(new rD(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Oh(n=>!e||t.indexOf(n.mediaQuery)>-1));return Q(new w(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!AD[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>AD[t]=i)}catch(i){console.error(i)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||((e=this.buildMQL(t)).addListener(e=>{this._zone.run(()=>this.source.next(new rD(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new rD(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,Rl(this._platformId))}}return t.ngInjectableDef=_t({factory:function(){return new t($t(Vo),$t(yo),$t(jl))},token:t,providedIn:"root"}),t})();const AD={},TD="print",ID={alias:TD,mediaQuery:TD,priority:1e3};let jD=(()=>{class t{constructor(t,e){this.breakpoints=t,this.layoutConfig=e,this.isPrinting=!1,this.queue=new OD,this.deactivations=[]}withPrintQuery(t){return[...t,TD]}isPrintEvent(t){return t.mediaQuery.startsWith(TD)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(SD)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),cD(t,e)}interceptEvents(t){return e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):!e.matches&&this.isPrinting&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting)if(t.matches)this.deactivations=[];else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(SD))}}}return t.ngInjectableDef=_t({factory:function(){return new t($t(PD),$t(aD))},token:t,providedIn:"root"}),t})();class OD{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(ID),t.sort(SD),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(TD)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function MD(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let RD=(()=>{class t{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n=null){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:MD(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:MD(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||Nl(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Rl(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(Rl(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=t[n],r=Array.isArray(i)?i:[i];r.sort();for(let t of r)t=t?t+"":"",Rl(this._platformId)||!this._serverModuleLoaded?Rl(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}return t.ngInjectableDef=_t({factory:function(){return new t($t(oD,8),$t(lD,8),$t(yo),$t(aD))},token:t,providedIn:"root"}),t})();class ND{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function FD(t,e="1",n="1"){let i=[e,n,t],r=t.indexOf("calc");if(r>0){i[2]=LD(t.substring(r).trim());let e=t.substr(0,r).trim().split(" ");2==e.length&&(i[0]=e[0],i[1]=e[1])}else if(0==r)i[2]=LD(t.trim());else{let r=t.split(" ");i=3===r.length?r:[e,n,t]}return i}function LD(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let VD=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new P,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=cD(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(SD),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(SD),this.updateStyles()))}init(t,e,n,i,r=[]){zD(this.updateMap,t,e,n),zD(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}getValue(t,e,n){const i=this.elementMap.get(t);if(i){const t=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,i){let r=this.elementMap.get(t);if(r){const o=(r.get(i)||new Map).set(e,n);r.set(i,o),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(Oh(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let i=this.getActivatedValues(t);i&&i.forEach((t,i)=>{this.updateElement(e,i,t),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(t,n)){const t=i.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const i=this.updateMap.get(t);if(i){const r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const i=this.getActivatedValues(n,e);i&&(e?this.updateElement(t,e,i.get(e)):i.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let i=this.watcherMap.get(t);if(i||(i=new Map,this.watcherMap.set(t,i)),!i.get(e)){const r=Q(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});i.set(e,r)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=t.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(wp(this.hook.interceptEvents(this)),Oh(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.ngInjectableDef=_t({factory:function(){return new t($t(DD),$t(PD),$t(jD))},token:t,providedIn:"root"}),t})();function zD(t,e,n,i){if(void 0!==i){let r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}const UD="inline",BD=["row","column","row-reverse","column-reverse"];function HD(t){let[e]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return BD.find(t=>t===e)||(e=BD[0]),n===UD&&(n=i!==UD?i:"",i=UD),[e,GD(n),!!i]}(t);return e.indexOf("row")>-1}function GD(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}function $D(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let WD=(()=>{class t extends ND{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,i,...r]=t.split(" "),o=r.join(" ");const s=e.direction.indexOf("column")>-1?"column":"row",a=HD(s)?"max-width":"max-height",l=HD(s)?"min-width":"min-height",u=String(o).indexOf("calc")>-1,c=u||"auto"===o,h=String(o).indexOf("%")>-1&&!u,d=String(o).indexOf("px")>-1||String(o).indexOf("rem")>-1||String(o).indexOf("em")>-1||String(o).indexOf("vw")>-1||String(o).indexOf("vh")>-1;let p=u||d;i="0"==i?0:i;const f=!(n="0"==n?0:n)&&!i;let m={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(o||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;o="row"===s?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,o="auto";break;case"grow":o="100%";break;case"noshrink":i=0,o="auto";break;case"auto":break;case"none":n=0,i=0,o="auto";break;default:p||h||isNaN(o)||(o+="%"),"0%"===o&&(p=!0),"0px"===o&&(o="0%"),m=$D(g,u?{"flex-grow":n,"flex-shrink":i,"flex-basis":p?o:"100%"}:{flex:`${n} ${i} ${p?o:"100%"}`})}return m.flex||m["flex-grow"]||(m=$D(g,u?{"flex-grow":n,"flex-shrink":i,"flex-basis":o}:{flex:`${n} ${i} ${o}`})),"0%"!==o&&"0px"!==o&&"0.000000001px"!==o&&"auto"!==o&&(m[l]=f||p&&n?o:null,m[a]=f||!c&&i?o:null),m[l]||m[a]?e.hasWrap&&(m[u?"flex-basis":"flex"]=m[a]?u?m[a]:`${n} ${i} ${m[a]}`:u?m[l]:`${n} ${i} ${m[l]}`):m=$D(g,u?{"flex-grow":n,"flex-shrink":i,"flex-basis":o}:{flex:`${n} ${i} ${o}`}),$D(m,{"box-sizing":"border-box"})}}return t.ngInjectableDef=_t({factory:function(){return new t($t(aD))},token:t,providedIn:"root"}),t})();const qD=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];class YD extends fD{constructor(t,e,n,i,r){super(t,i,e,r),this.elRef=t,this.styleUtils=e,this.layoutConfig=n,this.styleBuilder=i,this.marshal=r,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(nv(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(nv(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const e=this.direction,n=e.startsWith("row"),i=this.wrap;n&&i?this.styleCache=QD:n&&!i?this.styleCache=XD:!n&&i?this.styleCache=JD:n||i||(this.styleCache=KD);const r=FD(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(r.join(" "),{direction:e,hasWrap:i})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=FD(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}class ZD extends YD{constructor(){super(...arguments),this.inputs=qD}}const XD=new Map,KD=new Map,QD=new Map,JD=new Map;let tA=(()=>{class t extends ND{buildStyles(t,e){const n={},[i,r]=t.split(" ");switch(i){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(r){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return $D(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===r?HD(e.layout)?null:"100%":null,"max-height":"stretch"===r&&HD(e.layout)?"100%":null})}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();const eA=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];class nA extends fD{constructor(t,e,n,i){super(t,n,e,i),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=i,this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(nv(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=lA:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=cA:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=uA:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=hA:"column-reverse"!==e||n||(this.styleCache=aA):this.styleCache=oA:this.styleCache=sA:this.styleCache=rA,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),BD.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}class iA extends nA{constructor(){super(...arguments),this.inputs=eA}}const rA=new Map,oA=new Map,sA=new Map,aA=new Map,lA=new Map,uA=new Map,cA=new Map,hA=new Map;class dA{}let pA=(()=>{class t extends ND{buildStyles(t,e){return{display:"true"===t?e.display:"none"}}}return t.ngInjectableDef=_t({factory:function(){return new t},token:t,providedIn:"root"}),t})();class fA extends fD{constructor(t,e,n,i,r,o,s){super(t,e,n,i),this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.layoutConfig=r,this.platformId=o,this.serverModuleLoaded=s,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let n=0;n<t.length;n++)if(this.marshal.hasValue(t[n],"flex")){this.hasFlexChild=!0;break}mA.has(this.nativeElement)?this.display=mA.get(this.nativeElement):(this.display=this.getDisplayStyle(),mA.set(this.nativeElement,this.display)),this.init();const e=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===e||""===e?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split("."),i=n.slice(1).join("."),r=t[e].currentValue;let o=""===r||0!==r&&$g(r);"fxHide"===n[0]&&(o=!o),this.setValue(o,i)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(nv(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){""!==t&&(this.addStyles(t?"true":"false",{display:this.display}),Nl(this.platformId)&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap"))}}const mA=new WeakMap,gA=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];class vA extends fA{constructor(){super(...arguments),this.inputs=gA}}class yA{}class bA{}class _A{constructor(t,e){Nl(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,e=[]){return{ngModule:_A,providers:t.serverLoaded?[{provide:aD,useValue:Object.assign({},sD,t)},{provide:uD,useValue:e,multi:!0},{provide:lD,useValue:!0}]:[{provide:aD,useValue:Object.assign({},sD,t)},{provide:uD,useValue:e,multi:!0}]}}}var wA=Ei({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function CA(t){return Ls(0,[(t()(),xs(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,"mat-progress-spinner-stroke-rotate-"+n.diameter,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function xA(t){return Ls(0,[(t()(),xs(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n._circleRadius,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)}))}function EA(t){return Ls(2,[(t()(),xs(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),jr(1,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Cs(16777216,null,null,1,null,CA)),jr(3,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,xA)),jr(5,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){t(e,1,0,"indeterminate"===e.component.mode),t(e,3,0,!0),t(e,5,0,!1)}),(function(t,e){var n=e.component;t(e,0,0,n.diameter,n.diameter,n._viewBox)}))}var SA=Ei({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function kA(t){return Ls(2,[Os(null,0)],null,null)}var PA=Ei({encapsulation:2,styles:[],data:{}});function DA(t){return Ls(2,[(t()(),xs(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),jr(2,212992,null,0,_b,[Mn,Vo,Rg,[2,bb],[2,cP]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),Os(null,0),(t()(),xs(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),Os(null,1),Os(null,2)],(function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){t(e,1,0,br(e,2).unbounded)}))}var AA=Ei({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function TA(t){return Ls(2,[Os(null,0)],null,null)}var IA=Ei({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function jA(t){return Ls(0,[(t()(),xs(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),xs(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function OA(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Os(null,0)],null,null)}function MA(t){return Ls(0,[(t()(),xs(0,0,null,null,3,null,null,null,null,null,null,null)),Os(null,2),(t()(),xs(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Rs(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function RA(t){return Ls(0,[Os(null,3),(t()(),Cs(0,null,null,0))],null,null)}function NA(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),Rs(-1,null,[" *"]))],null,null)}function FA(t){return Ls(0,[(t()(),xs(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component.updateOutlineGap()&&i),i}),null,null)),jr(1,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),jr(2,1196032,null,0,_E,[bE,Mn,Vo],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Cs(16777216,null,null,1,null,MA)),jr(4,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,RA)),jr(6,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,NA)),jr(8,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function LA(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Os(null,4)],null,null)}function VA(t){return Ls(0,[(t()(),xs(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function zA(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Os(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function UA(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),Rs(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function BA(t){return Ls(0,[(t()(),xs(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,UA)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),Os(null,6),(t()(),xs(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Os(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function HA(t){return Ls(2,[Ds(671088640,1,{underlineRef:0}),Ds(402653184,2,{_connectionContainerRef:0}),Ds(671088640,3,{_inputContainerRef:0}),Ds(671088640,4,{_label:0}),(t()(),xs(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),xs(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==(r._control.onContainerClick&&r._control.onContainerClick(n))&&i),i}),null,null)),(t()(),Cs(16777216,null,null,1,null,jA)),jr(7,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,OA)),jr(9,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Os(null,1),(t()(),xs(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,FA)),jr(14,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,LA)),jr(16,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,VA)),jr(18,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),jr(20,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Cs(16777216,null,null,1,null,zA)),jr(22,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(16777216,null,null,1,null,BA)),jr(24,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}var GA=Ei({encapsulation:2,styles:[],data:{}});function $A(t){return Ls(2,[Os(null,0)],null,null)}var WA=Ei({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function qA(t){return Ls(2,[(t()(),xs(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),Os(null,0)],null,null)}var YA=Ei({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function ZA(t){return Ls(0,[(t()(),xs(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._onBackdropClicked()&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function XA(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,$A,GA)),jr(1,1294336,[[1,4]],0,TC,[ze,jC,Mn,pv,Vo],null,null),Os(0,2)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,br(e,1)._container._contentMargins.left,br(e,1)._container._contentMargins.right)}))}function KA(t){return Ls(2,[Ds(671088640,1,{_userContent:0}),(t()(),Cs(16777216,null,null,1,null,ZA)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),Os(null,0),Os(null,1),(t()(),Cs(16777216,null,null,1,null,XA)),jr(6,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}var QA=Ei({encapsulation:2,styles:[],data:{}});function JA(t){return Ls(0,[(t()(),xs(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var tT=Ei({encapsulation:2,styles:[],data:{}});function eT(t){return Ls(0,[(t()(),xs(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var nT=Ei({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function iT(t){return Ls(2,[Os(null,0),Os(null,1)],null,null)}var rT=Ei({encapsulation:2,styles:[],data:{}});function oT(t){return Ls(0,[Os(null,0)],null,null)}var sT=Ei({encapsulation:0,styles:["[_nghost-%COMP%]     .data-flow-manager-container{height:100%}"],data:{}});function aT(t){return Ls(0,[(t()(),xs(0,0,null,null,6,"div",[["class","spread"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"h2",[["class","mat-headline"]],null,null,null,null,null)),(t()(),Rs(-1,null,["Data Flow Management"])),(t()(),xs(3,0,null,null,1,"p",[["class","mat-body-2 spread"]],null,null,null,null,null)),(t()(),Rs(-1,null,[" A collection of all data flows across your organization. Pay close attention to the type of Data Flow from this view as they all have different outcomes in provisioned and deployed enterprise assets/configurations. "])),(t()(),xs(5,0,null,null,1,"lcu-data-flow-list-element",[],null,null,null,wT,fT)),jr(6,114688,null,0,Qx,[on,uh,Zx],null,null)],(function(t,e){t(e,6,0)}),null)}function lT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"lcu-data-flow-ide-element",[],null,null,null,TT,ET)),jr(2,4440064,null,0,nE,[on,Zx,Vx,eE],null,null)],(function(t,e){t(e,2,0)}),null)}function uT(t){return Ls(0,[(t()(),xs(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,aT)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,lT)),jr(4,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,!n.State.ActiveDataFlow),t(e,4,0,n.State.ActiveDataFlow)}),null)}function cT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"div",[["class","spread"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,EA,wA)),jr(2,114688,null,0,CC,[Mn,Rg,[2,jl],[2,cP],bC],null,null)],(function(t,e){t(e,2,0)}),(function(t,e){t(e,1,0,br(e,2)._noopAnimations,br(e,2).diameter,br(e,2).diameter)}))}function hT(t){return Ls(0,[(t()(),xs(0,0,null,null,4,"div",[["class","data-flow-manager-container"]],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,uT)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,cT)),jr(4,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.State.Loading),t(e,4,0,n.State.Loading)}),null)}function dT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"lcu-data-flow-manager-element",[],null,null,null,hT,sT)),jr(1,114688,null,0,Kx,[on,Zx],null,null)],(function(t,e){t(e,1,0)}),null)}var pT=lr("lcu-data-flow-manager-element",Kx,dT,{context:"context",SetContext:"SetContext"},{},[]),fT=Ei({encapsulation:0,styles:[""],data:{}});function mT(t){return Ls(0,[(t()(),xs(0,0,null,null,25,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,DA,PA)),jr(1,1228800,null,3,oC,[Mn,ze,[2,iC],[2,rC]],null,null),Ds(603979776,1,{_lines:1}),Ds(603979776,2,{_avatar:0}),Ds(603979776,3,{_icon:0}),(t()(),xs(5,0,null,2,7,"div",[["fxFlex","70%"]],null,null,null,null,null)),jr(6,671744,null,0,ZD,[Mn,RD,aD,WD,VD],{fxFlex:[0,"fxFlex"]},null),(t()(),xs(7,0,null,null,5,"div",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),jr(8,16384,[[1,4]],0,cb,[],null,null),(t()(),xs(9,0,null,null,3,"h4",[],null,null,null,null,null)),(t()(),Rs(10,null,[" "," - "])),(t()(),xs(11,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),Rs(12,null,["",""])),(t()(),xs(13,0,null,2,12,"div",[["fxFlex","30%"]],null,null,null,null,null)),jr(14,671744,null,0,ZD,[Mn,RD,aD,WD,VD],{fxFlex:[0,"fxFlex"]},null),(t()(),xs(15,0,null,null,5,"a",[["color","accent"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,16)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.SetAcitveDataFlow(t.context.$implicit)&&i),i}),mP,fP)),jr(16,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(17,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(18,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["settings"])),(t()(),Rs(-1,0,[" Manage "])),(t()(),xs(21,0,null,null,4,"a",[["color","warn"],["mat-icon-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,22)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.DeleteDataFlow(t.context.$implicit)&&i),i}),mP,fP)),jr(22,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(23,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(24,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["delete"]))],(function(t,e){t(e,6,0,"70%"),t(e,14,0,"30%"),t(e,16,0,"accent"),t(e,18,0),t(e,22,0,"warn"),t(e,24,0)}),(function(t,e){t(e,0,0,br(e,1)._avatar||br(e,1)._icon,br(e,1)._avatar||br(e,1)._icon),t(e,10,0,e.context.$implicit.Name),t(e,12,0,e.context.$implicit.Description),t(e,15,0,br(e,16).disabled?-1:br(e,16).tabIndex||0,br(e,16).disabled||null,br(e,16).disabled.toString(),"NoopAnimations"===br(e,16)._animationMode),t(e,17,0,br(e,18).inline,"primary"!==br(e,18).color&&"accent"!==br(e,18).color&&"warn"!==br(e,18).color),t(e,21,0,br(e,22).disabled?-1:br(e,22).tabIndex||0,br(e,22).disabled||null,br(e,22).disabled.toString(),"NoopAnimations"===br(e,22)._animationMode),t(e,23,0,br(e,24).inline,"primary"!==br(e,24).color&&"accent"!==br(e,24).color&&"warn"!==br(e,24).color)}))}function gT(t){return Ls(0,[(t()(),xs(0,0,null,null,7,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,DA,PA)),jr(1,1228800,null,3,oC,[Mn,ze,[2,iC],[2,rC]],null,null),Ds(603979776,4,{_lines:1}),Ds(603979776,5,{_avatar:0}),Ds(603979776,6,{_icon:0}),(t()(),xs(5,0,null,1,2,"h4",[["class","mat-line"],["mat-line",""]],null,null,null,null,null)),jr(6,16384,[[4,4]],0,cb,[],null,null),(t()(),Rs(-1,null,["No active data flows. Create a new data flow now."]))],null,(function(t,e){t(e,0,0,br(e,1)._avatar||br(e,1)._icon,br(e,1)._avatar||br(e,1)._icon)}))}function vT(t){return Ls(0,[(t()(),xs(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,mT)),jr(2,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Cs(16777216,null,null,1,null,gT)),jr(4,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.State.DataFlows),t(e,4,0,!(null!=n.State&&n.State.DataFlows)||0==n.State.DataFlows.length)}),null)}function yT(t){return Ls(0,[(t()(),xs(0,0,null,null,84,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,83,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,r=t.component;return"submit"===e&&(i=!1!==br(t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==br(t,3).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.CreateNewDataFlow()&&i),i}),null,null)),jr(2,16384,null,0,Jc,[],null,null),jr(3,540672,null,0,eh,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Or(2048,null,uc,null,[eh]),jr(5,16384,null,0,fc,[[4,uc]],null,null),(t()(),xs(6,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),xs(7,0,null,null,20,"mat-form-field",[["class","mat-form-field"],["style","width: 100%"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,HA,IA)),jr(8,7520256,null,9,kw,[Mn,ze,[2,Eb],[2,nw],[2,Sw],Rg,Vo,[2,cP]],null,null),Ds(603979776,7,{_controlNonStatic:0}),Ds(335544320,8,{_controlStatic:0}),Ds(603979776,9,{_labelChildNonStatic:0}),Ds(335544320,10,{_labelChildStatic:0}),Ds(603979776,11,{_placeholderChild:0}),Ds(603979776,12,{_errorChildren:1}),Ds(603979776,13,{_hintChildren:1}),Ds(603979776,14,{_prefixChildren:1}),Ds(603979776,15,{_suffixChildren:1}),(t()(),xs(18,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["placeholder","Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==br(t,19)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,19).onTouched()&&i),"compositionstart"===e&&(i=!1!==br(t,19)._compositionStart()&&i),"compositionend"===e&&(i=!1!==br(t,19)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,26)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==br(t,26)._focusChanged(!0)&&i),"input"===e&&(i=!1!==br(t,26)._onInput()&&i),i}),null,null)),jr(19,16384,null,0,ac,[Vn,Mn,[2,sc]],null,null),jr(20,16384,null,0,sh,[],{required:[0,"required"]},null),Or(1024,null,gc,(function(t){return[t]}),[sh]),Or(1024,null,oc,(function(t){return[t]}),[ac]),jr(23,671744,null,0,oh,[[3,uc],[6,gc],[8,null],[6,oc],[2,th]],{name:[0,"name"]},null),Or(2048,null,hc,null,[oh]),jr(25,16384,null,0,pc,[[4,hc]],null,null),jr(26,999424,null,0,Kw,[Mn,Rg,[6,hc],[2,Xc],[2,eh],ob,[8,null],$w,Vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),Or(2048,[[7,4],[8,4]],yw,null,[Kw]),(t()(),xs(28,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),xs(29,0,null,null,20,"mat-form-field",[["class","mat-form-field"],["style","width: 100%"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,HA,IA)),jr(30,7520256,null,9,kw,[Mn,ze,[2,Eb],[2,nw],[2,Sw],Rg,Vo,[2,cP]],null,null),Ds(603979776,16,{_controlNonStatic:0}),Ds(335544320,17,{_controlStatic:0}),Ds(603979776,18,{_labelChildNonStatic:0}),Ds(335544320,19,{_labelChildStatic:0}),Ds(603979776,20,{_placeholderChild:0}),Ds(603979776,21,{_errorChildren:1}),Ds(603979776,22,{_hintChildren:1}),Ds(603979776,23,{_prefixChildren:1}),Ds(603979776,24,{_suffixChildren:1}),(t()(),xs(40,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","desc"],["matInput",""],["placeholder","Description"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==br(t,41)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,41).onTouched()&&i),"compositionstart"===e&&(i=!1!==br(t,41)._compositionStart()&&i),"compositionend"===e&&(i=!1!==br(t,41)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,48)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==br(t,48)._focusChanged(!0)&&i),"input"===e&&(i=!1!==br(t,48)._onInput()&&i),i}),null,null)),jr(41,16384,null,0,ac,[Vn,Mn,[2,sc]],null,null),jr(42,16384,null,0,sh,[],{required:[0,"required"]},null),Or(1024,null,gc,(function(t){return[t]}),[sh]),Or(1024,null,oc,(function(t){return[t]}),[ac]),jr(45,671744,null,0,oh,[[3,uc],[6,gc],[8,null],[6,oc],[2,th]],{name:[0,"name"]},null),Or(2048,null,hc,null,[oh]),jr(47,16384,null,0,pc,[[4,hc]],null,null),jr(48,999424,null,0,Kw,[Mn,Rg,[6,hc],[2,Xc],[2,eh],ob,[8,null],$w,Vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),Or(2048,[[16,4],[17,4]],yw,null,[Kw]),(t()(),xs(50,0,null,null,24,"div",[],null,null,null,null,null)),(t()(),xs(51,0,null,null,21,"mat-form-field",[["class","mat-form-field"],["style","width: 90%;float:left;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,HA,IA)),jr(52,7520256,null,9,kw,[Mn,ze,[2,Eb],[2,nw],[2,Sw],Rg,Vo,[2,cP]],null,null),Ds(603979776,25,{_controlNonStatic:0}),Ds(335544320,26,{_controlStatic:0}),Ds(603979776,27,{_labelChildNonStatic:0}),Ds(335544320,28,{_labelChildStatic:0}),Ds(603979776,29,{_placeholderChild:0}),Ds(603979776,30,{_errorChildren:1}),Ds(603979776,31,{_hintChildren:1}),Ds(603979776,32,{_prefixChildren:1}),Ds(603979776,33,{_suffixChildren:1}),(t()(),xs(62,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","lookup"],["matInput",""],["maxlength","4"],["placeholder","Lookup"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==br(t,63)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,63).onTouched()&&i),"compositionstart"===e&&(i=!1!==br(t,63)._compositionStart()&&i),"compositionend"===e&&(i=!1!==br(t,63)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==br(t,71)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==br(t,71)._focusChanged(!0)&&i),"input"===e&&(i=!1!==br(t,71)._onInput()&&i),i}),null,null)),jr(63,16384,null,0,ac,[Vn,Mn,[2,sc]],null,null),jr(64,16384,null,0,sh,[],{required:[0,"required"]},null),jr(65,540672,null,0,ah,[],{maxlength:[0,"maxlength"]},null),Or(1024,null,gc,(function(t,e){return[t,e]}),[sh,ah]),Or(1024,null,oc,(function(t){return[t]}),[ac]),jr(68,671744,null,0,oh,[[3,uc],[6,gc],[8,null],[6,oc],[2,th]],{name:[0,"name"]},null),Or(2048,null,hc,null,[oh]),jr(70,16384,null,0,pc,[[4,hc]],null,null),jr(71,999424,null,0,Kw,[Mn,Rg,[6,hc],[2,Xc],[2,eh],ob,[8,null],$w,Vo],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),Or(2048,[[25,4],[26,4]],yw,null,[Kw]),(t()(),xs(73,16777216,null,null,1,"i",[["class","fa fa-info-circle"],["matTooltip","Lookups are a 3 to 4 length alphanumeric representation of the current domain object.  Flows are built with the format of 'flw-{Organization Lookup}-{Flow Lookup}-{Module Lookup}'.  This format helps keep your flow agnostic to any specific service provider.  When naming lookups, use something that is recognizable and relevant based on the asset you are creating"],["style","float:right;color:grey;width:10%;margin-top:10px;cursor:pointer;"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var i=!0;return"longpress"===e&&(i=!1!==br(t,74).show()&&i),"keydown"===e&&(i=!1!==br(t,74)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==br(t,74)._handleTouchend()&&i),i}),null,null)),jr(74,212992,null,0,vx,[r_,Mn,pv,si,Vo,Rg,Cy,Ry,fx,[2,nw],[2,gx],[2,Lu]],{message:[0,"message"]},null),(t()(),xs(75,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),xs(76,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,pP,dP)),jr(77,180224,null,0,g_,[Mn,Ry,[2,cP]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),Rs(-1,0,["Create Data Flow"])),(t()(),xs(79,0,null,null,5,"a",[["color","warn"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,80)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.ToggleIsCreating()&&i),i}),mP,fP)),jr(80,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(81,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(82,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["delete"])),(t()(),Rs(-1,0,[" Cancel"]))],(function(t,e){var n=e.component;t(e,3,0,n.CreateNewDataFlowForm),t(e,20,0,""),t(e,23,0,"name"),t(e,26,0,"Name","","text"),t(e,42,0,""),t(e,45,0,"desc"),t(e,48,0,"Description","","text"),t(e,64,0,""),t(e,65,0,"4"),t(e,68,0,"lookup"),t(e,71,0,"Lookup","","text"),t(e,74,0,"Lookups are a 3 to 4 length alphanumeric representation of the current domain object.  Flows are built with the format of 'flw-{Organization Lookup}-{Flow Lookup}-{Module Lookup}'.  This format helps keep your flow agnostic to any specific service provider.  When naming lookups, use something that is recognizable and relevant based on the asset you are creating"),t(e,77,0,!n.CreateNewDataFlowForm.valid,"primary"),t(e,80,0,"warn"),t(e,82,0)}),(function(t,e){t(e,1,0,br(e,5).ngClassUntouched,br(e,5).ngClassTouched,br(e,5).ngClassPristine,br(e,5).ngClassDirty,br(e,5).ngClassValid,br(e,5).ngClassInvalid,br(e,5).ngClassPending),t(e,7,1,["standard"==br(e,8).appearance,"fill"==br(e,8).appearance,"outline"==br(e,8).appearance,"legacy"==br(e,8).appearance,br(e,8)._control.errorState,br(e,8)._canLabelFloat,br(e,8)._shouldLabelFloat(),br(e,8)._hasFloatingLabel(),br(e,8)._hideControlPlaceholder(),br(e,8)._control.disabled,br(e,8)._control.autofilled,br(e,8)._control.focused,"accent"==br(e,8).color,"warn"==br(e,8).color,br(e,8)._shouldForward("untouched"),br(e,8)._shouldForward("touched"),br(e,8)._shouldForward("pristine"),br(e,8)._shouldForward("dirty"),br(e,8)._shouldForward("valid"),br(e,8)._shouldForward("invalid"),br(e,8)._shouldForward("pending"),!br(e,8)._animationsEnabled]),t(e,18,1,[br(e,20).required?"":null,br(e,25).ngClassUntouched,br(e,25).ngClassTouched,br(e,25).ngClassPristine,br(e,25).ngClassDirty,br(e,25).ngClassValid,br(e,25).ngClassInvalid,br(e,25).ngClassPending,br(e,26)._isServer,br(e,26).id,br(e,26).placeholder,br(e,26).disabled,br(e,26).required,br(e,26).readonly&&!br(e,26)._isNativeSelect||null,br(e,26)._ariaDescribedby||null,br(e,26).errorState,br(e,26).required.toString()]),t(e,29,1,["standard"==br(e,30).appearance,"fill"==br(e,30).appearance,"outline"==br(e,30).appearance,"legacy"==br(e,30).appearance,br(e,30)._control.errorState,br(e,30)._canLabelFloat,br(e,30)._shouldLabelFloat(),br(e,30)._hasFloatingLabel(),br(e,30)._hideControlPlaceholder(),br(e,30)._control.disabled,br(e,30)._control.autofilled,br(e,30)._control.focused,"accent"==br(e,30).color,"warn"==br(e,30).color,br(e,30)._shouldForward("untouched"),br(e,30)._shouldForward("touched"),br(e,30)._shouldForward("pristine"),br(e,30)._shouldForward("dirty"),br(e,30)._shouldForward("valid"),br(e,30)._shouldForward("invalid"),br(e,30)._shouldForward("pending"),!br(e,30)._animationsEnabled]),t(e,40,1,[br(e,42).required?"":null,br(e,47).ngClassUntouched,br(e,47).ngClassTouched,br(e,47).ngClassPristine,br(e,47).ngClassDirty,br(e,47).ngClassValid,br(e,47).ngClassInvalid,br(e,47).ngClassPending,br(e,48)._isServer,br(e,48).id,br(e,48).placeholder,br(e,48).disabled,br(e,48).required,br(e,48).readonly&&!br(e,48)._isNativeSelect||null,br(e,48)._ariaDescribedby||null,br(e,48).errorState,br(e,48).required.toString()]),t(e,51,1,["standard"==br(e,52).appearance,"fill"==br(e,52).appearance,"outline"==br(e,52).appearance,"legacy"==br(e,52).appearance,br(e,52)._control.errorState,br(e,52)._canLabelFloat,br(e,52)._shouldLabelFloat(),br(e,52)._hasFloatingLabel(),br(e,52)._hideControlPlaceholder(),br(e,52)._control.disabled,br(e,52)._control.autofilled,br(e,52)._control.focused,"accent"==br(e,52).color,"warn"==br(e,52).color,br(e,52)._shouldForward("untouched"),br(e,52)._shouldForward("touched"),br(e,52)._shouldForward("pristine"),br(e,52)._shouldForward("dirty"),br(e,52)._shouldForward("valid"),br(e,52)._shouldForward("invalid"),br(e,52)._shouldForward("pending"),!br(e,52)._animationsEnabled]),t(e,62,1,[br(e,64).required?"":null,br(e,65).maxlength?br(e,65).maxlength:null,br(e,70).ngClassUntouched,br(e,70).ngClassTouched,br(e,70).ngClassPristine,br(e,70).ngClassDirty,br(e,70).ngClassValid,br(e,70).ngClassInvalid,br(e,70).ngClassPending,br(e,71)._isServer,br(e,71).id,br(e,71).placeholder,br(e,71).disabled,br(e,71).required,br(e,71).readonly&&!br(e,71)._isNativeSelect||null,br(e,71)._ariaDescribedby||null,br(e,71).errorState,br(e,71).required.toString()]),t(e,76,0,br(e,77).disabled||null,"NoopAnimations"===br(e,77)._animationMode),t(e,79,0,br(e,80).disabled?-1:br(e,80).tabIndex||0,br(e,80).disabled||null,br(e,80).disabled.toString(),"NoopAnimations"===br(e,80)._animationMode),t(e,81,0,br(e,82).inline,"primary"!==br(e,82).color&&"accent"!==br(e,82).color&&"warn"!==br(e,82).color)}))}function bT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"a",[["color","accent"],["mat-raised-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,1)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.ToggleIsCreating()&&i),i}),mP,fP)),jr(1,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),Rs(-1,0,[" Create New Data Flow "]))],(function(t,e){t(e,1,0,"accent")}),(function(t,e){t(e,0,0,br(e,1).disabled?-1:br(e,1).tabIndex||0,br(e,1).disabled||null,br(e,1).disabled.toString(),"NoopAnimations"===br(e,1)._animationMode)}))}function _T(t){return Ls(0,[(t()(),xs(0,0,null,null,14,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,kA,SA)),jr(1,704512,null,0,rC,[Mn],null,null),(t()(),Cs(16777216,null,0,1,null,vT)),jr(3,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,0,1,null,yT)),jr(5,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(6,0,null,0,0,"hr",[],null,null,null,null,null)),(t()(),xs(7,0,null,0,0,"br",[],null,null,null,null,null)),(t()(),xs(8,0,null,0,6,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,DA,PA)),jr(9,1228800,null,3,oC,[Mn,ze,[2,iC],[2,rC]],null,null),Ds(603979776,34,{_lines:1}),Ds(603979776,35,{_avatar:0}),Ds(603979776,36,{_icon:0}),(t()(),Cs(16777216,null,2,1,null,bT)),jr(14,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,!n.State.IsCreating),t(e,5,0,n.State.IsCreating),t(e,14,0,!n.State.IsCreating)}),(function(t,e){t(e,8,0,br(e,9)._avatar||br(e,9)._icon,br(e,9)._avatar||br(e,9)._icon)}))}function wT(t){return Ls(0,[(t()(),xs(0,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(2,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["settings_input_antenna"])),(t()(),Rs(-1,null,[" Active Data Flows\n"])),(t()(),Cs(16777216,null,null,1,null,_T)),jr(6,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0),t(e,6,0,n.State)}),(function(t,e){t(e,1,0,br(e,2).inline,"primary"!==br(e,2).color&&"accent"!==br(e,2).color&&"warn"!==br(e,2).color)}))}function CT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"lcu-data-flow-list-element",[],null,null,null,wT,fT)),jr(1,114688,null,0,Qx,[on,uh,Zx],null,null)],(function(t,e){t(e,1,0)}),null)}var xT=lr("lcu-data-flow-list-element",Qx,CT,{context:"context",SetContext:"SetContext"},{},[]),ET=Ei({encapsulation:0,styles:['[_nghost-%COMP%]     .data-flow-ide-container{height:100%}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container{height:100%;background-color:transparent}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content{position:relative;overflow:hidden}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content .mat-mini-fab{margin:0 .5rem}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content .home-actions{z-index:500;position:absolute;top:1rem;left:1rem}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content .panel-actions{z-index:500;position:absolute;top:1rem;right:1rem}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content .flow-actions{z-index:500;position:absolute;bottom:1rem;left:1rem}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content jsplumb-miniview{position:absolute;bottom:1rem;right:1rem}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content jsplumb-surface{display:block;height:100%}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer-content jsplumb-surface>div{height:100%!important}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer{width:300px;background-color:#a4bab3}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer .data-flow-ide-bank-container{height:100%}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer .data-flow-ide-bank-container .mat-toolbar{background-color:#fbfcf3}[_nghost-%COMP%]     .data-flow-ide-container .mat-drawer-container .mat-drawer .data-flow-ide-bank-container .bank{margin:.5rem;color:#000}[_nghost-%COMP%]     .drop-hover{background-color:#a4bab3!important}[_nghost-%COMP%]     .flowchart-object{position:absolute;text-align:center;font-size:12px;z-index:10;background:0 0;box-shadow:none;border:none;border-radius:0;min-width:0;min-height:0}[_nghost-%COMP%]     .jtk-node svg{position:absolute;stroke:none;fill:#4a918e;left:0;top:0}[_nghost-%COMP%]     .flowchart-object text{stroke:none;fill:#fff;font-family:"Open Sans",sans-serif;font-size:14px;font-weight:400}[_nghost-%COMP%]     .flowchart-object .node-action{display:none;position:absolute;top:24px;cursor:pointer;color:#fff;z-index:10000}[_nghost-%COMP%]     .flowchart-object .drag-start{cursor:pointer}[_nghost-%COMP%]     .flowchart-object .node-action:hover{color:#282d35}[_nghost-%COMP%]     .flowchart-object .node-edit{left:50%;margin-left:-20px}[_nghost-%COMP%]     .flowchart-object .node-delete{left:50%;margin-left:10px}[_nghost-%COMP%]     .flowchart-object.jtk-surface-selected-element .node-action{display:block}[_nghost-%COMP%]     .outer{fill:gray;opacity:.3;cursor:pointer}[_nghost-%COMP%]     .flowchart-object:hover .outer{opacity:.7}[_nghost-%COMP%]     .inner{cursor:move!important}[_nghost-%COMP%]     .connection-drop svg{fill:#ccc}[_nghost-%COMP%]     .connection-drop text{fill:#000}[_nghost-%COMP%]     .jtk-surface{height:500px}[_nghost-%COMP%]     jsplumb-controls{left:231px;position:absolute;color:#fff;top:-3px;z-index:501;width:150px}[_nghost-%COMP%]     .jtk-surface.jtk-drag-drop-active{outline:#67c7c5 dotted 6px!important}[_nghost-%COMP%]     .jtk-surface.jtk-drag-drop-hover{outline:#f7a45d solid 6px!important}[_nghost-%COMP%]     svg.jtk-drag-drop-active, [_nghost-%COMP%]     svg.jtk-drag-drop-hover{outline:0!important}[_nghost-%COMP%]     svg.jtk-drag-drop-active path{stroke:#67c7c5;stroke-width:3px;stroke-dasharray:2 0 2 5}[_nghost-%COMP%]     svg.jtk-drag-drop-hover path{stroke:#f7a45d;stroke-width:4px;stroke-dasharray:0}'],data:{}});function ST(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["title","Switch to Select Mode"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(1,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["edit"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,br(e,1).inline,"primary"!==br(e,1).color&&"accent"!==br(e,1).color&&"warn"!==br(e,1).color)}))}function kT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["title","Switch to Pan Mode"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(1,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["pan_tool"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,br(e,1).inline,"primary"!==br(e,1).color&&"accent"!==br(e,1).color&&"warn"!==br(e,1).color)}))}function PT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(1,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["check_box"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,br(e,1).inline,"primary"!==br(e,1).color&&"accent"!==br(e,1).color&&"warn"!==br(e,1).color)}))}function DT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(1,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["check_box_outline_blank"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,br(e,1).inline,"primary"!==br(e,1).color&&"accent"!==br(e,1).color&&"warn"!==br(e,1).color)}))}function AT(t){return Ls(0,[(t()(),xs(0,0,null,null,67,"mat-drawer-container",[["class","mat-drawer-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,KA,YA)),jr(1,1490944,null,2,jC,[[2,nw],Mn,Vo,ze,vv,AC,[2,cP]],null,null),Ds(603979776,2,{_drawers:1}),Ds(603979776,3,{_content:0}),(t()(),xs(4,0,null,1,30,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,$A,GA)),jr(5,1294336,[[3,4]],0,TC,[ze,jC,Mn,pv,Vo],null,null),(t()(),xs(6,0,null,0,5,"div",[["class","home-actions"]],null,null,null,null,null)),(t()(),xs(7,0,null,null,4,"a",[["color","accent"],["mat-mini-fab",""],["title","Data Flows Home"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,8)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.CancelActive()&&i),i}),mP,fP)),jr(8,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(10,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["home"])),(t()(),xs(12,0,null,0,5,"div",[["class","panel-actions"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,4,"a",[["color","primary"],["mat-mini-fab",""],["title","Toggle Modules"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==br(t,14)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==br(t,36).toggle()&&i),i}),mP,fP)),jr(14,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(15,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(16,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["menu"])),(t()(),xs(18,0,null,0,11,"div",[["class","flow-actions"]],null,null,null,null,null)),(t()(),xs(19,0,null,null,5,"a",[["mat-mini-fab",""],["title","Select Mode"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,20)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.ToggleSelectMode()&&i),i}),mP,fP)),jr(20,180224,null,0,v_,[Ry,Mn,[2,cP]],null,null),(t()(),Cs(16777216,null,0,1,null,ST)),jr(22,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,0,1,null,kT)),jr(24,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(25,0,null,null,4,"a",[["mat-mini-fab",""],["title","Zoom to Fit"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,26)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.ZoomToFit()&&i),i}),mP,fP)),jr(26,180224,null,0,v_,[Ry,Mn,[2,cP]],null,null),(t()(),xs(27,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(28,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["zoom_out_map"])),(t()(),xs(30,16777216,null,0,1,"jsplumb-surface",[],null,null,null,JA,QA)),jr(31,4440064,[[1,4]],0,zx,[Mn,Vx,Tn,si],{toolkitId:[0,"toolkitId"],surfaceId:[1,"surfaceId"],view:[2,"view"],renderParams:[3,"renderParams"]},null),(t()(),xs(32,16777216,null,0,1,"jsplumb-miniview",[],null,null,null,eT,tT)),jr(33,4243456,null,0,Ux,[Mn,Vx,Tn,si],{surfaceId:[0,"surfaceId"]},null),(t()(),xs(34,0,null,0,0,"jsplumb-controls",[],[[8,"surfaceId",0]],null,null,null,null)),(t()(),xs(35,0,null,0,32,"mat-drawer",[["class","mat-drawer"],["mode","side"],["opened",""],["position","end"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==br(t,36)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==br(t,36)._animationDoneListener(n)&&i),i}),qA,WA)),jr(36,3325952,[[2,4],["drawer",4]],0,IC,[Mn,Py,Ry,Rg,Vo,[2,jl]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(t()(),xs(37,0,null,0,30,"div",[["class","data-flow-ide-bank-container"]],null,null,null,null,null)),(t()(),xs(38,0,null,null,23,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,iT,nT)),jr(39,4243456,null,1,ux,[Mn,Rg,jl],null,null),Ds(603979776,4,{_toolbarRows:1}),(t()(),xs(41,0,null,0,4,"a",[["color","primary"],["mat-icon-button",""],["title","Save"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,42)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.Save()&&i),i}),mP,fP)),jr(42,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(43,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(44,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["save"])),(t()(),xs(46,0,null,0,4,"a",[["color","primary"],["mat-icon-button",""],["title","Deploy"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,47)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.Deploy()&&i),i}),mP,fP)),jr(47,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(48,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(49,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["cloud_upload"])),(t()(),xs(51,0,null,0,4,"a",[["color","primary"],["mat-icon-button",""],["title","Relayout"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,52)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.Relayout()&&i),i}),mP,fP)),jr(52,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),xs(53,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(54,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(-1,0,["loop"])),(t()(),xs(56,0,null,0,5,"a",[["color","primary"],["mat-icon-button",""],["title","Creation Modules"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,57)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.ToggleCreationModules()&&i),i}),mP,fP)),jr(57,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),(t()(),Cs(16777216,null,0,1,null,PT)),jr(59,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,0,1,null,DT)),jr(61,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(62,0,null,null,5,"div",[["class","bank"]],null,null,null,null,null)),(t()(),xs(63,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Rs(64,null,["Managing "," Data Flow"])),(t()(),xs(65,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),xs(66,0,null,null,1,"lcu-data-flow-modules-bank-element",[],null,null,null,VT,OT)),jr(67,114688,null,0,rE,[on],{DataFlowLookup:[0,"DataFlowLookup"],Displays:[1,"Displays"],Options:[2,"Options"]},null)],(function(t,e){var n=e.component;t(e,1,0),t(e,5,0),t(e,8,0,"accent"),t(e,10,0),t(e,14,0,"primary"),t(e,16,0),t(e,22,0,"select"!=n.SelectMode),t(e,24,0,"pan"!=n.SelectMode),t(e,28,0),t(e,31,0,n.State.ActiveDataFlow.Lookup,n.State.ActiveDataFlow.Lookup,n.View,n.RenderParams),t(e,33,0,n.State.ActiveDataFlow.Lookup),t(e,36,0,"end","side",""),t(e,42,0,"primary"),t(e,44,0),t(e,47,0,"primary"),t(e,49,0),t(e,52,0,"primary"),t(e,54,0),t(e,57,0,"primary"),t(e,59,0,n.State.AllowCreationModules),t(e,61,0,!n.State.AllowCreationModules),t(e,67,0,n.State.ActiveDataFlow.Lookup,n.State.ModuleDisplays,n.State.ModuleOptions)}),(function(t,e){var n=e.component;t(e,0,0,br(e,1)._backdropOverride),t(e,4,0,br(e,5)._container._contentMargins.left,br(e,5)._container._contentMargins.right),t(e,7,0,br(e,8).disabled?-1:br(e,8).tabIndex||0,br(e,8).disabled||null,br(e,8).disabled.toString(),"NoopAnimations"===br(e,8)._animationMode),t(e,9,0,br(e,10).inline,"primary"!==br(e,10).color&&"accent"!==br(e,10).color&&"warn"!==br(e,10).color),t(e,13,0,br(e,14).disabled?-1:br(e,14).tabIndex||0,br(e,14).disabled||null,br(e,14).disabled.toString(),"NoopAnimations"===br(e,14)._animationMode),t(e,15,0,br(e,16).inline,"primary"!==br(e,16).color&&"accent"!==br(e,16).color&&"warn"!==br(e,16).color),t(e,19,0,br(e,20).disabled?-1:br(e,20).tabIndex||0,br(e,20).disabled||null,br(e,20).disabled.toString(),"NoopAnimations"===br(e,20)._animationMode),t(e,25,0,br(e,26).disabled?-1:br(e,26).tabIndex||0,br(e,26).disabled||null,br(e,26).disabled.toString(),"NoopAnimations"===br(e,26)._animationMode),t(e,27,0,br(e,28).inline,"primary"!==br(e,28).color&&"accent"!==br(e,28).color&&"warn"!==br(e,28).color),t(e,34,0,n.State.ActiveDataFlow.Lookup),t(e,35,0,null,"end"===br(e,36).position,"over"===br(e,36).mode,"push"===br(e,36).mode,"side"===br(e,36).mode,br(e,36).opened,br(e,36)._animationState),t(e,38,0,br(e,39)._toolbarRows.length>0,0===br(e,39)._toolbarRows.length),t(e,41,0,br(e,42).disabled?-1:br(e,42).tabIndex||0,br(e,42).disabled||null,br(e,42).disabled.toString(),"NoopAnimations"===br(e,42)._animationMode),t(e,43,0,br(e,44).inline,"primary"!==br(e,44).color&&"accent"!==br(e,44).color&&"warn"!==br(e,44).color),t(e,46,0,br(e,47).disabled?-1:br(e,47).tabIndex||0,br(e,47).disabled||null,br(e,47).disabled.toString(),"NoopAnimations"===br(e,47)._animationMode),t(e,48,0,br(e,49).inline,"primary"!==br(e,49).color&&"accent"!==br(e,49).color&&"warn"!==br(e,49).color),t(e,51,0,br(e,52).disabled?-1:br(e,52).tabIndex||0,br(e,52).disabled||null,br(e,52).disabled.toString(),"NoopAnimations"===br(e,52)._animationMode),t(e,53,0,br(e,54).inline,"primary"!==br(e,54).color&&"accent"!==br(e,54).color&&"warn"!==br(e,54).color),t(e,56,0,br(e,57).disabled?-1:br(e,57).tabIndex||0,br(e,57).disabled||null,br(e,57).disabled.toString(),"NoopAnimations"===br(e,57)._animationMode),t(e,64,0,n.State.ActiveDataFlow.Name)}))}function TT(t){return Ls(0,[Ds(671088640,1,{SurfaceComponent:0}),(t()(),xs(1,0,null,null,2,"div",[["class","data-flow-ide-container"]],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,AT)),jr(3,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,(null==n.State?null:null==n.State.ModuleOptions?null:n.State.ModuleOptions.length)>0)}),null)}function IT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"lcu-data-flow-ide-element",[],null,null,null,TT,ET)),jr(1,4440064,null,0,nE,[on,Zx,Vx,eE],null,null)],(function(t,e){t(e,1,0)}),null)}var jT=lr("lcu-data-flow-ide-element",nE,IT,{context:"context",SetContext:"SetContext"},{},[]),OT=Ei({encapsulation:0,styles:["[_nghost-%COMP%]   .bank-module[_ngcontent-%COMP%]{margin:.5rem 0}[_nghost-%COMP%]   .mat-subheading-2[_ngcontent-%COMP%]{margin:0}.flow-option[_ngcontent-%COMP%]{z-index:1000;cursor:move}"],data:{}});function MT(t){return Ls(0,[(t()(),xs(0,0,null,null,9,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,8,"div",[["class","option"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,7,"a",[["class","bank-module flow-option"],["color","accent"],["fxFlex",""],["fxLayoutAlign","start center"],["mat-raised-button",""],["title","Drag to add new"]],[[1,"module-display",0],[1,"module-type",0],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==br(t,3)._haltDisabledEvents(n)&&i),i}),mP,fP)),jr(3,180224,null,0,v_,[Ry,Mn,[2,cP]],{color:[0,"color"]},null),jr(4,671744,null,0,iA,[Mn,RD,[2,tA],VD],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),jr(5,671744,null,0,ZD,[Mn,RD,aD,WD,VD],{fxFlex:[0,"fxFlex"]},null),(t()(),xs(6,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,TA,AA)),jr(7,9158656,null,0,Bw,[Mn,Ow,[8,null],[2,Lw]],null,null),(t()(),Rs(8,0,["",""])),(t()(),Rs(9,0,[" "," "]))],(function(t,e){t(e,3,0,"accent"),t(e,4,0,"start center"),t(e,5,0,""),t(e,7,0)}),(function(t,e){t(e,2,0,e.component.GetObjString(e.context.$implicit),e.parent.context.$implicit.ModuleType,br(e,3).disabled?-1:br(e,3).tabIndex||0,br(e,3).disabled||null,br(e,3).disabled.toString(),"NoopAnimations"===br(e,3)._animationMode),t(e,6,0,br(e,7).inline,"primary"!==br(e,7).color&&"accent"!==br(e,7).color&&"warn"!==br(e,7).color),t(e,8,0,null==e.context.$implicit.Icon?null:e.context.$implicit.Icon.Icon),t(e,9,0,e.parent.context.$implicit.Name)}))}function RT(t){return Ls(0,[(t()(),xs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,MT)),jr(2,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(0,null,null,0))],(function(t,e){t(e,2,0,e.component.GetDisplay(e.context.$implicit.ModuleType))}),null)}function NT(t){return Ls(0,[(t()(),xs(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),xs(1,0,null,null,5,"div",[["class","category"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"h4",[["class","mat-subheading-2"]],null,null,null,null,null)),(t()(),Rs(3,null,[" "," "])),(t()(),Cs(16777216,null,null,1,null,RT)),jr(5,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(6,0,null,null,0,"hr",[],null,null,null,null,null))],(function(t,e){t(e,5,0,e.component.GetOptions(e.context.$implicit))}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function FT(t){return Ls(0,[(t()(),xs(0,0,null,null,3,"div",[["jsplumb-surface-drop",""],["selector","a"]],null,null,null,oT,rT)),jr(1,4243456,null,0,Wx,[Mn,Vx],{selector:[0,"selector"],surfaceId:[1,"surfaceId"],dataGenerator:[2,"dataGenerator"]},null),(t()(),Cs(16777216,null,0,1,null,NT)),jr(3,278528,null,0,yl,[si,ri,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,"a",n.DataFlowLookup,n.DataGenerator),t(e,3,0,n.Categories)}),null)}function LT(t){return Ls(0,[(t()(),xs(0,0,null,null,3,null,null,null,null,null,null,null)),jr(1,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Cs(16777216,null,null,1,null,FT)),jr(3,278528,null,0,Sl,[si,ri,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Cs(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.View),t(e,3,0,n.ViewTypes.List)}),null)}function VT(t){return Ls(0,[(t()(),Cs(16777216,null,null,1,null,LT)),jr(1,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.Options)}),null)}function zT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"lcu-data-flow-modules-bank-element",[],null,null,null,VT,OT)),jr(1,114688,null,0,rE,[on],null,null)],(function(t,e){t(e,1,0)}),null)}var UT=lr("lcu-data-flow-modules-bank-element",rE,zT,{context:"context",SetContext:"SetContext",DataFlowLookup:"data-flow-lookup",Displays:"displays",Options:"options",View:"view"},{},[]),BT=Ei({encapsulation:0,styles:[""],data:{}});function HT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Rs(-1,null,["LcuDataFlow DataFlowAnalytics Next Steps"])),(t()(),xs(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Rs(-1,null,["Do stuff and things with Analytics!"]))],null,null)}function GT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"lcu-data-flow-data-flow-analytics-element",[],null,null,null,HT,BT)),jr(1,114688,null,0,sE,[on],null,null)],(function(t,e){t(e,1,0)}),null)}var $T=lr("lcu-data-flow-data-flow-analytics-element",sE,GT,{context:"context",SetContext:"SetContext"},{},[]),WT=Ei({encapsulation:2,styles:[],data:{}});function qT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","node-action node-status"],["style","color:green;"],["title","Successfully provisioned"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"i",[["class","fa fa-check fa-3x"]],null,null,null,null,null))],null,null)}function YT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","node-action node-status"],["style","color:red;"],["title","Provisioned resource not located"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"i",[["class","fa fa-exclamation-triangle fa-3x"]],null,null,null,null,null))],null,null)}function ZT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","node-action node-status"],["style","color:yellow;"],["title","Not yet provisioned"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"i",[["class","fa fa-exclamation-triangle fa-3x"]],null,null,null,null,null))],null,null)}function XT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"div",[["class","node-action node-status"],["style","color:gray;"],["title","Provisioning unavailable"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"i",[["class","fa fa-circle-o-notch fa-spin fa-3x"]],null,null,null,null,null))],null,null)}function KT(t){return Ls(0,[(t()(),xs(0,0,null,null,42,"div",[],[[4,"width",null],[4,"height",null],[8,"className",0]],null,null,null,null)),(t()(),xs(1,0,null,null,39,"div",[],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"div",[["class","node-configure node-action"],["title","Configure Node"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.ManageModule(r.Module)&&i),i}),null,null)),(t()(),xs(3,0,null,null,0,"i",[["class","fa fa-gear"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,1,"div",[["class","node-edit node-action"],["title","Edit Node Name"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"i",[["class","fa fa-pencil-square-o"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,2,"a",[["class","node-delete node-action"],["mat-icon-button",""],["title","Delete Node"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==br(t,7)._haltDisabledEvents(n)&&i),"click"===e&&(i=!1!==r.RemoveNode()&&i),i}),mP,fP)),jr(7,180224,null,0,v_,[Ry,Mn,[2,cP]],null,null),(t()(),xs(8,0,null,0,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(t()(),Cs(16777216,null,null,1,null,qT)),jr(10,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,YT)),jr(12,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,ZT)),jr(14,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),Cs(16777216,null,null,1,null,XT)),jr(16,16384,null,0,_l,[si,ri],{ngIf:[0,"ngIf"]},null),(t()(),xs(17,0,null,null,5,":svg:svg",[],[[1,"width",0],[1,"height",0]],null,null,null,null)),jr(18,4866048,null,0,vA,[Mn,pA,RD,VD,aD,yo,[2,lD]],{fxShow:[0,"fxShow"]},null),(t()(),xs(19,0,null,null,0,":svg:rect",[["class","outer"]],[[1,"x",0],[1,"y",0],[1,"width",0],[1,"height",0]],null,null,null,null)),(t()(),xs(20,0,null,null,0,":svg:rect",[["class","inner"]],[[1,"x",0],[1,"y",0],[1,"width",0],[1,"height",0]],null,null,null,null)),(t()(),xs(21,0,null,null,1,":svg:text",[["dominant-baseline","central"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(t()(),Rs(22,null,[" "," "])),(t()(),xs(23,0,null,null,5,":svg:svg",[],[[1,"width",0],[1,"height",0]],null,null,null,null)),jr(24,4866048,null,0,vA,[Mn,pA,RD,VD,aD,yo,[2,lD]],{fxShow:[0,"fxShow"]},null),(t()(),xs(25,0,null,null,0,":svg:circle",[["class","outer"]],[[1,"cx",0],[1,"cy",0]],null,null,null,null)),(t()(),xs(26,0,null,null,0,":svg:circle",[["class","inner"]],[[1,"cx",0],[1,"cy",0]],null,null,null,null)),(t()(),xs(27,0,null,null,1,":svg:text",[["dominant-baseline","central"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(t()(),Rs(28,null,[" "," "])),(t()(),xs(29,0,null,null,5,":svg:svg",[],[[1,"width",0],[1,"height",0]],null,null,null,null)),jr(30,4866048,null,0,vA,[Mn,pA,RD,VD,aD,yo,[2,lD]],{fxShow:[0,"fxShow"]},null),(t()(),xs(31,0,null,null,0,":svg:ellipse",[["class","outer"]],[[1,"cx",0],[1,"cy",0],[1,"rx",0],[1,"ry",0]],null,null,null,null)),(t()(),xs(32,0,null,null,0,":svg:ellipse",[["class","inner"]],[[1,"cx",0],[1,"cy",0],[1,"rx",0],[1,"ry",0]],null,null,null,null)),(t()(),xs(33,0,null,null,1,":svg:text",[["dominant-baseline","central"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(t()(),Rs(34,null,[" "," "])),(t()(),xs(35,0,null,null,5,":svg:svg",[],[[1,"width",0],[1,"height",0]],null,null,null,null)),jr(36,4866048,null,0,vA,[Mn,pA,RD,VD,aD,yo,[2,lD]],{fxShow:[0,"fxShow"]},null),(t()(),xs(37,0,null,null,0,":svg:path",[["class","outer"]],[[1,"d",0]],null,null,null,null)),(t()(),xs(38,0,null,null,0,":svg:path",[["class","inner"]],[[1,"d",0]],null,null,null,null)),(t()(),xs(39,0,null,null,1,":svg:text",[["dominant-baseline","central"],["text-anchor","middle"]],[[1,"x",0],[1,"y",0]],null,null,null,null)),(t()(),Rs(40,null,[" "," "])),(t()(),xs(41,0,null,null,0,"jtk-target",[["port-type","target"]],null,null,null,null,null)),(t()(),xs(42,0,null,null,0,"jtk-source",[["filter",".outer"],["port-type","source"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,10,0,n.Module.Status&&0==n.Module.Status.Code),t(e,12,0,!n.Module.Status||n.Module.Status&&0!=n.Module.Status.Code&&100!=n.Module.Status.Code&&-100!=n.Module.Status.Code),t(e,14,0,n.Module.Status&&-100==n.Module.Status.Code),t(e,16,0,n.Module.Status&&100==n.Module.Status.Code),t(e,18,0,n.Module.Display.Shape==n.ModuleShapes.Rectangle),t(e,24,0,n.Module.Display.Shape==n.ModuleShapes.Circle),t(e,30,0,n.Module.Display.Shape==n.ModuleShapes.Ellipse),t(e,36,0,n.Module.Display.Shape==n.ModuleShapes.Custom)}),(function(t,e){var n,i=e.component;t(e,0,0,i.Abs(i.Module.Display.Width)+"px",i.Abs(i.Module.Display.Height)+"px","flowchart-object flowchart-"+(null!=(n=i.Module.Display.ModuleType)?n.toString():"")),t(e,6,0,br(e,7).disabled?-1:br(e,7).tabIndex||0,br(e,7).disabled||null,br(e,7).disabled.toString(),"NoopAnimations"===br(e,7)._animationMode),t(e,17,0,i.Abs(i.Module.Display.Width),i.Abs(i.Module.Display.Height)),t(e,19,0,0,0,i.Abs(i.Module.Display.Width),i.Abs(i.Module.Display.Height)),t(e,20,0,10,10,i.Abs(i.Module.Display.Width-20),i.Abs(i.Module.Display.Height-20)),t(e,21,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,22,0,i.Module.Text),t(e,23,0,i.Abs(i.Module.Display.Width),i.Abs(i.Module.Display.Height)),t(e,25,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,26,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,27,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,28,0,i.Module.Text),t(e,29,0,i.Abs(i.Module.Display.Width),i.Abs(i.Module.Display.Height)),t(e,31,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,32,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2,i.Abs(i.Module.Display.Width/2-10),i.Abs(i.Module.Display.Height/2-10)),t(e,33,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,34,0,i.Module.Text),t(e,35,0,i.Abs(i.Module.Display.Width),i.Abs(i.Module.Display.Height)),t(e,37,0,"M "+i.Abs(i.Module.Display.Width)/2+" 0 L "+i.Abs(i.Module.Display.Width)+" "+i.Abs(i.Module.Display.Height)/2+" L "+i.Abs(i.Module.Display.Width)/2+" "+i.Abs(i.Module.Display.Height)+" L 0 "+i.Abs(i.Module.Display.Height)/2+" Z"),t(e,38,0,"M "+i.Abs(i.Module.Display.Width)/2+" 10 L "+i.Abs(i.Module.Display.Width-10)+" "+i.Abs(i.Module.Display.Height)/2+" L "+i.Abs(i.Module.Display.Width)/2+" "+i.Abs(i.Module.Display.Height-10)+" L 10 "+i.Abs(i.Module.Display.Height)/2+" Z"),t(e,39,0,i.Abs(i.Module.Display.Width)/2,i.Abs(i.Module.Display.Height)/2),t(e,40,0,i.Module.Text)}))}function QT(t){return Ls(0,[(t()(),xs(0,0,null,null,1,"ng-component",[],null,null,null,KT,WT)),jr(1,114688,null,0,tE,[],null,null)],(function(t,e){t(e,1,0)}),null)}var JT=lr("ng-component",tE,QT,{},{ManageEvent:"manage"},[]),tI=Ha(lE,[],(function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const o=t[r];o.token===nn&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[wi(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([er(512,Tn,In,[[8,[dE,vE,RP,bP,WP,KP,nD,pT,xT,jT,UT,$T,JT]],[3,Tn],Xt]),er(5120,wo,bs,[[3,wo]]),er(4608,cl,hl,[wo,[2,ul]]),er(5120,Yr,_s,[Vo]),er(4608,Do,Do,[]),er(5120,fo,mo,[]),er(5120,Jn,vs,[]),er(5120,ti,ys,[]),er(4608,Gu,$u,[jl]),er(6144,Re,null,[Gu]),er(4608,Fu,ub,[[2,sb],[2,Uy]]),er(5120,ou,(function(t,e,n,i,r,o,s,a){return[new Ru(t,e,n),new Hu(i),new zu(r,o,s,a)]}),[jl,Vo,yo,jl,jl,Fu,_o,[2,Lu]]),er(4608,su,su,[ou,Vo]),er(135680,uu,uu,[jl]),er(4608,gu,gu,[su,uu,fo]),er(5120,BE,aP,[]),er(5120,HS,lP,[]),er(4608,Sk,sP,[jl,BE,HS]),er(5120,Fn,uP,[gu,Sk,Vo]),er(6144,lu,null,[uu]),er(4608,Wo,Wo,[Vo]),er(4608,S_,Kk,[Fn,jl]),er(4608,Ec,Ec,[]),er(4608,ld,ud,[jl,yo,sd]),er(4608,cd,cd,[ld,ad]),er(5120,td,(function(t){return[t]}),[cd]),er(4608,rd,rd,[]),er(6144,id,null,[rd]),er(4608,od,od,[id]),er(6144,Fh,null,[od]),er(4608,Nh,hd,[Fh,on]),er(4608,Qh,Qh,[Nh]),er(4608,r_,r_,[Ub,Yb,Tn,n_,qb,on,Vo,jl,nw,[2,il]]),er(5120,o_,s_,[r_]),er(5120,l_,u_,[r_]),er(4608,yE,yE,[]),er(4608,ob,ob,[]),er(5120,hw,dw,[r_]),er(135680,pw,pw,[r_,on,[2,il],[2,cw],hw,[3,pw],Yb]),er(4608,R_,R_,[]),er(5120,Z_,X_,[r_]),er(5120,aC,lC,[r_]),er(4608,qy,eb,[[2,Wy],Rg]),er(5120,SC,kC,[r_]),er(5120,fx,mx,[r_]),er(5120,hC,dC,[[3,hC]]),er(5120,QC,JC,[[3,QC]]),er(5120,nx,ix,[[3,nx]]),er(4608,Zv,Zv,[jl,Vo,vv,qv]),er(5120,bo,(function(t,e){return[(n=t,i=e,()=>{if(Rl(i)){const t=Array.from(n.querySelectorAll("[class*=flex-layout-]")),e=/\bflex-layout-.+?\b/g;t.forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}})];var n,i}),[jl,yo]),er(4608,uh,uh,[]),er(4608,Vx,Vx,[]),er(4608,eE,eE,[Vx]),er(1073742336,Il,Il,[]),er(1024,ue,Ju,[]),er(1024,ho,(function(t){return[(e=t,nu("probe",ru),nu("coreTokens",Object.assign({},iu,(e||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>ru)];var e}),[[2,ts]]),er(512,po,po,[[2,ho]]),er(131584,os,os,[Vo,_o,on,ue,Tn,po]),er(1073742336,ws,ws,[os]),er(1073742336,tc,tc,[[3,tc]]),er(1073742336,hP,hP,[]),er(1073742336,lh,lh,[]),er(1073742336,ch,ch,[]),er(1073742336,dd,dd,[]),er(1073742336,pd,pd,[]),er(1073742336,Eg,Eg,[[2,wg],[2,hg]]),er(1073742336,Ox,Ox,[]),er(1073742336,iw,iw,[]),er(1073742336,Uy,Uy,[[2,zy],[2,Lu]]),er(1073742336,Ng,Ng,[]),er(1073742336,wb,wb,[]),er(1073742336,Cb,Cb,[]),er(1073742336,xb,xb,[]),er(1073742336,jb,jb,[]),er(1073742336,mv,mv,[]),er(1073742336,a_,a_,[]),er(1073742336,c_,c_,[]),er(1073742336,wE,wE,[]),er(1073742336,Fy,Fy,[]),er(1073742336,h_,h_,[]),er(1073742336,y_,y_,[]),er(1073742336,b_,b_,[]),er(1073742336,__,__,[]),er(1073742336,w_,w_,[]),er(1073742336,C_,C_,[]),er(1073742336,E_,E_,[]),er(1073742336,fw,fw,[]),er(1073742336,tw,tw,[]),er(1073742336,mw,mw,[]),er(1073742336,gw,gw,[]),er(1073742336,vw,vw,[]),er(1073742336,Pw,Pw,[]),er(1073742336,db,db,[]),er(1073742336,Dw,Dw,[]),er(1073742336,Hw,Hw,[]),er(1073742336,Ww,Ww,[]),er(1073742336,Qw,Qw,[]),er(1073742336,sC,sC,[]),er(1073742336,uC,uC,[]),er(1073742336,cC,cC,[]),er(1073742336,ib,ib,[]),er(1073742336,rb,rb,[]),er(1073742336,PC,PC,[]),er(1073742336,bx,bx,[]),er(1073742336,pC,pC,[]),er(1073742336,fC,fC,[]),er(1073742336,xC,xC,[]),er(1073742336,EC,EC,[]),er(1073742336,OC,OC,[]),er(1073742336,MC,MC,[]),er(1073742336,RC,RC,[]),er(1073742336,NC,NC,[]),er(1073742336,KC,KC,[]),er(1073742336,tx,tx,[]),er(1073742336,ex,ex,[]),er(1073742336,rx,rx,[]),er(1073742336,Kv,Kv,[]),er(1073742336,ox,ox,[]),er(1073742336,sx,sx,[]),er(1073742336,cx,cx,[]),er(1073742336,Xv,Xv,[]),er(1073742336,Rx,Rx,[]),er(1073742336,iD,iD,[]),er(1073742336,dA,dA,[]),er(1073742336,yA,yA,[]),er(1073742336,bA,bA,[]),er(1073742336,_A,_A,[[2,lD],yo]),er(1073742336,hh,hh,[]),er(1073742336,Hx,Hx,[]),er(1073742336,qx,qx,[]),er(1073742336,aE,aE,[]),er(1073742336,lE,lE,[on]),er(256,nn,!0,[]),er(256,cP,"BrowserAnimations",[]),er(256,sd,"XSRF-TOKEN",[]),er(256,ad,"X-XSRF-TOKEN",[]),er(256,x_,{separatorKeyCodes:[Qv]},[]),er(256,Yy,nb,[])])}));(function(){if(he)throw new Error("Cannot enable prod mode after platform setup.");ce=!1})(),Qu().bootstrapModuleFactory(tI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}});
