<!-- <h3>
  <mat-icon>settings_input_antenna</mat-icon>

  Active Data Flows
</h3>

<mat-list *ngIf="State">
  <ng-container *ngIf="!State.IsCreating">
    <mat-list-item *ngFor="let dataFlow of State.DataFlows">
      <div fxFlex="70%">
        <div matLine>
          <h4>
            {{ dataFlow.Name }} - <small>{{ dataFlow.Description }}</small>
          </h4>
        </div>
      </div>

      <div fxFlex="30%">
        <a
          mat-raised-button
          color="accent"
          (click)="SetActiveDataFlow(dataFlow)"
        >
          <mat-icon>settings</mat-icon> Manage
        </a>

        <a mat-icon-button color="warn" (click)="DeleteDataFlow(dataFlow)">
          <mat-icon>delete</mat-icon>
        </a>
      </div>
    </mat-list-item>

    <mat-list-item *ngIf="!State?.DataFlows || State.DataFlows.length == 0">
      <h4 mat-line>No active data flows. Create a new data flow now.</h4>
    </mat-list-item>
  </ng-container>

  <ng-container *ngIf="State.IsCreating">
    <form [formGroup]="CreateNewDataFlowForm" (ngSubmit)="CreateNewDataFlow()">
      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Name"
            formControlName="name"
            required
          />
        </mat-form-field>
      </div>

      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Description"
            formControlName="desc"
            required
          />
        </mat-form-field>
      </div>

      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Lookup"
            formControlName="lookup"
            required
            maxlength="4"
          />
          <mat-icon
            matSuffix
            matTooltip="Lookups are a 1 to 4 length alpha lower-case representation of the current domain object.  This format helps keep your flow agnostic to any specific service provider.  When naming lookups, use something that is recognizable and relevant based on the asset you are creating"
          >
            info
          </mat-icon>

          <mat-error *ngIf="DataFlowLookupHasError">
            {{ DataFlowLookupErrorMessage }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="spread">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!CreateNewDataFlowForm.valid"
        >
          Create Data Flow
        </button>

        <a mat-raised-button color="warn" (click)="ToggleIsCreating()"
          ><mat-icon>delete</mat-icon> Cancel</a
        >
      </div>
    </form>
  </ng-container>

  <hr />

  <br />

  <mat-list-item>
    <a
      mat-raised-button
      color="accent"
      (click)="ToggleIsCreating()"
      *ngIf="!State.IsCreating"
    >
      Create New Data Flow
    </a>
  </mat-list-item>
</mat-list> -->
<mat-card>
  <mat-card-header>
    <div mat-card-avatar>
      <mat-icon color="primary" class="title-icon">settings_input_antenna</mat-icon>
    </div>
    <mat-card-title class="paragraph-title">Active Data Flows</mat-card-title>
    <!-- <mat-card-subtitle class="plain-text">SubTitle</mat-card-subtitle> -->
  </mat-card-header>
  <mat-card-content>
      <div fxLayout="row" fxLayoutAlign="start center">
          <div fxFlex>
            <div 
              *ngFor="let dataFlow of State.DataFlows; last as last" 
              [ngClass]="{'health-error-row-background' : dataFlow.Name === 'Test'}">
              <div 
                style="margin: 10px 0 10px 0"
                class="margin-top-3 margin-bottom-3"
                fxFlex 
                fxLayout.gt-md="row"
                fxLayout.lt-md="column"
                fxLayoutGap="10px"
                fxLayoutAlign="start">

                <!--Health, Name, Description-->
                <div fxLayout="row" fxLayoutGap="10px">
                  <div>
                    <a 
                      mat-button
                      [class.mat-raised-button]="dataFlow.Name === 'Test'"
                      [matTooltip]="HealthStatus(dataFlow)">
                        <mat-icon
                          [ngClass]="{'health-ok': dataFlow.Name !== 'Test', 
                                      'health-error': dataFlow.Name === 'Test'}">
                          verified_user
                        </mat-icon>
                    </a>
                  </div>

                  <div fxLayout="column" fxLayoutGap="10px">
                    <div class="plain-text-bold">
                      {{ dataFlow.Name }}
                    </div>
                    <div class="plain-text">
                      {{ dataFlow.Description }}
                    </div>
                  </div>
                </div>
               <!--^^^^^^^ Health, Name, Description ^^^^^^^-->

                <!--Action Buttons-->
                <div 
                  fxFlex 
                  fxLayout.gt-sm="row"
                  fxLayout.lt-sm="column" 
                  fxLayoutAlign="end">
                  <a
                    mat-button
                    color="accent"
                    [matTooltip]="'Manage - ' + dataFlow.Name"
                    (click)="SetActiveDataFlow(dataFlow)">
                      <mat-icon>
                        settings
                      </mat-icon>
                  </a>
                  <a
                    mat-button
                    color="accent"
                    matTooltip="Launch in Azure">
                    <mat-icon>
                      launch
                    </mat-icon>
                  </a>
                  <a 
                    mat-button 
                    color="warn" 
                    [matTooltip]="'Delete - ' + dataFlow.Name"
                    (click)="DeleteDataFlow(dataFlow)">
                    <mat-icon>
                      delete
                    </mat-icon>
                  </a>
                </div>
                <!--^^^^^^^ Action Buttons ^^^^^^^-->

              </div>
              <!-- <mat-divider *ngIf="!last"></mat-divider> -->
              <mat-divider></mat-divider>
            </div>
          </div>
        </div>
  </mat-card-content>
</mat-card> 









<!-- <h3>
  <mat-icon>settings_input_antenna</mat-icon>

  Active Data Flows
</h3> -->

<!-- <mat-list *ngIf="State"> -->
  <!-- <ng-container *ngIf="!State.IsCreating">
    <mat-list-item *ngFor="let dataFlow of State.DataFlows">
      <div fxFlex="70%">
        <div matLine>
          <h4>
            {{ dataFlow.Name }} - <small>{{ dataFlow.Description }}</small>
          </h4>
        </div>
      </div>

      <div fxFlex="30%">
        <a
          mat-raised-button
          color="accent"
          (click)="SetActiveDataFlow(dataFlow)"
        >
          <mat-icon>settings</mat-icon> Manage
        </a>

        <a mat-icon-button color="warn" (click)="DeleteDataFlow(dataFlow)">
          <mat-icon>delete</mat-icon>
        </a>
      </div>
    </mat-list-item>

    <mat-list-item *ngIf="!State?.DataFlows || State.DataFlows.length == 0">
      <h4 mat-line>No active data flows. Create a new data flow now.</h4>
    </mat-list-item>
  </ng-container>
 -->




  <!-- <ng-container *ngIf="State.IsCreating">
    <form [formGroup]="CreateNewDataFlowForm" (ngSubmit)="CreateNewDataFlow()">
      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Name"
            formControlName="name"
            required
          />
        </mat-form-field>
      </div>

      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Description"
            formControlName="desc"
            required
          />
        </mat-form-field>
      </div>

      <div>
        <mat-form-field style="width: 100%;" class="disable-autofill-background-default">
          <input
            type="text"
            matInput
            placeholder="Lookup"
            formControlName="lookup"
            required
            maxlength="4"
          />
          <mat-icon
            matSuffix
            matTooltip="Lookups are a 1 to 4 length alpha lower-case representation of the current domain object.  This format helps keep your flow agnostic to any specific service provider.  When naming lookups, use something that is recognizable and relevant based on the asset you are creating"
          >
            info
          </mat-icon>

          <mat-error *ngIf="DataFlowLookupHasError">
            {{ DataFlowLookupErrorMessage }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="spread">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!CreateNewDataFlowForm.valid"
        >
          Create Data Flow
        </button>

        <a mat-raised-button color="warn" (click)="ToggleIsCreating()"
          ><mat-icon>delete</mat-icon> Cancel</a
        >
      </div>
    </form>
  </ng-container> -->

  <!-- <hr />

  <br /> -->

  <!-- <mat-list-item>
    <a
      mat-raised-button
      color="accent"
      (click)="ToggleIsCreating()"
      *ngIf="!State.IsCreating"
    >
      Create New Data Flow
    </a>
  </mat-list-item> -->
<!-- </mat-list> -->
